<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>INapSystemHealthAgentCallback::ProcessSoHResponse method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: INapSystemHealthAgentCallback ProcessSoHResponse method (NapSystemHealthAgent.h)
description: Is called when the NapAgent receives an SoHResponse destined for this health agent.
ms.assetid: 860b1012-7df8-456f-8f21-eb0e1abd2b3b
keywords:</p>
<ul>
<li>ProcessSoHResponse method NAP</li>
<li>ProcessSoHResponse method NAP , INapSystemHealthAgentCallback interface</li>
<li>INapSystemHealthAgentCallback interface NAP , ProcessSoHResponse method
topic_type:</li>
<li>apiref
api_name:</li>
<li>INapSystemHealthAgentCallback.ProcessSoHResponse
api_location:</li>
<li>NapSystemHealthAgent.h
api_type:</li>
<li>COM
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>INapSystemHealthAgentCallback::ProcessSoHResponse method</h1>
<blockquote>
<p>[!Note]<br />
The Network Access Protection platform is not available starting with Windows 10</p>
</blockquote>
<p>The <strong>INapSystemHealthAgentCallback::ProcessSoHResponse</strong> method is called when the NapAgent receives an <a href="/windows/win32/api/naptypes/ns-naptypes-soh"><strong>SoHResponse</strong></a> destined for this health agent.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT ProcessSoHResponse(
  [in] INapSystemHealthAgentRequest *request
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>request</em> [in]</p>
<!-- raw HTML omitted -->
<p>A COM pointer to a <a href="inapsystemhealthagentrequest.html"><strong>INapSystemHealthAgentRequest</strong></a> object that identifies the request object.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>This method can return one of these values.</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>S_OK</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Indicates success.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>NAP_E_INVALID_PACKET</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Returned by this implementation if the response is not in the correct format.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>This callback method is declared by the NAP system and is to be implemented by the SHA writer.</p>
<p>When the NapAgent receives an <a href="/windows/win32/api/naptypes/ns-naptypes-soh"><strong>SoHResponse</strong></a> destined for this health agent, it invokes this method. The health agent must query the SoHResponse from the request object. It must not hold references to the request object once this call has completed.</p>
<p>The <strong>INapSystemHealthAgentCallback::ProcessSoHResponse</strong> method must not block. If any fix-up processing is required, any implementation of <strong>ProcessSoHResponse</strong> must start a new thread to perform fix-up processing. The NapAgent must call <a href="inapsystemhealthagentcallback-getfixupinfo-method.html"><strong>INapSystemHealthAgentCallBack::GetFixupInfo</strong></a> to determine the fix-up status of the SHA.</p>
<p>This method must return <strong>NAP_E_INVALID_PACKET</strong> if the response is not in the correct format.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2008 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->NapSystemHealthAgent.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>IDL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->NapSystemHealthAgent.idl<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="inapsystemhealthagentcallback.html"><strong>INapSystemHealthAgentCallback</strong></a></p>
<!-- raw HTML omitted -->
</body>
