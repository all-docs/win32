<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WM_CTLCOLORSCROLLBAR message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: WM_CTLCOLORSCROLLBAR message (Winuser.h)
description: The WM_CTLCOLORSCROLLBAR message is sent to the parent window of a scroll bar control when the control is about to be drawn.
ms.assetid: 35832a23-96f1-42cb-a986-06726bf2a124
keywords:</p>
<ul>
<li>WM_CTLCOLORSCROLLBAR message Windows Controls
topic_type:</li>
<li>apiref
api_name:</li>
<li>WM_CTLCOLORSCROLLBAR
api_location:</li>
<li>Winuser.h
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>WM_CTLCOLORSCROLLBAR message</h1>
<p>The <strong>WM_CTLCOLORSCROLLBAR</strong> message is sent to the parent window of a scroll bar control when the control is about to be drawn. By responding to this message, the parent window can use the display context handle to set the background color of the scroll bar control.</p>
<p>A window receives this message through its <a href="/windows/win32/api/winuser/nc-winuser-wndproc"><em>WindowProc</em></a> function.</p>
<pre lang="C++"><code>WM_CTLCOLORSCROLLBAR

    WPARAM wParam
    LPARAM lParam; 
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>Handle to the device context for the scroll bar control.</p>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>Handle to the scroll bar.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>If an application processes this message, it must return the handle to a brush. The system uses the brush to paint the background of the scroll bar control.</p>
<h2>Remarks</h2>
<p>If the application returns a brush that it created (for example, by using the <a href="/windows/desktop/api/wingdi/nf-wingdi-createsolidbrush"><strong>CreateSolidBrush</strong></a> or <a href="/windows/desktop/api/wingdi/nf-wingdi-createbrushindirect"><strong>CreateBrushIndirect</strong></a> function), the application must free the brush. If the application returns a system brush (for example, one that was retrieved by the <a href="/windows/desktop/api/wingdi/nf-wingdi-getstockobject"><strong>GetStockObject</strong></a> or <a href="/windows/desktop/api/winuser/nf-winuser-getsyscolorbrush"><strong>GetSysColorBrush</strong></a> function), the application does not need to free the brush.</p>
<p>By default, the <a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a> function selects the default system colors for the scroll bar control.</p>
<p>The <strong>WM_CTLCOLORSCROLLBAR</strong> message is never sent between threads; it is only sent within the same thread.</p>
<p>If a dialog box procedure handles this message, it should cast the desired return value to a <strong>INT_PTR</strong> and return the value directly. If the dialog box procedure returns <strong>FALSE</strong>, then default message handling is performed. The DWL_MSGRESULT value set by the <a href="/windows/desktop/api/winuser/nf-winuser-setwindowlonga"><strong>SetWindowLong</strong></a> function is ignored.</p>
<p>The <strong>WM_CTLCOLORSCROLLBAR</strong> message is used only by child scroll bar controls. Scrollbars attached to a window (WS_SCROLL and WS_VSCROLL) do not generate this message. To customize the appearance of scrollbars attached to a window, use the flat scroll bar functions.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Winuser.h (include Windows.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><strong>Reference</strong></p>
<!-- raw HTML omitted -->
<p><a href="wm-ctlcolorbtn.html"><strong>WM_CTLCOLORBTN</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="wm-ctlcoloredit.html"><strong>WM_CTLCOLOREDIT</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="wm-ctlcolorlistbox.html"><strong>WM_CTLCOLORLISTBOX</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="wm-ctlcolorstatic.html"><strong>WM_CTLCOLORSTATIC</strong></a></p>
<!-- raw HTML omitted -->
<p><strong>Other Resources</strong></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/wingdi/nf-wingdi-realizepalette"><strong>RealizePalette</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/wingdi/nf-wingdi-selectpalette"><strong>SelectPalette</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/dlgbox/wm-ctlcolordlg"><strong>WM_CTLCOLORDLG</strong></a></p>
<!-- raw HTML omitted -->
</body>
