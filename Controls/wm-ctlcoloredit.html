<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WM_CTLCOLOREDIT message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: WM_CTLCOLOREDIT message (Winuser.h)
description: An edit control that is not read-only or disabled sends the WM_CTLCOLOREDIT message to its parent window when the control is about to be drawn.
ms.assetid: 2294e3b8-00a7-43ef-b20a-fe0e46764055
keywords:</p>
<ul>
<li>WM_CTLCOLOREDIT message Windows Controls
topic_type:</li>
<li>apiref
api_name:</li>
<li>WM_CTLCOLOREDIT
api_location:</li>
<li>Winuser.h
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>WM_CTLCOLOREDIT message</h1>
<p>An edit control that is not read-only or disabled sends the <strong>WM_CTLCOLOREDIT</strong> message to its parent window when the control is about to be drawn. By responding to this message, the parent window can use the specified device context handle to set the text and background colors of the edit control.</p>
<pre lang="C++"><code>WM_CTLCOLOREDIT

    WPARAM wParam;
    LPARAM lParam; 
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>A handle to the device context for the edit control window.</p>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>A handle to the edit control.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>If an application processes this message, it must return the handle of a brush. The system uses the brush to paint the background of the edit control.</p>
<h2>Remarks</h2>
<p>If the application returns a brush that it created (for example, by using the <a href="/windows/desktop/api/wingdi/nf-wingdi-createsolidbrush"><strong>CreateSolidBrush</strong></a> or <a href="/windows/desktop/api/wingdi/nf-wingdi-createbrushindirect"><strong>CreateBrushIndirect</strong></a> function), the application must free the brush. If the application returns a system brush (for example, one that was retrieved by the <a href="/windows/desktop/api/wingdi/nf-wingdi-getstockobject"><strong>GetStockObject</strong></a> or <a href="/windows/desktop/api/winuser/nf-winuser-getsyscolorbrush"><strong>GetSysColorBrush</strong></a> function), the application does not need to free the brush.</p>
<p>By default, the <a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a> function selects the default system colors for the edit control.</p>
<p>Read-only or disabled edit controls do not send the <strong>WM_CTLCOLOREDIT</strong> message; instead, they send the <a href="wm-ctlcolorstatic.html"><strong>WM_CTLCOLORSTATIC</strong></a> message.</p>
<p>The <strong>WM_CTLCOLOREDIT</strong> message is never sent between threads, it is only sent within the same thread.</p>
<p>If a dialog box procedure handles this message, it should cast the desired return value to a <strong>INT_PTR</strong> and return the value directly. If the dialog box procedure returns <strong>FALSE</strong>, then default message handling is performed. The DWL_MSGRESULT value set by the <a href="/windows/desktop/api/winuser/nf-winuser-setwindowlonga"><strong>SetWindowLong</strong></a> function is ignored.</p>
<p><strong>Rich Edit:</strong> This message is not supported. To set the background color for a rich edit control, use the <a href="em-setbkgndcolor.html"><strong>EM_SETBKGNDCOLOR</strong></a> message.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Winuser.h (include Windows.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><strong>Reference</strong></p>
<!-- raw HTML omitted -->
<p><a href="em-setbkgndcolor.html"><strong>EM_SETBKGNDCOLOR</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="wm-ctlcolorstatic.html"><strong>WM_CTLCOLORSTATIC</strong></a></p>
<!-- raw HTML omitted -->
<p><strong>Other Resources</strong></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/wingdi/nf-wingdi-realizepalette"><strong>RealizePalette</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/wingdi/nf-wingdi-selectpalette"><strong>SelectPalette</strong></a></p>
<!-- raw HTML omitted -->
</body>
