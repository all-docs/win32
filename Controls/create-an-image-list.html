<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>How to Create an Image List</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: How to Create an Image List
description: This topic demonstrates how to use the ImageList_Create function to create an image list.
ms.assetid: 6092C555-B5B6-49DB-B07B-684EDB890761
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>How to Create an Image List</h1>
<p>This topic demonstrates how to use the <a href="/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create"><strong>ImageList_Create</strong></a> function to create an image list.</p>
<h2>What you need to know</h2>
<h3>Technologies</h3>
<ul>
<li><a href="window-controls.html">Windows Controls</a></li>
</ul>
<h3>Prerequisites</h3>
<ul>
<li>C/C++</li>
<li>Windows User Interface Programming</li>
</ul>
<h2>Instructions</h2>
<p>You create an image list by calling the <a href="/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create"><strong>ImageList_Create</strong></a> function. The parameters include the type of image list to create, the dimensions of each image, and the number of images that you intend to add to the list.</p>
<p>The following example creates a masked image list and uses the <a href="/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon"><strong>ImageList_AddIcon</strong></a> macro to add two icons to the list.</p>
<pre lang="C++"><code>// AddIconsToImageList - creates a masked image list and adds some 
// icons to it. 
// Returns the handle to the new image list. 
// hinst - handle to the application instance. 
// 
// Global variables and constants 
//     g_nBird and g_nTree - indexes of the images. 
//     cx_icon and cy_icon - width and height of the icon. 
//     num_icons - number of icons to add to the image list. 
extern int g_nBird, g_nTree; 
 
#define CX_ICON  32 
#define CY_ICON  32 
#define NUM_ICONS 3 
 
HIMAGELIST AddIconsToImageList(HINSTANCE hinst) 
{ 
    HIMAGELIST himlIcons;  // handle to new image list 
    HICON hicon;           // handle to icon 
 
    // Ensure that the common control DLL is loaded. 
    InitCommonControls(); 

    // Create a masked image list large enough to hold the icons. 
    himlIcons = ImageList_Create(CX_ICON, CY_ICON, ILC_MASK, NUM_ICONS, 0); 
 
    // Load the icon resources, and add the icons to the image list. 
    hicon = LoadIcon(hinst, MAKEINTRESOURCE(IDI_BIRD)); 
    g_nBird = ImageList_AddIcon(himlIcons, hicon); 
 
    hicon = LoadIcon(hinst, MAKEINTRESOURCE(IDI_TREE)); 
    g_nTree = ImageList_AddIcon(himlIcons, hicon); 
 
    return himlIcons; 
} 
</code></pre>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="bumper-image-lists-image-lists-reference.html">Image Lists Reference</a></p>
<!-- raw HTML omitted -->
<p><a href="image-lists.html">About Image Lists</a></p>
<!-- raw HTML omitted -->
<p><a href="using-image-lists.html">Using Image Lists</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
