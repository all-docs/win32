<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>How to Use Tree-View Infotips</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: How to Use Tree-View Infotips
description: When you apply the TVS_INFOTIP style to a tree-view control, it generates TVN_GETINFOTIP notifications when the cursor is over an item in the tree view. By responding to this notification, you can set the text that appears in the infotip.
ms.assetid: 779BEAC1-877E-43DD-AE1C-6D71C3013384
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>How to Use Tree-View Infotips</h1>
<p>When you apply the <a href="tree-view-control-window-styles.html"><strong>TVS_INFOTIP</strong></a> style to a tree-view control, it generates <a href="tvn-getinfotip.html">TVN_GETINFOTIP</a> notifications when the cursor is over an item in the tree view. By responding to this notification, you can set the text that appears in the infotip.</p>
<h2>What you need to know</h2>
<h3>Technologies</h3>
<ul>
<li><a href="window-controls.html">Windows Controls</a></li>
</ul>
<h3>Prerequisites</h3>
<ul>
<li>C/C++</li>
<li>Windows User Interface Programming</li>
</ul>
<h2>Instructions</h2>
<h3>Use Tree-View Infotips</h3>
<p>The following example code shows how an application might respond to the notification. For simplicity, the example just copies the text for the item to the infotip.</p>
<pre><code>  case WM_NOTIFY:
    switch (((LPNMHDR) lParam)-&gt;code)
    {
    case TVN_GETINFOTIP:
        {
          LPNMTVGETINFOTIP pTip = (LPNMTVGETINFOTIP)lParam;
          HWND hTree            = GetDlgItem(hDlg, IDC_TREE1);
          HTREEITEM item        = pTip-&gt;hItem;

          // Get the text for the item.
          TVITEM tvitem;
          tvitem.mask       = TVIF_TEXT;
          tvitem.hItem      = item;
          TCHAR temp[1024];
          tvitem.pszText    = infoTipBuf;
          tvitem.cchTextMax = sizeof(temp) / sizeof(TCHAR);
          TreeView_GetItem(hTree, &amp;tvitem);

          // Copy the text to the infotip.
          wcscpy_s(pTip-&gt;pszText, pTip-&gt;cchTextMax, tvitem.pszText);
          break;
        }
      }
      return TRUE;
</code></pre>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="using-treeview.html">Using Tree-View Controls</a></p>
<!-- raw HTML omitted -->
<p><a href="https://support.microsoft.com/default.aspx?scid=kb;EN-US;q248496">CustDTv sample illustrates custom draw in a Tree-View control</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
