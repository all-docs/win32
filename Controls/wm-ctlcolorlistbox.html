<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WM_CTLCOLORLISTBOX message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: WM_CTLCOLORLISTBOX message (Winuser.h)
description: Sent to the parent window of a list box before the system draws the list box. By responding to this message, the parent window can set the text and background colors of the list box by using the specified display device context handle.
ms.assetid: e128e77f-e966-44c4-9f0e-efcf421b6c82
keywords:</p>
<ul>
<li>WM_CTLCOLORLISTBOX message Windows Controls
topic_type:</li>
<li>apiref
api_name:</li>
<li>WM_CTLCOLORLISTBOX
api_location:</li>
<li>Winuser.h
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>WM_CTLCOLORLISTBOX message</h1>
<p>Sent to the parent window of a list box before the system draws the list box. By responding to this message, the parent window can set the text and background colors of the list box by using the specified display device context handle.</p>
<pre lang="C++"><code>WM_CTLCOLORLISTBOX

    WPARAM wParam;
    LPARAM lParam; 
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>Handle to the device context for the list box.</p>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>Handle to the list box.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>If an application processes this message, it must return a handle to a brush. The system uses the brush to paint the background of the list box.</p>
<h2>Remarks</h2>
<p>By default, the <a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a> function selects the default system colors for the list box.</p>
<p>The <strong>WM_CTLCOLORLISTBOX</strong> message is never sent between threads. It is sent only within one thread.</p>
<p>If a dialog box procedure handles this message, it should cast the desired return value to a <strong>INT_PTR</strong> and return the value directly. If the dialog box procedure returns <strong>FALSE</strong>, then default message handling is performed. The <strong>DWL_MSGRESULT</strong> value set by the <a href="/windows/desktop/api/winuser/nf-winuser-setwindowlonga"><strong>SetWindowLong</strong></a> function is ignored.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Winuser.h (include Windows.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><strong>Other Resources</strong></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/wingdi/nf-wingdi-realizepalette"><strong>RealizePalette</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/wingdi/nf-wingdi-selectpalette"><strong>SelectPalette</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a></p>
<!-- raw HTML omitted -->
</body>
