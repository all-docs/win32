<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>BCM_GETIDEALSIZE message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: BCM_GETIDEALSIZE message (Commctrl.h)
description: Gets the size of the button that best fits its text and image, if an image list is present. You can send this message explicitly or use the Button_GetIdealSize macro.
ms.assetid: c1bc2043-bf1a-4129-a005-f04048c4c1db
keywords:</p>
<ul>
<li>BCM_GETIDEALSIZE message Windows Controls
topic_type:</li>
<li>apiref
api_name:</li>
<li>BCM_GETIDEALSIZE
api_location:</li>
<li>Commctrl.h
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>BCM_GETIDEALSIZE message</h1>
<p>Gets the size of the button that best fits its text and image, if an image list is present. You can send this message explicitly or use the <a href="/windows/desktop/api/Commctrl/nf-commctrl-button_getidealsize"><strong>Button_GetIdealSize</strong></a> macro.</p>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>Not used; must be zero.</p>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>A pointer to a <a href="/windows/win32/api/windef/ns-windef-size"><strong>SIZE</strong></a> structure that receives the desired size of the button, including text and image list, if present. The calling application is responsible for allocating this structure. Set the <strong>cx</strong> and <strong>cy</strong> members to zero to have the ideal height and width returned in the <strong>SIZE</strong> structure. To specify a button width, set the <strong>cx</strong> member to the desired button width. The system will calculate the ideal height for this width and return it in the <strong>cy</strong> member.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>If the message succeeds, it returns <strong>TRUE</strong>. Otherwise it returns <strong>FALSE</strong>.</p>
<h2>Remarks</h2>
<blockquote>
<p>[!Note]<br />
If no special button width is desired, then you must set both members of <a href="/windows/win32/api/windef/ns-windef-size"><strong>SIZE</strong></a> to zero to calculate and return the ideal height and width. If the value of the <strong>cx</strong> member is greater than zero, then this value is considered the desired button width, and the ideal height for this width is calculated and returned in the <strong>cy</strong> member.</p>
</blockquote>
<p>This message is most applicable to PushButtons. When sent to a PushButton, the message retrieves the bounding rectangle required to display the button's text. Additionally, if the PushButton has an image list, the bounding rectangle is also sized to include the button's image.</p>
<p>When sent to a button of any other type, the size of the control's window rectangle is retrieved.</p>
<blockquote>
<p>[!Note]<br />
To use this message, you must provide a manifest specifying Comclt32.dll version 6.0. For more information on manifests, see <a href="cookbook-overview.html">Enabling Visual Styles</a>.</p>
</blockquote>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Commctrl.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
</body>
