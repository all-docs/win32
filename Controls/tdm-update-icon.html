<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>TDM_UPDATE_ICON message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: TDM_UPDATE_ICON message (Commctrl.h)
description: Refreshes the icon of a task dialog.
ms.assetid: 1094d9ca-90b4-4ba6-a14b-0d4e96243a34
keywords:</p>
<ul>
<li>TDM_UPDATE_ICON message Windows Controls
topic_type:</li>
<li>apiref
api_name:</li>
<li>TDM_UPDATE_ICON
api_location:</li>
<li>Commctrl.h
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>TDM_UPDATE_ICON message</h1>
<p>Refreshes the icon of a task dialog.</p>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em> [in]</p>
<!-- raw HTML omitted -->
<p>Indicates which icon element to update. This parameter must be one of the following values:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>TDIE_ICON_MAIN</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Main icon.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>TDIE_ICON_FOOTER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Footer icon.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><em>lParam</em> [in]</p>
<!-- raw HTML omitted -->
<p>A pointer to a string (PCWSTR) or handle to an icon (HICON) to display. If <em>lParam</em> is <strong>NULL</strong>, no icon is displayed, regardless of the value of <em>wParam</em>.</p>
<p>If the value of <em>wParam</em> is TDIE_ICON_MAIN and the TDF_USE_HICON_MAIN flag is set on the <strong>dwFlags</strong> member of the <a href="/windows/desktop/api/Commctrl/ns-commctrl-taskdialogconfig"><strong>TASKDIALOGCONFIG</strong></a> structure used to create the task dialog, <em>lParam</em> must contain a handle to an icon (HICON) to display.</p>
<p>If the value of <em>wParam</em> is TDIE_ICON_FOOTER and the TDF_USE_HICON_FOOTER flag is set on the <strong>dwFlags</strong> member of the <a href="/windows/desktop/api/Commctrl/ns-commctrl-taskdialogconfig"><strong>TASKDIALOGCONFIG</strong></a> structure used to create the task dialog, <em>lParam</em> must contain a handle to an icon (HICON) to display.</p>
<p>If the TDF_USE_HICON_MAIN or TDF_USE_HICON_FOOTER flags are <strong>not</strong> set on the <strong>dwFlags</strong> member, <em>lParam</em> must point to a null-terminated, Unicode string (PCWSTR) that contains a valid resource identifier passed through the <a href="/windows/desktop/api/winuser/nf-winuser-makeintresourcea"><strong>MAKEINTRESOURCE</strong></a> macro. The icon is displayed based on the value of <em>wParam</em>: if the value is TDIE_ICON_MAIN, the icon is displayed in the header; if the value is TDIE_ICON_FOOTER, the icon is displayed in the footer. The resource must be either from the application's resource module (specified in the <strong>hInstance</strong> member of the <a href="/windows/desktop/api/Commctrl/ns-commctrl-taskdialogconfig"><strong>TASKDIALOGCONFIG</strong></a> structure), or if <strong>hInstance</strong> is <strong>NULL</strong>, from the system's resource module (imageres.dll). To identify a system resource, use a valid system identifier passed through the <strong>MAKEINTRESOURCE</strong> macro or one of the following predefined values from commctrl.h:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>TD_ERROR_ICON</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A stop sign icon.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>TD_WARNING_ICON</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>An exclamation point icon.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>TD_INFORMATION_ICON</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A lowercase letter &quot;i&quot; in a circle icon.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>TD_SHIELD_ICON</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A security shield icon.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>The return value is ignored.</p>
<h2>Remarks</h2>
<p>The layout of the task dialog with the icon may fail and this may not be reflected in the return value. A return value of S_OK reflects only that the task dialog received the message and attempted to process it. If the layout of the task dialog fails, the dialog will close and an <strong>HRESULT</strong> code is returned at the registered callback function. For more information on the callback function syntax, see <a href="/windows/win32/api/commctrl/nc-commctrl-pftaskdialogcallback"><em>TaskDialogCallbackProc</em></a>.</p>
<p>If the task dialog is created without a footer (that is, the appropriate footer members of the <a href="/windows/desktop/api/Commctrl/ns-commctrl-taskdialogconfig"><strong>TASKDIALOGCONFIG</strong></a> structure used to create the task dialog are <strong>NULL</strong>) and this message is sent, a footer is not dynamically added to the task dialog. The same is true for sending this message to update a header icon when a task dialog is created without a header. To add a header or footer at run time, use the <a href="tdm-navigate-page.html"><strong>TDM_NAVIGATE_PAGE</strong></a> functionality.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2008 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Commctrl.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
</body>
