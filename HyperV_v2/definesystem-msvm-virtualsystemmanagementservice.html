<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>DefineSystem method of the Msvm_VirtualSystemManagementService class</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Creates a new virtual machine instance.
ms.assetid: 15BC967D-F392-45A6-ACF6-5C2F2334AAE6
title: DefineSystem method of the Msvm_VirtualSystemManagementService class
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>Msvm_VirtualSystemManagementService.DefineSystem
api_type:</li>
<li>COM
api_location:</li>
<li>vmms.exe</li>
</ul>
<hr />
<h1>DefineSystem method of the Msvm_VirtualSystemManagementService class</h1>
<p>Creates a new virtual machine instance. Properties that are not specified will be populated with default values.</p>
<h2>Syntax</h2>
<pre lang="mof"><code>uint32 DefineSystem(
  [in]  string                           SystemSettings,
  [in]  string                           ResourceSettings[],
  [in]  CIM_VirtualSystemSettingData REF ReferenceConfiguration,
  [out] CIM_ComputerSystem           REF ResultingSystem,
  [out] CIM_ConcreteJob              REF Job
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>SystemSettings</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>string</strong></p>
<p>An embedded instance of the <a href="msvm-virtualsystemsettingdata.html"><strong>Msvm_VirtualSystemSettingData</strong></a> class that is used to define the attributes of the virtual machine to be created. This parameter is required.</p>
<!-- raw HTML omitted -->
<p><em>ResourceSettings</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>string[]</strong></p>
<p>A number of embedded instances of the <a href="msvm-resourceallocationsettingdata.html"><strong>Msvm_ResourceAllocationSettingData</strong></a> class (or derived classes thereof). Together these instances describe the virtual resources of the virtual machine. A default set of devices will be created for the virtual machine regardless of whether this parameter is set. For example, processor and memory are automatically created and configured with default values.</p>
<!-- raw HTML omitted -->
<p><em>ReferenceConfiguration</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>CIM_VirtualSystemSettingData</strong></p>
<p>A reference to an instance of the <a href="msvm-virtualsystemsettingdata.html"><strong>Msvm_VirtualSystemSettingData</strong></a> class that is the top level object of a reference virtual machine configuration. The reference configuration is used to complement the configuration of the new virtual machine if the <em>SystemSettings</em> and <em>ResourceSettings</em> parameters did not provide respective information.</p>
<!-- raw HTML omitted -->
<p><em>ResultingSystem</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>CIM_ComputerSystem</strong></p>
<p>A reference to an instance of the <a href="/windows/desktop/CIMWin32Prov/cim-computersystem"><strong>CIM_ComputerSystem</strong></a> class that represents the newly created virtual machine.</p>
<!-- raw HTML omitted -->
<p><em>Job</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>CIM_ConcreteJob</strong></p>
<p>If the operation is performed asynchronously, this method will return 4096, and this parameter will contain a reference to an object derived from <a href="/previous-versions//cc136808(v=vs.85)"><strong>CIM_ConcreteJob</strong></a>.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong>uint32</strong></p>
<p>If this method is executed synchronously, it returns 0 if it succeeds. If this method is executed asynchronously, it returns 4096 and the <em>Job</em> output parameter can be used to track the progress of the asynchronous operation. Any other return value indicates an error.</p>
<!-- raw HTML omitted -->
<p><strong>Completed with No Error</strong> (0)</p>
<!-- raw HTML omitted -->
<p><strong>Not Supported</strong> (1)</p>
<!-- raw HTML omitted -->
<p><strong>Failed</strong> (2)</p>
<!-- raw HTML omitted -->
<p><strong>Timeout</strong> (3)</p>
<!-- raw HTML omitted -->
<p><strong>Invalid Parameter</strong> (4)</p>
<!-- raw HTML omitted -->
<p><strong>DMTF Reserved</strong> (..)</p>
<!-- raw HTML omitted -->
<p><strong>Method Parameters Checked - Job Started</strong> (4096)</p>
<!-- raw HTML omitted -->
<p><strong>Method Reserved</strong> (4097..32767)</p>
<!-- raw HTML omitted -->
<p><strong>Vendor Specific</strong> (32768..65535)</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>Access to the <a href="msvm-virtualsystemmanagementservice.html"><strong>Msvm_VirtualSystemManagementService</strong></a> class might be restricted by UAC Filtering. For more information, see <a href="/windows/desktop/WmiSdk/user-account-control-and-wmi">User Account Control and WMI</a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 8 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2012 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Namespace<!-- raw HTML omitted --></td>
<td>Root\Virtualization\V2<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>MOF<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->WindowsVirtualization.V2.mof<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Vmms.exe<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="msvm-virtualsystemmanagementservice.html"><strong>Msvm_VirtualSystemManagementService</strong></a></p>
<!-- raw HTML omitted -->
</body>
