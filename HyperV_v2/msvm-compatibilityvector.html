<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Msvm_CompatibilityVector class</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: References the compatibility info for a virtual machine (VM) (when run on a VM computer system) or a host (when run on a host computer system).
ms.assetid: A3DB75BF-91C8-444E-B273-25DF8A5BFA7B
title: Msvm_CompatibilityVector class
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>Msvm_CompatibilityVector</li>
<li>Msvm_CompatibilityVector.VectorId</li>
<li>Msvm_CompatibilityVector.CompareOperation</li>
<li>Msvm_CompatibilityVector.CompatibilityInfo
api_type:</li>
<li>DllExport
api_location:</li>
<li>vmms.exe</li>
</ul>
<hr />
<h1>Msvm_CompatibilityVector class</h1>
<p>References the compatibility info for a virtual machine (VM) (when run on a VM computer system) or a host (when run on a host computer system).</p>
<p>The following syntax is simplified from MOF code and includes all inherited properties.</p>
<h2>Syntax</h2>
<pre lang="syntax"><code>[Dynamic, Provider(&quot;VmmsWmiInstanceAndMethodProvider&quot;), AMENDMENT]
class Msvm_CompatibilityVector
{
  uint32 VectorId;
  uint32 CompareOperation;
  uint64 CompatibilityInfo;
};
</code></pre>
<h2>Members</h2>
<p>The <strong>Msvm_CompatibilityVector</strong> class has these types of members:</p>
<ul>
<li><a href="#properties">Properties</a></li>
</ul>
<h3>Properties</h3>
<p>The <strong>Msvm_CompatibilityVector</strong> class has these properties.</p>
<!-- raw HTML omitted -->
<p><strong>CompareOperation</strong></p>
<!-- raw HTML omitted -->
<p>Data type: <strong>uint32</strong></p>
<!-- raw HTML omitted -->
<p>Access type: Read-only</p>
<!-- raw HTML omitted -->
<p>Identifies the comparison operation that will return true if and only if two vectors are compatible. The VM's data is on the left hand side of the comparison, and the host's data is on the right hand side.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><strong>Equal</strong> (0)</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><strong>Superset</strong> (1)</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><strong>Subset</strong> (2)</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><strong>Disjoint</strong> (3)</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><strong>GreaterThan</strong> (4)</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><strong>GreaterThanOrEqual</strong> (5)</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><strong>LessThan</strong> (6)</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><strong>LessThanOrEqual</strong> (7)</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><strong>Multiple</strong> (8)</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><strong>Divisible</strong> (9)</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><strong>CompatibilityInfo</strong></p>
<!-- raw HTML omitted -->
<p>Data type: <strong>uint64</strong></p>
<!-- raw HTML omitted -->
<p>Access type: Read-only</p>
<!-- raw HTML omitted -->
<p>The actual compatibility attribute data that is used for comparison.</p>
<!-- raw HTML omitted -->
<p><strong>VectorId</strong></p>
<!-- raw HTML omitted -->
<p>Data type: <strong>uint32</strong></p>
<!-- raw HTML omitted -->
<p>Access type: Read-only</p>
<!-- raw HTML omitted -->
<p>Identifies a compatibility vector that represents a specific attribute. This property is used to match corresponding vectors between a host and a VM.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The <a href="getsystemcompatibilityvectors-msvm-virtualsystemmigrationservice.html"><strong>GetSystemCompatibilityVectors</strong></a> method of the <a href="msvm-virtualsystemmigrationservice.html"><strong>Msvm_VirtualSystemMigrationService</strong></a> class returns an array of <strong>Msvm_CompatibilityVector</strong> instances for the host (if run on the host) or a VM (if run on the VM). Each <strong>Msvm_CompatibilityVector</strong> entry in the list describes a compatibility attribute vector. For a VM to be compatible with a host, all of its compatibility attributes must be compatible with the host s attributes.</p>
<p>Each <strong>Msvm_CompatibilityVector</strong> entry has these properties:</p>
<!-- raw HTML omitted -->
<p><strong>VectorId</strong></p>
<!-- raw HTML omitted -->
<p>Uniquely identifies the compatibility vector. This is used to match the vectors to compare between a host and a VM.</p>
<!-- raw HTML omitted -->
<p><strong>CompareOperation</strong></p>
<!-- raw HTML omitted -->
<p>Identifies the comparison operation that determines whether the vectors are compatible.</p>
<!-- raw HTML omitted -->
<p><strong>CompatibilityInfo</strong></p>
<!-- raw HTML omitted -->
<p>Contains the actual compatibility attribute; This is effectively the attribute payload (e.g. processor feature mask, cache line flush size, etc.)</p>
<!-- raw HTML omitted -->
<p>The set of operations defined for <strong>CompareOperation</strong> just involve basic integer comparison and bitwise logic. This enables the actual contents of <strong>CompatibilityInfo</strong> to remain opaque. The set of operations include:</p>
<table>
<thead>
<tr>
<th>CompareOperation</th>
<th>Description</th>
<th>Pseudocode Comparison</th>
</tr>
</thead>
<tbody>
<tr>
<td>VmCcEqual</td>
<td>VmAttr must equal HostAttr</td>
<td>If (VmAttr == HostAttr)</td>
</tr>
<tr>
<td>VmCcSuperSet</td>
<td>VmAttr must be a superset of HostAttr</td>
<td>If ((VmAttr &amp; HostAttr) == HostAttr)</td>
</tr>
<tr>
<td>VmCcSubSet</td>
<td>VmAttr must be a subset of HostAttr</td>
<td>If ((VmAttr &amp; HostAttr) == VmAttr)</td>
</tr>
<tr>
<td>VmCcDisjointSet</td>
<td>VmAttr must be a disjoint set from HostAttr</td>
<td>If ((VmAttr &amp; HostAttr) == 0)</td>
</tr>
<tr>
<td>VmCcGreater</td>
<td>VmAttr must be greater than HostAttr</td>
<td>If (VmAttr &gt; HostAttr)</td>
</tr>
<tr>
<td>VmCcGreaterEqual</td>
<td>VmAttr must be greater than or equal to HostAttr</td>
<td>If (VmAttr &gt;= HostAttr)</td>
</tr>
<tr>
<td>VmCcLess</td>
<td>VmAttr must be less than HostAttr</td>
<td>If (VmAttr &lt; HostAttr)</td>
</tr>
<tr>
<td>VmCcLessEqual</td>
<td>VmAttr must be less than or equal to HostAttr</td>
<td>If (VmAttr &lt;= HostAttr)</td>
</tr>
<tr>
<td>VmCcMultiple</td>
<td>VmAttr must be a multiple of HostAttr</td>
<td>If ((VmAttr % HostAttr) == 0)</td>
</tr>
<tr>
<td>VmCcDivisor</td>
<td>VmAttr must be a divisor of HostAttr</td>
<td>If ((HostAttr % VmAttr) == 0)</td>
</tr>
</tbody>
</table>
<p>SCVMM needs to do these steps to determine whether a VM is compatible with a host.</p>
<p><strong>To determine whether a VM is compatible with a host</strong></p>
<ol>
<li>Iterate through all of the <strong>Msvm_CompatibilityVector</strong> elements for the VM.</li>
<li>For each <strong>Msvm_CompatibilityVector</strong> element, use the compatibility operation specified in <strong>CompareOperation</strong> to compare the VM s hardware compatibility vector with the corresponding compatibility vector for the host.</li>
<li>If the all of the <strong>Msvm_CompatibilityVector</strong> elements from the VM are deemed compatible, the VM is compatible with the host (from a processor feature perspective).</li>
</ol>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 8.1 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2012 R2 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Namespace<!-- raw HTML omitted --></td>
<td>Root\Virtualization\V2<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>MOF<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->WindowsVirtualization.V2.mof<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Vmms.exe<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="getsystemcompatibilityvectors-msvm-virtualsystemmigrationservice.html"><strong>GetSystemCompatibilityVectors</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="msvm-virtualsystemmigrationservice.html"><strong>Msvm_VirtualSystemMigrationService</strong></a></p>
<!-- raw HTML omitted -->
</body>
