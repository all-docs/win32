<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Bcrypt APIs available in VBS enclaves</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Enclaves are used to create trusted execution environments. These Bcrypt APIs are available to developers in VBS enclaves.
ms.assetid: 11903971-331b-4184-a7f9-635414f62243
title: Bcrypt APIs available in VBS enclaves
titleSuffix: Secure Enclaves
ms.topic: article
ms.date: 11/20/2024</h2>
<h1>Bcrypt APIs available in VBS enclaves</h1>
<p>[!INCLUDE <a href="../includes/enclaves-os-reqs.html">enclaves-os-reqs.md</a>]</p>
<p>Enclaves are used to create trusted execution environments. These Bcrypt APIs are available to developers in VBS enclaves.</p>
<h2>List of Bcrypt.h APIs</h2>
<p>The following APIs in the <a href="/windows/win32/api/bcrypt/">bcrypt.h</a> header file are available to be called in VBS enclaves.</p>
<table>
<thead>
<tr>
<th>API</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcrypt_init_auth_mode_info">BCRYPT_INIT_AUTH_MODE_INFO</a></td>
<td>Initializes a <strong>BCRYPT_AUTHENTICATED_CIPHER_MODE_INFO</strong> structure for use in calls to <strong>BCryptEncrypt</strong> and <strong>BCryptDecrypt</strong> functions.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptaddcontextfunction">BCryptAddContextFunction</a></td>
<td>Adds a cryptographic function to the list of functions that are supported by an existing CNG context.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptclosealgorithmprovider">BCryptCloseAlgorithmProvider</a></td>
<td>Closes an algorithm provider.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptconfigurecontext">BCryptConfigureContext</a></td>
<td>Sets the configuration information for an existing CNG context.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptconfigurecontextfunction">BCryptConfigureContextFunction</a></td>
<td>Sets the configuration information for the cryptographic function of an existing CNG context.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptcreatecontext">BCryptCreateContext</a></td>
<td>Creates a new CNG configuration context.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptcreatehash">BCryptCreateHash</a></td>
<td>Called to create a hash or Message Authentication Code (MAC) object.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptcreatemultihash">BCryptCreateMultiHash</a></td>
<td>Creates a multi-hash state that allows for the parallel computation of multiple hash operations.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptdecrypt">BCryptDecrypt</a></td>
<td>Decrypts a block of data.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptdeletecontext">BCryptDeleteContext</a></td>
<td>Deletes an existing CNG configuration context.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptderivekey">BCryptDeriveKey</a></td>
<td>Derives a key from a secret agreement value.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptderivekeycapi">BCryptDeriveKeyCapi</a></td>
<td>Derives a key from a hash value.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptderivekeypbkdf2">BCryptDeriveKeyPBKDF2</a></td>
<td>Derives a key from a hash value by using the PBKDF2 key derivation algorithm as defined by RFC 2898.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptdestroyhash">BCryptDestroyHash</a></td>
<td>Destroys a hash or Message Authentication Code (MAC) object.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptdestroykey">BCryptDestroyKey</a></td>
<td>Destroys a key.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptdestroysecret">BCryptDestroySecret</a></td>
<td>Destroys a secret agreement handle that was created by using the <strong>BCryptSecretAgreement</strong> function.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptduplicatehash">BCryptDuplicateHash</a></td>
<td>Duplicates an existing hash or Message Authentication Code (MAC) object.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptduplicatekey">BCryptDuplicateKey</a></td>
<td>Creates a duplicate of a symmetric key.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptencrypt">BCryptEncrypt</a></td>
<td>Encrypts a block of data.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptenumalgorithms">BCryptEnumAlgorithms</a></td>
<td>Gets a list of the registered algorithm identifiers.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptenumcontextfunctionproviders">BCryptEnumContextFunctionProviders</a></td>
<td>Obtains the providers for the cryptographic functions for a context in the specified configuration table.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptenumcontextfunctions">BCryptEnumContextFunctions</a></td>
<td>Obtains the cryptographic functions for a context in the specified configuration table.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptenumcontexts">BCryptEnumContexts</a></td>
<td>Obtains the identifiers of the contexts in the specified configuration table.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptenumproviders">BCryptEnumProviders</a></td>
<td>Obtains all of the CNG providers that support a specified algorithm.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptenumregisteredproviders">BCryptEnumRegisteredProviders</a></td>
<td>Retrieves information about the registered providers.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptexportkey">BCryptExportKey</a></td>
<td>Exports a key to a memory BLOB that can be persisted for later use.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptfinalizekeypair">BCryptFinalizeKeyPair</a></td>
<td>Completes a public/private key pair.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptfinishhash">BCryptFinishHash</a></td>
<td>Retrieves the hash or Message Authentication Code (MAC) value for the data accumulated from prior calls to <strong>BCryptHashData</strong>.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptfreebuffer">BCryptFreeBuffer</a></td>
<td>Used to free memory that was allocated by one of the CNG functions.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptgeneratekeypair">BCryptGenerateKeyPair</a></td>
<td>Creates an empty public/private key pair.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptgeneratesymmetrickey">BCryptGenerateSymmetricKey</a></td>
<td>Creates a key object for use with a symmetrical key encryption algorithm from a supplied key.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptgenrandom">BCryptGenRandom</a></td>
<td>Generates a random number.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptgetfipsalgorithmmode">BCryptGetFipsAlgorithmMode</a></td>
<td>Determines whether Federal Information Processing Standard (FIPS) compliance is enabled.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptgetproperty">BCryptGetProperty</a></td>
<td>Retrieves the value of a named property for a CNG object.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcrypthash">BCryptHash</a></td>
<td>Performs a single hash computation. This is a convenience function that wraps calls to <strong>BCryptCreateHash</strong>, <strong>BCryptHashData</strong>, <strong>BCryptFinishHash</strong>, and <strong>BCryptDestroyHash</strong>.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcrypthashdata">BCryptHashData</a></td>
<td>Performs a one way hash or Message Authentication Code (MAC) on a data buffer.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptimportkey">BCryptImportKey</a></td>
<td>Imports a symmetric key from a key BLOB.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptimportkeypair">BCryptImportKeyPair</a></td>
<td>Imports a public/private key pair from a key BLOB.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptkeyderivation">BCryptKeyDerivation</a></td>
<td>Derives a key without requiring a secret agreement.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptopenalgorithmprovider">BCryptOpenAlgorithmProvider</a></td>
<td>Loads and initializes a CNG provider.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptprocessmultioperations">BCryptProcessMultiOperations</a></td>
<td>Processes a sequence of operations on a multi-object state.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptquerycontextconfiguration">BCryptQueryContextConfiguration</a></td>
<td>Retrieves the current configuration for the specified CNG context.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptquerycontextfunctionconfiguration">BCryptQueryContextFunctionConfiguration</a></td>
<td>Obtains the cryptographic function configuration information for an existing CNG context.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptquerycontextfunctionproperty">BCryptQueryContextFunctionProperty</a></td>
<td>Obtains the value of a named property for a cryptographic function in an existing CNG context.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptqueryproviderregistration">BCryptQueryProviderRegistration</a></td>
<td>Retrieves information about a CNG provider.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptregisterconfigchangenotify">BCryptRegisterConfigChangeNotify</a></td>
<td>Creates a user mode CNG configuration change event handler.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptregisterconfigchangenotify-r1">BCryptRegisterConfigChangeNotify</a></td>
<td>Describes how the <strong>BCryptRegisterConfigChangeNotify(PRKEVENT)</strong> function creates kernel mode CNG configuration change event handler.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptremovecontextfunction">BCryptRemoveContextFunction</a></td>
<td>Removes a cryptographic function from the list of functions that are supported by an existing CNG context.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptresolveproviders">BCryptResolveProviders</a></td>
<td>Obtains a collection of all of the providers that meet the specified criteria.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptsecretagreement">BCryptSecretAgreement</a></td>
<td>Creates a secret agreement value from a private and a public key.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptsetcontextfunctionproperty">BCryptSetContextFunctionProperty</a></td>
<td>Sets the value of a named property for a cryptographic function in an existing CNG context.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptsetproperty">BCryptSetProperty</a></td>
<td>Sets the value of a named property for a CNG object.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptsignhash">BCryptSignHash</a></td>
<td>Creates a signature of a hash value.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptunregisterconfigchangenotify">BCryptUnregisterConfigChangeNotify</a></td>
<td>Removes a user mode CNG configuration change event handler that was created by using the <strong>BCryptRegisterConfigChangeNotify(HANDLE*)</strong> function.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptunregisterconfigchangenotify-r1">BCryptUnregisterConfigChangeNotify</a></td>
<td>Removes a user mode CNG configuration change event handler that was created by using the <strong>BCryptRegisterConfigChangeNotify(HANDLE*)</strong> function.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/bcrypt/nf-bcrypt-bcryptverifysignature">BCryptVerifySignature</a></td>
<td>Verifies that the specified signature matches the specified hash.</td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<ul>
<li><a href="enclaves.html">Secure Enclaves (Trusted Execution)</a></li>
<li><a href="enclaves-available-in-ucrt.html">UCRT APIs Available in VBS Enclaves</a></li>
<li><a href="enclaves-available-in-vertdll.html">Vertdll APIs Available in VBS Enclaves</a></li>
<li><a href="enclaves-available-in-libvcruntime.html">libvcruntime APIs Available in VBS Enclaves</a></li>
</ul>
</body>
