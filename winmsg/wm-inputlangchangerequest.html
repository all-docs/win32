<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WM_INPUTLANGCHANGEREQUEST message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Posted to the window with the focus when the user chooses a new input language, either with the hotkey (specified in the Keyboard control panel application) or from the indicator on the system taskbar.
ms.assetid: db38c31c-6ae4-4401-82b8-7fd220c1678c
title: WM_INPUTLANGCHANGEREQUEST message (Winuser.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>WM_INPUTLANGCHANGEREQUEST message</h1>
<p>Posted to the window with the focus when the user chooses a new input language, either with the hotkey (specified in the Keyboard control panel application) or from the indicator on the system taskbar. An application can accept the change by passing the message to the <a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a> function or reject the change (and prevent it from taking place) by returning immediately.</p>
<p>A window receives this message through its <a href="/windows/win32/api/winuser/nc-winuser-wndproc"><strong>WindowProc</strong></a> function.</p>
<pre lang="C++"><code>#define WM_INPUTLANGCHANGEREQUEST       0x0050
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>The new input locale. This parameter can be a combination of the following flags.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>INPUTLANGCHANGE_BACKWARD</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0004<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A hot key was used to choose the previous input locale in the installed list of input locales. This flag cannot be used with the INPUTLANGCHANGE_FORWARD flag.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>INPUTLANGCHANGE_FORWARD</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0002<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A hot key was used to choose the next input locale in the installed list of input locales. This flag cannot be used with the INPUTLANGCHANGE_BACKWARD flag.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>INPUTLANGCHANGE_SYSCHARSET</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0001<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The new input locale's keyboard layout can be used with the system character set.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>The input locale identifier. For more information, see <a href="../inputdev/about-keyboard-input.html">Languages, Locales, and Keyboard Layouts</a>.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong>LRESULT</strong></p>
<p>This message is posted, not sent, to the application, so the return value is ignored. To accept the change, the application should pass the message to <a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a>. To reject the change, the application should return zero without calling <strong>DefWindowProc</strong>.</p>
<h2>Remarks</h2>
<p>When the <a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a> function receives the <strong>WM_INPUTLANGCHANGEREQUEST</strong> message, it activates the new input locale and notifies the application of the change by sending the <a href="wm-inputlangchange.html"><strong>WM_INPUTLANGCHANGE</strong></a> message.</p>
<p>The language indicator is present on the taskbar only if you have installed more than one keyboard layout and if you have enabled the indicator using the Keyboard control panel application.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ 2000 Professional [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>WindowsÂ 2000 Server [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Winuser.h (include Windows.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><strong>Reference</strong></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="wm-inputlangchange.html"><strong>WM_INPUTLANGCHANGE</strong></a></p>
<!-- raw HTML omitted -->
<p><strong>Conceptual</strong></p>
<!-- raw HTML omitted -->
<p><a href="windows.html">Windows</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
