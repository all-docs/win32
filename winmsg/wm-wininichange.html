<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WM_WININICHANGE message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: An application sends the WM_WININICHANGE message to all top-level windows after making a change to the WIN.INI file. The SystemParametersInfo function sends this message after an application uses the function to change a setting in WIN.INI.
ms.assetid: 402f8d71-ad52-486d-be26-8b41a3f22045
title: WM_WININICHANGE message (Winuser.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>WM_WININICHANGE message</h1>
<p>An application sends the <strong>WM_WININICHANGE</strong> message to all top-level windows after making a change to the WIN.INI file. The <a href="/windows/win32/api/winuser/nf-winuser-systemparametersinfoa"><strong>SystemParametersInfo</strong></a> function sends this message after an application uses the function to change a setting in WIN.INI.</p>
<blockquote>
<p>[!Note]<br />
The <strong>WM_WININICHANGE</strong> message is provided only for compatibility with earlier versions of the system. Applications should use the <a href="wm-settingchange.html"><strong>WM_SETTINGCHANGE</strong></a> message.</p>
</blockquote>
<p>Â </p>
<p>A window receives this message through its <a href="/windows/win32/api/winuser/nc-winuser-wndproc"><strong>WindowProc</strong></a> function.</p>
<pre lang="C++"><code>#define WM_WININICHANGE                 0x001A
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>This parameter is not used.</p>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>A pointer to a string containing the name of the system parameter that was changed. For example, this string can be the name of a registry key or the name of a section in the Win.ini file. This parameter is not particularly useful in determining which system parameter changed. For example, when the string is a registry name, it typically indicates only the leaf node in the registry, not the whole path. In addition, some applications send this message with <em>lParam</em> set to <strong>NULL</strong>. In general, when you receive this message, you should check and reload any system parameter settings that are used by your application.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong>LRESULT</strong></p>
<p>If you process this message, return zero.</p>
<h2>Remarks</h2>
<p>To send the <strong>WM_WININICHANGE</strong> message to all top-level windows, use the <a href="/windows/win32/api/winuser/nf-winuser-sendmessage"><strong>SendMessage</strong></a> function with the <em>hWnd</em> parameter set to <strong>HWND_BROADCAST</strong>.</p>
<p>Calls to functions that change WIN.INI may be mapped to the registry instead. This mapping occurs when WIN.INI and the section being changed are specified in the registry under the following key:</p>
<p><strong>HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\IniFileMapping</strong></p>
<p>The change in the storage location has no effect on the behavior of this message.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ 2000 Professional [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>WindowsÂ 2000 Server [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Winuser.h (include Windows.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/winuser/nf-winuser-systemparametersinfoa"><strong>SystemParametersInfo</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
