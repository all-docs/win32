<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Messages and Message Queues</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: This section describes messages and message queues and how to use them in your applications.
ms.assetid: 'vs|winui|~\winui\windowsuserinterface\windowing\messagesandmessagequeues.htm'
title: Messages and Message Queues
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Messages and Message Queues</h1>
<p>This section describes messages and message queues and how to use them in your applications.</p>
<h3>In This Section</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="about-messages-and-message-queues.html">About Messages and Message Queues</a></td>
<td>This section discusses Windows messages and message queues.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="using-messages-and-message-queues.html">Using Messages and Message Queues</a></td>
<td>The following code examples demonstrate how to perform the following tasks associated with Windows messages and message queues.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="message-and-message-queue-reference.html">Message Reference</a></td>
<td>Contains the API reference.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h3>System-Provided Messages</h3>
<p>For lists of the system-provided messages, see <a href="about-messages-and-message-queues.html">System-Defined Messages</a>.</p>
<h3>Message Functions</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage"><strong>BroadcastSystemMessage</strong></a></td>
<td>Sends a message to the specified recipients. The recipients can be applications, installable drivers, network drivers, system-level device drivers, or any combination of these system components. <!-- raw HTML omitted --> To receive additional information if the request is defined, use the <a href="/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa"><strong>BroadcastSystemMessageEx</strong></a> function.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa"><strong>BroadcastSystemMessageEx</strong></a></td>
<td>Sends a message to the specified recipients. The recipients can be applications, installable drivers, network drivers, system-level device drivers, or any combination of these system components. <!-- raw HTML omitted --> This function is similar to <a href="/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage"><strong>BroadcastSystemMessage</strong></a> except that this function can return more information from the recipients.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-dispatchmessage"><strong>DispatchMessage</strong></a></td>
<td>Dispatches a message to a window procedure. It is typically used to dispatch a message retrieved by the <a href="/windows/win32/api/winuser/nf-winuser-getmessage"><strong>GetMessage</strong></a> function.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-getinputstate"><strong>GetInputState</strong></a></td>
<td>Determines whether there are mouse-button or keyboard messages in the calling thread's message queue. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-getmessage"><strong>GetMessage</strong></a></td>
<td>Retrieves a message from the calling thread's message queue. The function dispatches incoming sent messages until a posted message is available for retrieval. <!-- raw HTML omitted --> Unlike <a href="/windows/win32/api/winuser/nf-winuser-getmessage"><strong>GetMessage</strong></a>, the <a href="/windows/win32/api/winuser/nf-winuser-peekmessagea"><strong>PeekMessage</strong></a> function does not wait for a message to be posted before returning.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-getmessageextrainfo"><strong>GetMessageExtraInfo</strong></a></td>
<td>Retrieves the extra message information for the current thread. Extra message information is an application- or driver-defined value associated with the current thread's message queue. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-getmessagepos"><strong>GetMessagePos</strong></a></td>
<td>Retrieves the cursor position for the last message retrieved by the <a href="/windows/win32/api/winuser/nf-winuser-getmessage"><strong>GetMessage</strong></a> function. <!-- raw HTML omitted --> To determine the current position of the cursor, use the <a href="/windows/desktop/api/winuser/nf-winuser-getcursorpos"><strong>GetCursorPos</strong></a> function.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-getmessagetime"><strong>GetMessageTime</strong></a></td>
<td>Retrieves the message time for the last message retrieved by the <a href="/windows/win32/api/winuser/nf-winuser-getmessage"><strong>GetMessage</strong></a> function. The time is a long integer that specifies the elapsed time, in milliseconds, from the time the system was started to the time the message was created (that is, placed in the thread's message queue). <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-getqueuestatus"><strong>GetQueueStatus</strong></a></td>
<td>Indicates the type of messages found in the calling thread's message queue.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-insendmessage"><strong>InSendMessage</strong></a></td>
<td>Determines whether the current window procedure is processing a message that was sent from another thread (in the same process or a different process) by a call to the <a href="/windows/win32/api/winuser/nf-winuser-sendmessage"><strong>SendMessage</strong></a> function. <!-- raw HTML omitted --> To obtain additional information about how the message was sent, use the <a href="/windows/win32/api/winuser/nf-winuser-insendmessageex"><strong>InSendMessageEx</strong></a> function.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-insendmessageex"><strong>InSendMessageEx</strong></a></td>
<td>Determines whether the current window procedure is processing a message that was sent from another thread (in the same process or a different process).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-peekmessagea"><strong>PeekMessage</strong></a></td>
<td>Dispatches incoming sent messages, checks the thread message queue for a posted message, and retrieves the message (if any exist).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-postmessagea"><strong>PostMessage</strong></a></td>
<td>Posts a message in the message queue associated with the thread that created the specified window and returns without waiting for the thread to process the message. <!-- raw HTML omitted --> To post a message in the message queue associated with a thread, use the <a href="/windows/win32/api/winuser/nf-winuser-postthreadmessagea"><strong>PostThreadMessage</strong></a> function.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-postquitmessage"><strong>PostQuitMessage</strong></a></td>
<td>Indicates to the system that a thread has made a request to terminate (quit). It is typically used in response to a <a href="wm-destroy.html"><strong>WM_DESTROY</strong></a> message.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-postthreadmessagea"><strong>PostThreadMessage</strong></a></td>
<td>Posts a message to the message queue of the specified thread. It returns without waiting for the thread to process the message.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-registerwindowmessagea"><strong>RegisterWindowMessage</strong></a></td>
<td>Defines a new window message that is guaranteed to be unique throughout the system. The message value can be used when sending or posting messages.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-replymessage"><strong>ReplyMessage</strong></a></td>
<td>Replies to a message sent through the <a href="/windows/win32/api/winuser/nf-winuser-sendmessage"><strong>SendMessage</strong></a> function without returning control to the function that called <strong>SendMessage</strong>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nc-winuser-sendasyncproc"><em>SendAsyncProc</em></a></td>
<td>An application-defined callback function used with the <a href="/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka"><strong>SendMessageCallback</strong></a> function. The system passes the message to the callback function after passing the message to the destination window procedure. The <strong>SENDASYNCPROC</strong> type defines a pointer to this callback function. <a href="/windows/win32/api/winuser/nc-winuser-sendasyncproc"><em>SendAsyncProc</em></a> is a placeholder for the application-defined function name.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-sendmessage"><strong>SendMessage</strong></a></td>
<td>Sends the specified message to a window or windows. The <a href="/windows/win32/api/winuser/nf-winuser-sendmessage"><strong>SendMessage</strong></a> function calls the window procedure for the specified window and does not return until the window procedure has processed the message. <!-- raw HTML omitted --> To send a message and return immediately, use the <a href="/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka"><strong>SendMessageCallback</strong></a> or <a href="/windows/win32/api/winuser/nf-winuser-sendnotifymessagea"><strong>SendNotifyMessage</strong></a> function. To post a message to a thread's message queue and return immediately, use the <a href="/windows/win32/api/winuser/nf-winuser-postmessagea"><strong>PostMessage</strong></a> or <a href="/windows/win32/api/winuser/nf-winuser-postthreadmessagea"><strong>PostThreadMessage</strong></a> function.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka"><strong>SendMessageCallback</strong></a></td>
<td>Sends the specified message to a window or windows. It calls the window procedure for the specified window and returns immediately. After the window procedure processes the message, the system calls the specified callback function, passing the result of the message processing and an application-defined value to the callback function.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta"><strong>SendMessageTimeout</strong></a></td>
<td>Sends the specified message to one of more windows.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-sendnotifymessagea"><strong>SendNotifyMessage</strong></a></td>
<td>Sends the specified message to a window or windows. If the window was created by the calling thread, <a href="/windows/win32/api/winuser/nf-winuser-sendnotifymessagea"><strong>SendNotifyMessage</strong></a> calls the window procedure for the window and does not return until the window procedure has processed the message. If the window was created by a different thread, <strong>SendNotifyMessage</strong> passes the message to the window procedure and returns immediately; it does not wait for the window procedure to finish processing the message.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-setmessageextrainfo"><strong>SetMessageExtraInfo</strong></a></td>
<td>Sets the extra message information for the current thread. Extra message information is an application- or driver-defined value associated with the current thread's message queue. An application can use the <a href="/windows/win32/api/winuser/nf-winuser-getmessageextrainfo"><strong>GetMessageExtraInfo</strong></a> function to retrieve a thread's extra message information.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-translatemessage"><strong>TranslateMessage</strong></a></td>
<td>Translates virtual-key messages into character messages. The character messages are posted to the calling thread's message queue, to be read the next time the thread calls the <a href="/windows/win32/api/winuser/nf-winuser-getmessage"><strong>GetMessage</strong></a> or <a href="/windows/win32/api/winuser/nf-winuser-peekmessagea"><strong>PeekMessage</strong></a> function.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/nf-winuser-waitmessage"><strong>WaitMessage</strong></a></td>
<td>Yields control to other threads when a thread has no other messages in its message queue. The <a href="/windows/win32/api/winuser/nf-winuser-waitmessage"><strong>WaitMessage</strong></a> function suspends the thread and does not return until a new message is placed in the thread's message queue.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h3>Message Constants</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="ocm--base.html"><strong>OCM__BASE</strong></a></td>
<td>Used to define private messages for use by private window classes. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="wm-app.html"><strong>WM_APP</strong></a></td>
<td>Used to define private messages. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="wm-user.html"><strong>WM_USER</strong></a></td>
<td>Used to define private messages for use by private window classes. <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h3>Message Structures</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/win32/api/winuser/ns-winuser-bsminfo"><strong>BSMINFO</strong></a></td>
<td>Contains information about a window that denied a request from <a href="/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa"><strong>BroadcastSystemMessageEx</strong></a>. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winuser/ns-winuser-msg"><strong>MSG</strong></a></td>
<td>Contains message information from a thread's message queue. <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
</body>
