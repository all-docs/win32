<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>TraceLogging Reference</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: TraceLogging Reference
description:
The following topics provide information about the native TraceLogging
API.TraceLogging builds on Event Tracing for Windows (ETW) and provides a
simplified way to instrument code.
ms.assetid: 9E3F2140-DDB0-4C30-B7D0-A81F11823AA6
ms.topic: article
ms.date: 06/06/2022</h2>
<h1>TraceLogging Reference</h1>
<p>The following topics provide information about the C/C++ TraceLogging API.</p>
<blockquote>
<p>[!NOTE]
If you are generating events from C/C++ code and the events are
defined at compile-time, use the APIs described in this section. Otherwise, if
you are generating events from .NET code, use the .NET
<a href="/dotnet/api/system.diagnostics.tracing.eventsource"><strong>EventSource</strong></a> class.
Otherwise, if you are using Windows Runtime (WinRT), use
<a href="/uwp/api/Windows.Foundation.Diagnostics.LoggingChannel"><strong>LoggingChannel</strong></a>.
Otherwise, you might be able to use a community-supported option such as
<a href="https://github.com/microsoft/tracelogging/tree/main/etw"><strong>TraceLoggingDynamic</strong></a>.</p>
</blockquote>
<p>TraceLogging builds on Event Tracing for Windows (ETW) and is easier to use than
manifest-based ETW or WPP. TraceLogging allows you to generate events that
include structured data, supports event correlation using ETW activities, and
does not require a separate instrumentation manifest XML file for decoding.</p>
<p>TraceLoggingProvider.h is the recommended API for C/C++ developers in user or
kernel mode. The following links describe the C/C++ API.</p>
<ul>
<li><a href="trace-logging-classes.html">Classes</a></li>
<li><a href="trace-logging-functions.html">Functions</a></li>
<li><a href="trace-logging-macros.html">Macros</a></li>
</ul>
<p>Note that the value of WINVER (user-mode) will affect the way
TraceLoggingProvider.h behaves:</p>
<ul>
<li>If WINVER is not set before including <code>&lt;windows.h&gt;</code>, then <code>&lt;windows.h&gt;</code> will
set WINVER to a default value corresponding to the SDK version.</li>
<li>If you use TraceLoggingProvider.h with WINVER set to 0x0602 (WindowsÂ 8) or
higher, the program may not run on WindowsÂ Vista or WindowsÂ 7
(TraceLoggingProvider.h will try to directly use the EventSetInformation,
which was not present in RTM versions of Windows Vista or Windows 7).</li>
<li>If you use TraceLoggingProvider.h with WINVER set to 0x0600 (WindowsÂ Vista) or
0x0601 (WindowsÂ 7), the program will be configured for compatibility and will
work on the specified versions of Windows (TraceLoggingProvider.h will invoke
EventSetInformation via GetProcAddress if available).</li>
</ul>
</body>
