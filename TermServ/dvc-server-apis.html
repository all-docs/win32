<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>DVC Server APIs</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: DVC Server APIs
description: The dynamic virtual channel (DVC) server APIs are implemented by the Remote Desktop Connection (RDC) server of the connection.
ms.assetid: 9743ce32-9262-4af3-b013-668e834e279c
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>DVC Server APIs</h1>
<p>The dynamic virtual channel (DVC) server APIs are implemented by the Remote Desktop Connection (RDC) server of the connection.</p>
<h2>In this section</h2>
<!-- raw HTML omitted -->
<p><a href="iwtsserverchannel.html"><strong>IWTSServerChannel</strong></a></p>
<!-- raw HTML omitted -->
<p>This interface is not supported.</p>
<!-- raw HTML omitted -->
<p><a href="iwtsserverchannelmanager.html"><strong>IWTSServerChannelManager</strong></a></p>
<!-- raw HTML omitted -->
<p>This interface is not supported.</p>
<!-- raw HTML omitted -->
<p><a href="tpriority.html"><strong>TPriority</strong></a></p>
<!-- raw HTML omitted -->
<p>This enumeration is not used.</p>
<!-- raw HTML omitted -->
<h2>Changes in Behavior for Other Server APIs</h2>
<ul>
<li>
<p>The server API has been extended with an additional call which opens a dynamic virtual channel (DVC). The additional call is made using the <a href="/windows/desktop/api/Wtsapi32/nf-wtsapi32-wtsvirtualchannelopenex"><strong>WTSVirtualChannelOpenEx</strong></a> function.</p>
</li>
<li>
<p><a href="/windows/desktop/api/Wtsapi32/nf-wtsapi32-wtsvirtualchannelread"><strong>WTSVirtualChannelRead</strong></a></p>
<p>When using this API with DVC, it will always prepend the data read with <a href="/windows/win32/api/pchannel/ns-pchannel-channel_pdu_header"><strong>CHANNEL_PDU_HEADER</strong></a>. This means that any read must be done with at least the <strong>CHANNEL_PDU_LENGTH</strong> data block passed as the input buffer.</p>
</li>
<li>
<p><a href="/windows/desktop/api/fileapi/nf-fileapi-readfile"><strong>ReadFile</strong></a></p>
<p>If the file handle to the DVC is retrieved by calling <a href="/windows/desktop/api/Wtsapi32/nf-wtsapi32-wtsvirtualchannelquery"><strong>WTSVirtualChannelQuery</strong></a> with parameter <em>WTSVirtualFileHandle</em>, the same rule will apply. All reads will include the <a href="/windows/win32/api/pchannel/ns-pchannel-channel_pdu_header"><strong>CHANNEL_PDU_HEADER</strong></a>, and the read buffer has to be at least <strong>CHANNEL_PDU_LENGTH</strong> size.</p>
</li>
</ul>
<p>Â </p>
<p>Â </p>
</body>
