<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Starting a DVC Listener</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Starting a DVC Listener
description: To establish a successful connection between two dynamic virtual channel (DVC) modules that are running on the Remote Desktop Connection (RDC) client and server, a DVC listener must be running and in a listening state.
ms.assetid: c9130375-eb60-4996-84f5-a1081144e130
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Starting a DVC Listener</h1>
<p>To establish a successful connection between two dynamic virtual channel (DVC) modules that are running on the Remote Desktop Connection (RDC) client and server, a DVC listener must be running and in a listening state.</p>
<p>The instantiation of a listener typically occurs in the <a href="/windows/desktop/api/TsVirtualChannels/nf-tsvirtualchannels-iwtsplugin-initialize"><strong>Initialize</strong></a> method of the DVC plug-in. However, instantiation is not limited to the <strong>Initialize</strong> method, and can be started at any point of the plug-in execution. The listener is described by the <a href="/windows/desktop/api/TsVirtualChannels/nn-tsvirtualchannels-iwtslistener"><strong>IWTSListener</strong></a> interface which is instantiated by the <a href="/windows/desktop/api/TsVirtualChannels/nn-tsvirtualchannels-iwtsvirtualchannelmanager"><strong>IWTSVirtualChannelManager</strong></a>. An instance to the channel manager is passed to the plug-in at the initialization point. The plug-in can maintain an internal reference to the instance as long as it needs to.</p>
<p>A plug-in can instantiate as many listeners as it needs to. Any incoming connection will be handled by <a href="/windows/desktop/api/TsVirtualChannels/nn-tsvirtualchannels-iwtslistenercallback"><strong>IWTSListenerCallback</strong></a>, which is supplied in the <a href="/windows/desktop/api/TsVirtualChannels/nf-tsvirtualchannels-iwtsvirtualchannelmanager-createlistener"><strong>CreateListener</strong></a> method of <a href="/windows/desktop/api/TsVirtualChannels/nn-tsvirtualchannels-iwtsvirtualchannelmanager"><strong>IWTSVirtualChannelManager</strong></a>. For an example, see the implementation of <strong>CDVCSamplePlugin::Initialize</strong> in the <a href="dvc-client-plug-in-example.html">DVC Client Plug-in Example</a> sample code.</p>
<p>Â </p>
<p>Â </p>
</body>
