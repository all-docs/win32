<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Object Model</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Object Model
description: The following table lists the object types that can be manipulated through the various API sets supplied by the Windows Filtering Platform (WFP).
ms.assetid: 6931583f-785c-4e27-b5e4-d185d23a54ee
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Object Model</h1>
<p>The following table lists the object types that can be manipulated through the various API sets supplied by the Windows Filtering Platform (WFP).</p>
<table>
<thead>
<tr>
<th>Object Type</th>
<th>Description</th>
<th>Sample Properties</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Filter</td>
<td>A rule that governs classification. If the conditions are met, the action is invoked. <!-- raw HTML omitted --> This is the most complex object exposed by WFP since it ties together all the other object types. <!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->Array of conditions<!-- raw HTML omitted --><!-- raw HTML omitted -->Action (Permit, Block, Callout)<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Weight<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Context<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>&quot;Block traffic with a TCP port greater than 1024.&quot; <!-- raw HTML omitted --> &quot;Callout to IDS for all traffic that is not secured.&quot;<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Callout</td>
<td>A set of functions that participate in the classification process.<!-- raw HTML omitted --> It allows for custom packet processing to be done when certain conditions are met.<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->ID<!-- raw HTML omitted --><!-- raw HTML omitted -->Applicable layer<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>The NAT driver<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Layer</td>
<td>A filter container in the filter engine. <!-- raw HTML omitted --> Represents a specific point in network traffic processing where the filter engine is invoked.<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->Schema for filters that can be added to the layer<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>The Inbound Transport Layer<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Sub-layer</td>
<td>A sub-component of a layer, used in <!-- raw HTML omitted -->filter arbitration<!-- raw HTML omitted -->.<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->Weight<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>The IPsec Tunnel sub-layer<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Provider</td>
<td>A policy provider that has built a solution on WFP.<!-- raw HTML omitted --> It is used solely for management; it does not affect run-time packet processing.<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->ID<!-- raw HTML omitted --><!-- raw HTML omitted -->Service name<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Windows Firewall with Advanced Security<!-- raw HTML omitted --> A 3rd-party URL filtering application<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Provider Context</td>
<td>A data blob used by a policy provider to store arbitrary context information. <!-- raw HTML omitted --> It is used to pass custom configuration information to a callout.<!-- raw HTML omitted --> The most common way to use the context information is to have filters reference a provider context. <!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->ID<!-- raw HTML omitted --><!-- raw HTML omitted -->Data blob<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>IPsec stores authentication settings in the Base Filtering Engine ( BFE). The &quot;Context&quot; property of a filter indicates the authentication settings to use for the traffic that the filter describes.<!-- raw HTML omitted --> The SSL certification selection shim will store certification information in a provider context. <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>The object types exposed by WFP API have consistent semantics. The actions of add, enumerate, subscribe, and so on are similar for all object types.</p>
<p>Each object type is represented by a data structure (for example, <a href="/windows/desktop/api/Fwpmtypes/ns-fwpmtypes-fwpm_filter0"><strong>FWPM_FILTER0</strong></a>). In order to minimize the number of different data structures exposed by the WFP API, the same data structure is used for both adding new objects and retrieving existing ones. Thus, there may be fields in each data structure that are ignored when adding a new object since these fields are filled in by the Base Filtering Engine (BFE), and not by the caller. For example, an <strong>FWPM_FILTER0</strong> data structure has a <strong>filterId</strong> field that contains the <strong>LUID</strong> of the corresponding <strong>FWPS_FILTER0</strong>. This <strong>LUID</strong> is assigned by BFE, and thus, this field is ignored in the call to <a href="/windows/desktop/api/Fwpmu/nf-fwpmu-fwpmfilteradd0"><strong>FwpmFilterAdd0</strong></a>.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="object-management.html">Object Management</a></p>
<!-- raw HTML omitted -->
</body>
