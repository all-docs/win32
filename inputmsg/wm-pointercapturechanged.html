<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WM_POINTERCAPTURECHANGED message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: WM_POINTERCAPTURECHANGED message
description: Sent to a window that is losing capture of an input pointer.
ms.assetid: 6eec37da-227c-4be1-bf0b-98704caa1322
keywords:</p>
<ul>
<li>WM_POINTERCAPTURECHANGED message Input Messages and Notifications
topic_type:</li>
<li>apiref
api_name:</li>
<li>WM_POINTERCAPTURECHANGED
api_location:</li>
<li>Winuser.h
api_type:</li>
<li>HeaderDef
ms.topic: article
ms.date: 02/03/2020</li>
</ul>
<hr />
<h1>WM_POINTERCAPTURECHANGED message</h1>
<p>Sent to a window that is losing capture of an input pointer.</p>
<p>A window receives this message through its <a href="/windows/win32/api/winuser/nc-winuser-wndproc"><strong>WindowProc</strong></a> function.</p>
<pre lang="C++"><code>#define WM_POINTERCAPTURECHANGED           0x024C
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>Contains information about the input pointer that is being lost. Use <a href="/windows/win32/api/winuser/nf-winuser-get_pointerid_wparam"><strong>GET_POINTERID_WPARAM</strong></a> to get the pointer ID.</p>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>Contains a handle to the window that is capturing the input pointer. This value can be NULL if the pointer is no longer being captured by the window.</p>
<p>If this message is generated from internal processing, the value can be the handle of the window receiving the message.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>If an application processes this message, it should return zero.</p>
<p>If the application does not process this message, it should call <a href="/windows/win32/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a>.</p>
<h2>Remarks</h2>
<p>A window should use this notification to stop processing subsequent messages and initiate any cleanup required for the pointer being lost. Processing of gestures associated with the pointer should also be terminated (for example, by calling <a href="/windows/win32/api/interactioncontext/nf-interactioncontext-stopinteractioncontext"><strong>StopInteractionContext</strong></a>) and remaining contacts re-associated with the window.</p>
<p>Typically, if a window receives the <strong>WM_POINTERCAPTURECHANGED</strong> notification, no subsequent notifications related to the input pointer are received. Because of this, do not depend on paired notifications such as <a href="wm-pointerenter.html"><strong>WM_POINTERENTER</strong></a> and <a href="wm-pointerleave.html"><strong>WM_POINTERLEAVE</strong></a>.</p>
<p><strong>WM_POINTERCAPTURECHANGED</strong> does not include <a href="/windows/win32/api/winuser/ns-winuser-pointer_info"><strong>POINTER_INFO</strong></a> data. Other than the <a href="pointer-flags-contants.html"><strong>POINTER_FLAG_CAPTURECHANGED</strong></a> flag being set, the data returned by <a href="/windows/win32/api/winuser/ns-winuser-pointer_info"><strong>GetPointerInfo</strong></a> (or any variant) is identical to that returned prior to the notification.</p>
<p>If the application does not process this notification, <a href="/windows/win32/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a> may generate one or more <a href="../wintouch/wm-gesture.html"><strong>WM_GESTURE</strong></a> messages or, if a gesture is not recognized, <strong>DefWindowProc</strong> may generate mouse input.</p>
<p>If an application selectively consumes some pointer input and passes the rest to <a href="/windows/win32/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a>, the resulting behavior is undefined.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 8 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2012 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Winuser.h (include Windows.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="messages.html">Messages</a></p>
<!-- raw HTML omitted -->
</body>
