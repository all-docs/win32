<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WM_NCPOINTERUPDATE message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: WM_NCPOINTERUPDATE message
description: Posted to provide an update on a pointer that made contact over the non-client area of a window or when a hovering uncaptured contact moves over the non-client area of a window.
ms.assetid: 3bdc37da-227c-4be1-bf0b-99704caa1322
keywords:</p>
<ul>
<li>WM_NCPOINTERUPDATE message Input Messages and Notifications
topic_type:</li>
<li>apiref
api_name:</li>
<li>WM_NCPOINTERUPDATE
api_location:</li>
<li>Winuser.h
api_type:</li>
<li>HeaderDef
ms.topic: article
ms.date: 02/03/2020</li>
</ul>
<hr />
<h1>WM_NCPOINTERUPDATE message</h1>
<p>Posted to provide an update on a pointer that made contact over the non-client area of a window or when a hovering uncaptured contact moves over the non-client area of a window. While the pointer is hovering, the message targets whichever window the pointer happens to be over. While the pointer is in contact with the surface, the pointer is implicitly captured to the window over which the pointer made contact and that window continues to receive input for the pointer until it breaks contact.</p>
<p>If a window has captured this pointer, this message is not posted. Instead, a <a href="wm-pointerupdate.html"><strong>WM_POINTERUPDATE</strong></a> is posted to the window that has captured this pointer.</p>
<blockquote>
<p>![Important]<br />
Desktop apps should be DPI aware. If your app is not DPI aware, screen coordinates contained in pointer messages and related structures might appear inaccurate due to DPI virtualization. DPI virtualization provides automatic scaling support to applications that are not DPI aware and is active by default (users can turn it off). For more information, see <a href="/previous-versions//dd464660(v=vs.85)">Writing High-DPI Win32 Applications</a>.</p>
</blockquote>
<pre lang="C++"><code>#define WM_NCPOINTERUPDATE                 0x0241
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>Contains the pointer identifier and additional information. Use the following macros to retrieve this information.</p>
<p><a href="/windows/win32/api/winuser/nf-winuser-get_pointerid_wparam"><strong>GET_POINTERID_WPARAM</strong></a>(wParam): pointer identifier</p>
<p><a href="../winmsg/hiword.html"><strong>HIWORD</strong></a>(wParam): hit-test value returned from processing the <a href="../inputdev/wm-nchittest.html"><strong>WM_NCHITTEST</strong></a> message.</p>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>Contains the point location of the pointer.</p>
<blockquote>
<p>[!Note]<br />
Because the pointer may make contact with the device over a non-trivial area, this point location may be a simplification of a more complex pointer area. Whenever possible, an application should use the complete pointer area information instead of the point location.</p>
</blockquote>
<p>Use the following macros to retrieve the physical screen coordinates of the point.</p>
<ul>
<li><a href="/windows/win32/api/windowsx/nf-windowsx-get_x_lparam"><strong>GET_X_LPARAM</strong></a>(lParam): the x (horizontal point) coordinate.</li>
<li><a href="/windows/win32/api/windowsx/nf-windowsx-get_y_lparam"><strong>GET_Y_LPARAM</strong></a>(lParam): the y (vertical point) coordinate.</li>
</ul>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>If an application processes this message, it should return zero.</p>
<p>If the application does not process this message, it should call <a href="/windows/win32/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a>.</p>
<h2>Remarks</h2>
<p>If the application does not process this message, <a href="/windows/win32/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a> may perform one or more system actions depending on the hit-test result included in the message. Typically, applications should not need to handle this message.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 8 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2012 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Winuser.h (include Windows.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="messages.html">Messages</a></p>
<!-- raw HTML omitted -->
</body>
