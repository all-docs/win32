<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Copying Descriptors</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Copying Descriptors
description: The ID3D12Device CopyDescriptors and ID3D12Device CopyDescriptorsSimple methods on the device interface use the CPU to immediately copy descriptors.
ms.assetid: 65AE4D96-6221-46B5-BF55-F86479FCF97C
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Copying Descriptors</h1>
<p>The <a href="/windows/desktop/api/d3d12/nf-d3d12-id3d12device-copydescriptors"><strong>ID3D12Device::CopyDescriptors</strong></a> and <a href="/windows/desktop/api/d3d12/nf-d3d12-id3d12device-copydescriptorssimple"><strong>ID3D12Device::CopyDescriptorsSimple</strong></a> methods on the device interface use the CPU to immediately copy descriptors. They can be called free threaded as long as multiple threads on the CPU or GPU do not perform any potentially conflicting writes.</p>
<h2>Copying Descriptors Immediately (CPU Timeline)</h2>
<p>The number of source descriptors (to copy from), specified as a set of descriptor ranges, must equal the number of destination descriptors (to copy to), specified as a separate set of descriptor ranges. The source and destination ranges do not otherwise have to line up. For example, a sparse set of descriptors could be copied to a contiguous destination, vice versa, or in some combination.</p>
<p>Multiple descriptor heaps can be involved in the copy operation, both as source and destination. The use of descriptor handles as parameters means the copy methods donâ€™t care about which heaps any given descriptor lies in â€“ they are all just memory.</p>
<p>The descriptor heap types being copied from and to must match, so the methods take a single descriptor heap type as input. The driver needs to know the heap type of all the descriptors in the given copy operation, so it knows what size of data is involved in the copy operation. The driver might also need to do custom copying work if a given descriptor heap type warrants it â€“ an implementation detail. Note that descriptor handles themselves do not otherwise identify what type they are pointing to; therefore, an additional parameter is required for the copy operation.</p>
<p>An alternative API to <a href="/windows/desktop/api/d3d12/nf-d3d12-id3d12device-copydescriptors"><strong>CopyDescriptors</strong></a> is provided for the simple case of copying a single range of descriptors from one location to another â€“ <a href="/windows/desktop/api/d3d12/nf-d3d12-id3d12device-copydescriptorssimple"><strong>CopyDescriptorsSimple</strong></a>.</p>
<p>For these device based (CPU timeline) descriptor copy methods, source descriptors must come from a non-shader visible descriptor heap. The destination descriptors can be in any descriptor heap that is CPU visible (shader visible or not).</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="descriptors.html">Descriptors</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
