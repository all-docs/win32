<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Intersection attributes structure</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Intersection attributes structure
description: A structure declared in HLSL to represent hit attributes for fixed-function triangle intersection or axis-aligned bounding box for procedural primitive intersection.
ms.assetid:
ms.topic: language-reference
ms.date: 05/31/2018</h2>
<h1>Intersection attributes structure</h1>
<p>A structure declared in HLSL to represent hit attributes for fixed-function triangle intersection or axis-aligned bounding box for procedural primitive intersection.</p>
<h2>Fixed-function triangle intersection</h2>
<p>The following structure is declared in HLSL to represent hit attributes for fixed-function triangle intersection:</p>
<pre><code>struct BuiltInTriangleIntersectionAttributes
{
    float2 barycentrics;
};
</code></pre>
<p><a href="any-hit-shader.html">Any hit</a> and <a href="closest-hit-shader.html">closest hit</a> shaders invoked using fixed-function triangle intersection must use this structure for hit attributes. Given attributes a0, a1 and a2 for the 3 vertices of a triangle, barycentrics.x is the weight for a1 and barycentrics.y is the weight for a2.  For example, the app can interpolate by doing:  a = a0 + barycentrics.x * (a1-a0) + barycentrics.y* (a2 â€“ a0).</p>
<h2>Axis-aligned bounding box for procedural primitive intersection</h2>
<p>When axis-aligned bounding boxes are used for intersection with procedural primitives, an intersection shader is triggered.  That shader provides a user-defined intersection attribute structure to the <a href="reporthit-function.html"><strong>ReportHit</strong></a> call.  The any hit and closest hit shaders bound in the same hit group with this intersection shader must use the same structure for hit attributes, even if the attributes are not referenced.  The maximum attribute structure size is 32 bytes, defined as <strong>D3D12_RAYTRACING_MAX_ATTRIBUTE_SIZE_IN_BYTES</strong>.</p>
</body>
