<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>PBT_APMRESUMECRITICAL event</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Notifies applications that the system has resumed operation.
ms.assetid: f2997905-26c9-4884-ae79-64df5ce6bc55
title: PBT_APMRESUMECRITICAL event (WinUser.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>PBT_APMRESUMECRITICAL event</h1>
<p>[PBT_APMRESUMECRITICAL is available for use in the operating systems specified in the Requirements section. Support for this event was removed in Windows Vista. Use <a href="pbt-apmresumeautomatic.html">PBT_APMRESUMEAUTOMATIC</a> instead.]</p>
<p>Notifies applications that the system has resumed operation. This event can indicate that some or all applications did not receive a <a href="pbt-apmsuspend.html">PBT_APMSUSPEND</a> event. For example, this event can be broadcast after a critical suspension caused by a failing battery.</p>
<p>A window receives this event through the <a href="wm-powerbroadcast.html"><strong>WM_POWERBROADCAST</strong></a> message. The <em>wParam</em> and <em>lParam</em> parameters are set as described following.</p>
<pre lang="C++"><code>LRESULT 
CALLBACK 
WindowProc( HWND   hwnd,    // handle to window
            UINT   uMsg,    // WM_POWERBROADCAST
            WPARAM wParam,  // PBT_APMRESUMECRITICAL
            LPARAM lParam); // zero
</code></pre>
<h2>Parameters</h2>
<p><em>hwnd</em></p>
<p>A handle to window.</p>
<p><em>uMsg</em></p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong><a href="wm-powerbroadcast.html"><strong>WM_POWERBROADCAST</strong></a></strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->536 (0x218)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Message identifier.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p><em>wParam</em></p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>PBT_APMRESUMECRITICAL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->6 (0x6)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Event identifier.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p><em>lParam</em></p>
<p>Reserved: must be zero.</p>
<h2>Return value</h2>
<p>No return value.</p>
<h2>Remarks</h2>
<p>Because a critical suspension occurs without prior notification, resources and data previously available may not be present when the application receives this event. The application should attempt to restore its state to the best of its ability. While in a critical suspension, the system maintains the state of the DRAM and local hard disks, but may not maintain net connections. An application may need to take action with respect to files that were open on the network before critical suspension.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows XP [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of client support<!-- raw HTML omitted --></td>
<td>Windows XP<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of server support<!-- raw HTML omitted --></td>
<td>Windows Server 2003<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->WinUser.h (include Windows.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<ul>
<li><a href="system-wake-up-events.html">System Wake-up Events</a></li>
<li><a href="power-management-events.html">Power Management Events</a></li>
<li><a href="wm-powerbroadcast.html"><strong>WM_POWERBROADCAST</strong></a></li>
</ul>
</body>
