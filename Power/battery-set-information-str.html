<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>BATTERY_SET_INFORMATION structure</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Contains battery information to be set.
ms.assetid: 535e56cb-2bab-458a-84a8-2d9a4d96412b
title: BATTERY_SET_INFORMATION structure (Poclass.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>BATTERY_SET_INFORMATION
api_type:</li>
<li>HeaderDef
api_location:</li>
<li>Poclass.h</li>
<li>Batclass.h</li>
</ul>
<hr />
<h1>BATTERY_SET_INFORMATION structure</h1>
<p>Contains battery information to be set. This structure is used with the <a href="ioctl-battery-set-information.html"><strong>IOCTL_BATTERY_SET_INFORMATION</strong></a> control code.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>typedef struct _BATTERY_SET_INFORMATION {
  ULONG                         BatteryTag;
  BATTERY_SET_INFORMATION_LEVEL InformationLevel;
  UCHAR                         Buffer[1];
} BATTERY_SET_INFORMATION, *PBATTERY_SET_INFORMATION;
</code></pre>
<h2>Members</h2>
<!-- raw HTML omitted -->
<p><strong>BatteryTag</strong></p>
<!-- raw HTML omitted -->
<p>The current battery tag for the battery. Information for a battery matching the tag can only be returned. Whenever this value does not match the battery's current tag, the IOCTL request will be completed with ERROR_FILE_NOT_FOUND, which indicates to the caller that the battery for which it has a tag for no longer exists. The caller may opt to use the <a href="ioctl-battery-query-tag.html"><strong>IOCTL_BATTERY_QUERY_TAG</strong></a> operation to determine the tag of the newly installed battery, if one exists. (See <a href="battery-information.html">Battery Tags</a> for more information.)</p>
<p>When a query information request is made, this value is verified. In addition, if the request is in progress while this value changes, the request is aborted with the status of ERROR_FILE_NOT_FOUND.</p>
<!-- raw HTML omitted -->
<p><strong>InformationLevel</strong></p>
<!-- raw HTML omitted -->
<p>The battery information to be set. The type of data in the <strong>Buffer</strong> member depends on the value of this member. This member can be one of the following values.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatteryCharge</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Informs the battery device that the user has requested that the battery should be charging at this time. For example, with a smart battery/charger/selector, the application could charge one battery at a time. The <strong>Buffer</strong> member of this structure is ignored.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatteryCriticalBias</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Sets the battery's critical bias adjustment. Note it is not envisioned that this value would normally be changed by software, and is present in the interfaces only as a maintenance feature. Not all batteries can maintain such a setting, and the battery information should be read to confirm that the battery accepted the setting.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatteryDischarge</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->2<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Informs the battery device that the user has requested that the battery be discharging at this time. For example, this could be used to indicate which battery the user currently wants to power the system. The <strong>Buffer</strong> member of this structure is ignored.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><strong>Buffer</strong></p>
<!-- raw HTML omitted -->
<p>The battery information to be set. The data depends on the value of <strong>InformationLevel</strong>.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The <strong>BATTERY_SET_INFORMATION</strong> structure is a variable-length structure, and you must allocate a buffer of suitable size for the information to be included in the structure.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows XP [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Poclass.h; <!-- raw HTML omitted --> <!-- raw HTML omitted -->Batclass.h on Windows Server 2008 R2, Windows 7, Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="ioctl-battery-set-information.html"><strong>IOCTL_BATTERY_SET_INFORMATION</strong></a></p>
<!-- raw HTML omitted -->
</body>
