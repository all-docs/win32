<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>BATTERY_QUERY_INFORMATION structure</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Contains battery query information.
ms.assetid: ef5466fe-7de8-48cd-ad48-5774d7a4bb46
title: BATTERY_QUERY_INFORMATION structure (Poclass.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>BATTERY_QUERY_INFORMATION
api_type:</li>
<li>HeaderDef
api_location:</li>
<li>Poclass.h</li>
<li>Batclass.h</li>
</ul>
<hr />
<h1>BATTERY_QUERY_INFORMATION structure</h1>
<p>Contains battery query information. This structure is used with the <a href="ioctl-battery-query-information.html"><strong>IOCTL_BATTERY_QUERY_INFORMATION</strong></a> control code to specify the type of information to return.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>typedef struct _BATTERY_QUERY_INFORMATION {
  ULONG                           BatteryTag;
  BATTERY_QUERY_INFORMATION_LEVEL InformationLevel;
  LONG                            AtRate;
} BATTERY_QUERY_INFORMATION, *PBATTERY_QUERY_INFORMATION;
</code></pre>
<h2>Members</h2>
<!-- raw HTML omitted -->
<p><strong>BatteryTag</strong></p>
<!-- raw HTML omitted -->
<p>The current battery tag for the battery. Only information for a battery matching the tag can be returned. Whenever this value does not match the battery's current tag, the IOCTL request will be completed with ERROR_FILE_NOT_FOUND. This indicates to the caller that the battery associated with the tag longer exists. The caller may opt to use the <a href="ioctl-battery-query-tag.html"><strong>IOCTL_BATTERY_QUERY_TAG</strong></a> operation to determine the tag of the newly installed battery, if one exists. (See <a href="battery-information.html">Battery Tags</a> for more information.)</p>
<p>When a query information request is made, this value is verified. In addition, if the request is in progress while this value changes, the request is aborted with the status of ERROR_FILE_NOT_FOUND.</p>
<!-- raw HTML omitted -->
<p><strong>InformationLevel</strong></p>
<!-- raw HTML omitted -->
<p>The level of the battery information being queried. The data returned by the IOCTL depends on this value. This member can be one of the following values.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatteryDeviceName</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->4<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Null-terminated Unicode string that contains the battery's name.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatteryEstimatedTime</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->3<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A <strong>ULONG</strong> that specifies the estimated battery run time, in seconds. If the rate of drain provided in the <strong>AtRate</strong> member of the <strong>BATTERY_QUERY_INFORMATION</strong> structure is zero, this calculation is based on the present rate of drain. If <strong>AtRate</strong> is nonzero, the time returned is the expected run time for the given rate. If the estimated time is unknown (for example, the battery is not discharging and the <strong>AtRate</strong> specified was zero), the return value is BATTERY_UNKNOWN_TIME. Note that this value is not very accurate on some battery systems, and may vary widely depending on present power usage, which could be affected by disk activity and other factors. There is no notification mechanism for changes in this value.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatteryGranularityInformation</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>An array of <a href="/windows/desktop/api/WinNT/ns-winnt-battery_reporting_scale"><strong>BATTERY_REPORTING_SCALE</strong></a> structures, never more than four entries.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatteryInformation</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A <a href="battery-information-str.html"><strong>BATTERY_INFORMATION</strong></a> structure.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatteryManufactureDate</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->5<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A <a href="battery-manufacture-date-str.html"><strong>BATTERY_MANUFACTURE_DATE</strong></a> structure.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatteryManufactureName</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->6<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Null-terminated Unicode string that specifies the name of the manufacturer of the battery.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatterySerialNumber</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->8<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Null-terminated Unicode string that specifies the battery's serial number.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatteryTemperature</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->2<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A <strong>ULONG</strong> that specifies the battery's current temperature, in 10ths of a degree Kelvin.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BatteryUniqueID</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->7<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Null-terminated Unicode string that uniquely identifies the battery. This value can be used to track a specific battery. In the case of smart batteries, this ID would be the concatenation of the manufacturer's name, device name, date of manufacture, and a printable representation of the serial number. <!-- raw HTML omitted --> This value is not intended to be displayed to the user.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><strong>AtRate</strong></p>
<!-- raw HTML omitted -->
<p>This member is used only if <strong>InformationLevel</strong> is BatteryEstimatedTime.</p>
<p>If this member is nonzero, it is a rate of drain that will be used to calculate the time until the battery is discharged for the BatteryEstimatedTime of an individual battery. It must be specified in mW, and must be a negative value to represent a battery discharge rate.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>Some information about batteries is optional or may be meaningless for some batteries. If the particular type of data requested is not available for the current battery, then ERROR_INVALID_FUNCTION is returned.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows XP [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Poclass.h; <!-- raw HTML omitted --> <!-- raw HTML omitted -->Batclass.h on Windows Server 2008 R2, Windows 7, Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="battery-information-str.html"><strong>BATTERY_INFORMATION</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="battery-manufacture-date-str.html"><strong>BATTERY_MANUFACTURE_DATE</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/WinNT/ns-winnt-battery_reporting_scale"><strong>BATTERY_REPORTING_SCALE</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="ioctl-battery-query-information.html"><strong>IOCTL_BATTERY_QUERY_INFORMATION</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="ioctl-battery-query-tag.html"><strong>IOCTL_BATTERY_QUERY_TAG</strong></a></p>
<!-- raw HTML omitted -->
</body>
