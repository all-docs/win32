<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>BATTERY_STATUS structure</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Contains the current state of the battery.
ms.assetid: 514906a1-9d7a-40cb-9798-84f6b93d7bfe
title: BATTERY_STATUS structure (Poclass.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>BATTERY_STATUS
api_type:</li>
<li>HeaderDef
api_location:</li>
<li>Poclass.h</li>
<li>Batclass.h</li>
</ul>
<hr />
<h1>BATTERY_STATUS structure</h1>
<p>Contains the current state of the battery. This structure is used by the <a href="ioctl-battery-query-status.html"><strong>IOCTL_BATTERY_QUERY_STATUS</strong></a> control code.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>typedef struct _BATTERY_STATUS {
  ULONG PowerState;
  ULONG Capacity;
  ULONG Voltage;
  LONG  Rate;
} BATTERY_STATUS, *PBATTERY_STATUS;
</code></pre>
<h2>Members</h2>
<!-- raw HTML omitted -->
<p><strong>PowerState</strong></p>
<!-- raw HTML omitted -->
<p>The battery state. This member can be zero, one, or more of the following values.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BATTERY_CHARGING</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000004<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Indicates that the battery is currently charging.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BATTERY_CRITICAL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000008<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Indicates that battery failure is imminent. See the Remarks section for more information.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BATTERY_DISCHARGING</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000002<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Indicates that the battery is currently discharging.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BATTERY_POWER_ON_LINE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000001<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Indicates that the system has access to AC power, so no batteries are being discharged.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><strong>Capacity</strong></p>
<!-- raw HTML omitted -->
<p>The current battery capacity, in mWh (or relative). This value can be used to generate a &quot;gas gauge&quot; display by dividing it by <strong>FullChargedCapacity</strong> member of the <a href="battery-information-str.html"><strong>BATTERY_INFORMATION</strong></a> structure. If the capacity is unavailable, this member is BATTERY_UNKNOWN_CAPACITY.</p>
<!-- raw HTML omitted -->
<p><strong>Voltage</strong></p>
<!-- raw HTML omitted -->
<p>The current battery voltage across the battery terminals, in millivolts (mv). If the voltage is unavailable, this member is BATTERY_UNKNOWN_VOLTAGE.</p>
<!-- raw HTML omitted -->
<p><strong>Rate</strong></p>
<!-- raw HTML omitted -->
<p>The current rate of battery charge or discharge. This value will be in milliwatts unless the battery rate information is relative, in which case it will be in arbitrary units per hour. To determine if battery information is relative, examine the BATTERY_CAPACITY_RELATIVE flag in the <strong>Capabilities</strong> member of the <a href="battery-information-str.html"><strong>BATTERY_INFORMATION</strong></a> structure. A nonzero, positive rate indicates charging; a negative rate indicates discharging. Some batteries report only discharging rates. If the rate is unavailable, this member is BATTERY_UNKNOWN_RATE. If the state of the battery or power source changes, the rate may become available.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The BATTERY_CRITICAL flag in the <strong>PowerState</strong> member of this structure indicates a hardware &quot;battery critical&quot; condition. This critical level is set by the battery manufacturer, not by the user in the &quot;critical battery alarm.&quot; It generally means that the battery system has calculated that the battery is totally drained, and any power being drawn is beyond what is expected.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows XP [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Poclass.h; <!-- raw HTML omitted --> <!-- raw HTML omitted -->Batclass.h on Windows Server 2008 R2, Windows 7, Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="battery-information-str.html"><strong>BATTERY_INFORMATION</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="ioctl-battery-query-status.html"><strong>IOCTL_BATTERY_QUERY_STATUS</strong></a></p>
<!-- raw HTML omitted -->
</body>
