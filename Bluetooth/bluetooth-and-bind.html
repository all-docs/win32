<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Bluetooth and bind</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Bluetooth and bind
description: Bluetooth uses the bind function to bind to a socket.
ms.assetid: 308d2680-de51-49e6-a0da-7aba494d9572
keywords:</p>
<ul>
<li>bind</li>
<li>Bluetooth</li>
<li>Bluetooth</li>
<li>Bluetooth and bind
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Bluetooth and bind</h1>
<p>Bluetooth uses the <a href="/windows/desktop/api/winsock/nf-winsock-bind"><strong>bind</strong></a> function to bind to a socket. To bind a Bluetooth socket, call the <strong>bind</strong> function using the <a href="/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth"><strong>SOCKADDR_BTH</strong></a> structure. Use the <strong>SOCKADDR_BTH</strong> structure with the following settings:</p>
<pre lang="syntax"><code>name.addressFamily = AF_BTH;
name.btAddr = 0;
name.serviceClassId = GUID_NULL;
name.port = number of service channel, 0 or BT_PORT_ANY;
</code></pre>
<p>On client applications, the port member must be zero to enable an appropriate local endpoint to be assigned. On server applications, the port member must be a valid port number or BT_PORT_ANY; ports automatically assigned using BT_PORT_ANY may be queried subsequently with a call to the <a href="bluetooth-and-getsockname.html"><strong>getsockname</strong></a> function. The valid range for requesting a specific RFCOMM port is 1 through 30. Server channels are global resource, and only 30 server channels are available for RFCOMM on any Bluetooth device, which must be shared by all Windows Sockets that belong to the Bluetooth address family. If no server channel is available, or if the specified server channel is already reserved, the <a href="/windows/desktop/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call fails.</p>
<p>Upon successful return from bind, the server channel is reserved until the socket is closed. Use the <a href="bluetooth-and-getsockname.html"><strong>getsockname</strong></a> function to retrieve the channel number for SDP registration.</p>
<p>Applications should use auto-allocation for the server channel.</p>
<p>The <a href="/windows/desktop/api/winsock/nf-winsock-bind"><strong>bind</strong></a> function does not automatically advertise the server application using the Bluetooth SDP; applications must call the <a href="/windows/desktop/api/winsock2/nf-winsock2-wsasetservicea"><strong>WSASetService</strong></a> function to be found by remote Bluetooth applications.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/WinSock/windows-sockets-start-page-2">Windows Sockets</a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/winsock/nf-winsock-bind"><strong>bind</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
