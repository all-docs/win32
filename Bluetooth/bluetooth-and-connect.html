<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Bluetooth and connect</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Bluetooth and connect
description: Bluetooth uses the connect function to connect to a target Bluetooth device, using a previously created Bluetooth socket.
ms.assetid: f9ab3934-7698-4f5e-8194-cca86685a4f8
keywords:</p>
<ul>
<li>Bluetooth Bluetooth</li>
<li>connect Bluetooth</li>
<li>Bluetooth and connect Bluetooth
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Bluetooth and connect</h1>
<p>Bluetooth uses the <a href="/windows/desktop/api/winsock2/nf-winsock2-connect"><strong>connect</strong></a> function to connect to a target Bluetooth device, using a previously created Bluetooth socket. The <em>name</em> parameter of the <strong>connect</strong> function, which is a <a href="/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth"><strong>SOCKADDR_BTH</strong></a> structure, must specify a target Bluetooth device. Two mechanisms are used to identify the target device:</p>
<ul>
<li>The <a href="/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth"><strong>SOCKADDR_BTH</strong></a> structure can directly specify the port number to which a connect is requested. This mechanism requires the application to perform its own SDP queries prior to attempting a <a href="/windows/desktop/api/winsock2/nf-winsock2-connect"><strong>connect</strong></a> operation.</li>
<li>The <a href="/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth"><strong>SOCKADDR_BTH</strong></a> structure can specify the unique service class ID of the service to which it wants to connect. If the peer device has more than one port that corresponds to the service class ID, the <a href="/windows/desktop/api/winsock2/nf-winsock2-connect"><strong>connect</strong></a> function call connects to the first valid service. This mechanism can be used without prior SDP queries.</li>
</ul>
<p>When using the <a href="/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth"><strong>SOCKADDR_BTH</strong></a> structure with the <a href="/windows/desktop/api/winsock2/nf-winsock2-connect"><strong>connect</strong></a> function, the following requirements apply:</p>
<ul>
<li>The <strong>btAddr</strong> member must be a valid remote radio address.</li>
<li>For the <strong>serviceClassId</strong> member, if the port member is zero, the system attempts to use <strong>serviceClassId</strong> to resolve the remote port corresponding to the service. The service class is a normalized 128-bit GUID, defined by the Bluetooth specification. Common GUIDs are defined by the Bluetooth Assigned Numbers document. Alternatively, a unique GUID may be used for a domain-specific application.</li>
<li>The <strong>port</strong> member must be a valid remote port, or zero if the <strong>serviceClassId</strong> member is specified.</li>
</ul>
<p>The following table lists the result codes for Bluetooth and the <a href="/windows/desktop/api/winsock2/nf-winsock2-connect"><strong>connect</strong></a> function.</p>
<table>
<thead>
<tr>
<th>Error/error#</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>WSAEISCONN10056<!-- raw HTML omitted --></td>
<td>The <a href="/windows/desktop/api/winsock2/nf-winsock2-connect"><strong>connect</strong></a> function called for already connected socket.</td>
</tr>
<tr>
<td>WSAEACCES10013<!-- raw HTML omitted --></td>
<td>Connecting application requested authentication, but authentication failed.</td>
</tr>
<tr>
<td>WSAENOBUFS10055<!-- raw HTML omitted --></td>
<td>Unrecoverable out-of-memory error.</td>
</tr>
<tr>
<td>WSAEADDRINUSE10048<!-- raw HTML omitted --></td>
<td>The port/channel number requested is in use.</td>
</tr>
<tr>
<td>WSAETIMEDOUT10060<!-- raw HTML omitted --></td>
<td>The I/O timed out at the Bluetooth radio level (PAGE_TIMEOUT).</td>
</tr>
<tr>
<td>WSAEDISCON10101<!-- raw HTML omitted --></td>
<td>The RFCOMM channel disconnected by remote peer.</td>
</tr>
<tr>
<td>WSAECONNRESET10054<!-- raw HTML omitted --></td>
<td>The RFCOMM multiplexor (session) disconnected by remote peer.</td>
</tr>
<tr>
<td>WSAECONNABORTED10053<!-- raw HTML omitted --></td>
<td>Socket shut down by application.</td>
</tr>
<tr>
<td>WSAENETUNREACH10051<!-- raw HTML omitted --></td>
<td>Error other than time-out at L2CAP or Bluetooth radio level.</td>
</tr>
<tr>
<td>WSAEHOSTDOWN10064<!-- raw HTML omitted --></td>
<td>The RFCOMM received DM response.</td>
</tr>
<tr>
<td>WSAENETDOWN10050<!-- raw HTML omitted --></td>
<td>Unexpected network error.</td>
</tr>
<tr>
<td>WSAESHUTDOWN10058<!-- raw HTML omitted --></td>
<td>The L2CAP channel disconnected by remote peer.</td>
</tr>
<tr>
<td>WSAEADDRNOTAVAIL10049<!-- raw HTML omitted --></td>
<td>Bluetooth port/channel or device address not valid.</td>
</tr>
<tr>
<td>WSAEINVAL10022<!-- raw HTML omitted --></td>
<td>Plug and Play, driver-stack event, or other error caused failure.</td>
</tr>
</tbody>
</table>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/WinSock/windows-sockets-start-page-2">Windows Sockets</a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/winsock2/nf-winsock2-connect"><strong>connect</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth"><strong>SOCKADDR_BTH</strong></a></p>
<!-- raw HTML omitted -->
</body>
