<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Files and Clusters</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: A file is a unit of data in the file system that a user can access and manage.
ms.assetid: 271bad79-c23b-45ee-938c-d17dae89db1a
title: Files and Clusters
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Files and Clusters</h1>
<p>A <em>file</em> is a unit of data in the file system that a user can access and manage. A file must have a unique name in its directory. It consists of one or more streams of bytes that hold a set of related data, plus a set of attributes (also called properties) that describe the file or the data within the file. The creation time of a file is an example of a file attribute.</p>
<p>When a file is created, one unnamed default stream is created to store all data written to the file while it is open. You can also create additional streams within the file. These additional streams are referred to as alternate streams. The following figure depicts a file with the default stream and two alternate streams.</p>
<p><img src="images/fig1.png" alt="file with a default stream and two alternate streams" /></p>
<p>File attributes are not stored in the data streams with the file data, but are stored elsewhere and managed by the operating system.</p>
<p>All file system data, including the system bootstrap code and directories, are stored by the NTFS file system in files. Other file systems store this information in disk regions external to the file system. An advantage of storing this information in files is that Windows can locate, access, and maintain the information easily. Other advantages are that each of these files may be protected by a security descriptor and, in the case of partial disk corruption, they may be quickly relocated to a safer part of the disk.</p>
<p>The fundamental storage unit of all supported file systems is a <em>cluster</em>, which is a group of sectors. This allows the file system to optimize the administration of disk data independently of the disk sector size set by the hardware disk controller. If the disk to be administered is large and large amounts of data are moved and organized in a single operation, the administrator can adjust the cluster size to accommodate this.</p>
<p>Windows manages files through <a href="file-objects.html">file objects</a>, <a href="file-handles.html">file handles</a>, and <a href="file-pointers.html">file pointers</a>.</p>
<p>For more information on file streams, see <a href="file-streams.html">File Streams</a>. For more information on clusters, see <a href="clusters-and-extents.html">Clusters and Extents</a>. For more information on how to access and manage files, see <a href="file-management.html">File Management</a> and <a href="file-management-reference.html">File Management Reference</a>.</p>
<h2>In this section</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="file-streams.html">File Streams</a><!-- raw HTML omitted --></td>
<td>In the NTFS file system, streams contain the data that is written to a file, and that gives more information about a file than attributes and properties.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="file-objects.html">File Objects</a><!-- raw HTML omitted --></td>
<td><em>File objects</em> function as the logical interface between kernel and user-mode processes and the file data that resides on the physical disk.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="file-handles.html">File Handles</a><!-- raw HTML omitted --></td>
<td>When a file is opened by a process using the <a href="/windows/desktop/api/FileAPI/nf-fileapi-createfilea"><strong>CreateFile</strong></a> function, a <em>file handle</em> is associated with it until either the process terminates or the handle is closed using the <a href="/windows/desktop/api/handleapi/nf-handleapi-closehandle"><strong>CloseHandle</strong></a> function.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="file-pointers.html">File Pointers</a><!-- raw HTML omitted --></td>
<td>A file pointer is a 64-bit offset value that specifies the next byte to be read or the location to receive the next byte written.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="clusters-and-extents.html">Clusters and Extents</a><!-- raw HTML omitted --></td>
<td>Clusters may be referred to from two different perspectives: within the file and on the volume.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
</body>
