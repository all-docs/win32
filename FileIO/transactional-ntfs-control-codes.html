<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>TxF Control Codes</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Transactional NTFS (TxF) control codes.
ms.assetid: b66d322a-a971-4219-bb5b-dc69b10b2581
title: TxF Control Codes
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>TxF Control Codes</h1>
<p>[Microsoft strongly recommends developers utilize alternative means to achieve your application s needs. Many scenarios that TxF was developed for can be achieved through simpler and more readily available techniques. Furthermore, TxF may not be available in future versions of Microsoft Windows. For more information, and alternatives to TxF, please see <a href="deprecation-of-txf.html">Alternatives to using Transactional NTFS</a>.]</p>
<p>Transactional NTFS (TxF) provides the following control codes.</p>
<h2>In this section</h2>
<table>
<thead>
<tr>
<th>Control Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_create_miniversion"><strong>FSCTL_TXFS_CREATE_MINIVERSION</strong></a><!-- raw HTML omitted --></td>
<td>Creates a new <a href="glossary.html">miniversion</a> for the specified file. <!-- raw HTML omitted --> Miniversions allow you to refer to a snapshot of the file during a transaction. Miniversions are discarded when a transaction is committed or rolled back.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_get_metadata_info"><strong>FSCTL_TXFS_GET_METADATA_INFO</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves Transacted NTFS (TxF) metadata for a file and the <strong>GUID</strong> of the transaction that has locked the specified file (if the file is locked). <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_get_transacted_version"><strong>FSCTL_TXFS_GET_TRANSACTED_VERSION</strong></a><!-- raw HTML omitted --></td>
<td>Returns a <a href="/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_get_transacted_version"><strong>TXFS_GET_TRANSACTED_VERSION</strong></a> structure. The structure identifies the most recently committed version of the specified file, the version number of the handle. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_list_transaction_locked_files"><strong>FSCTL_TXFS_LIST_TRANSACTION_LOCKED_FILES</strong></a><!-- raw HTML omitted --></td>
<td>Returns a list of all files currently locked by the specified transaction. If the return value is <strong>ERROR_MORE_DATA</strong>, it returns the length of the buffer required to hold the complete list of files at the time of this call.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_list_transactions"><strong>FSCTL_TXFS_LIST_TRANSACTIONS</strong></a><!-- raw HTML omitted --></td>
<td>Returns a list of all the transactions currently involved in the specified resource manager.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_modify_rm"><strong>FSCTL_TXFS_MODIFY_RM</strong></a><!-- raw HTML omitted --></td>
<td>Sets the log mode and log parameter information for a secondary resource manager (RM).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_query_rm_information"><strong>FSCTL_TXFS_QUERY_RM_INFORMATION</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves information for a resource manager (RM).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_read_backup_information"><strong>FSCTL_TXFS_READ_BACKUP_INFORMATION</strong></a><!-- raw HTML omitted --></td>
<td>Returns Transactional NTFS (TxF) specific information for the specified file.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_savepoint_information"><strong>FSCTL_TXFS_SAVEPOINT_INFORMATION</strong></a><!-- raw HTML omitted --></td>
<td>The <a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_savepoint_information"><strong>FSCTL_TXFS_SAVEPOINT_INFORMATION</strong></a> control code controls setting, clearing, and rolling back to the specified savepoint.<!-- raw HTML omitted --> To perform this operation, call the <a href="/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol"><strong>DeviceIoControl</strong></a> function with the following parameters.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_transaction_active"><strong>FSCTL_TXFS_TRANSACTION_ACTIVE</strong></a><!-- raw HTML omitted --></td>
<td>Returns a Boolean value that indicates if there were any transactions active on the associated volume when the snapshot was taken. This call is only valid for read-only snapshot volumes.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_write_backup_information"><strong>FSCTL_TXFS_WRITE_BACKUP_INFORMATION</strong></a><!-- raw HTML omitted --></td>
<td>Writes Transactional NTFS (TxF) specific information to a specified file. The <strong>Buffer</strong> member of the <a href="/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_write_backup_information"><strong>TXFS_WRITE_BACKUP_INFORMATION</strong></a> structure must be the <strong>Buffer</strong> member of the <a href="/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_read_backup_information_out"><strong>TXFS_READ_BACKUP_INFORMATION_OUT</strong></a> structure returned by <a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_read_backup_information"><strong>FSCTL_TXFS_READ_BACKUP_INFORMATION</strong></a>.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
</body>
