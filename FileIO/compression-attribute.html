<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Compression Attribute</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: On an NTFS file system volume, each file and directory has a compression attribute.
ms.assetid: 8aca120c-22a7-4dc8-a921-dfcec1277452
title: Compression Attribute
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Compression Attribute</h1>
<p>On an NTFS file system volume, each file and directory has a <em>compression attribute</em>. Other file systems may also implement a compression attribute for individual files and directories.</p>
<p>You can determine whether a file system supports a compression attribute for files and directories by calling the <a href="/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa"><strong>GetVolumeInformation</strong></a> function and examining the <strong>FILE_FILE_COMPRESSION</strong> bit flag.</p>
<p>Use the <a href="/windows/desktop/api/FileAPI/nf-fileapi-getfileattributesa"><strong>GetFileAttributes</strong></a> or <a href="/windows/desktop/api/FileAPI/nf-fileapi-getfileattributesexa"><strong>GetFileAttributesEx</strong></a> function to determine the compression attribute of a file or directory.</p>
<p>If a file's compression attribute is set (<strong>FILE_ATTRIBUTE_COMPRESSED</strong>), all data in the file is compressed. If the attribute is clear, none of the data in the file is compressed. There is no partially compressed state from a user-mode programming perspective; the compression attribute is a simple Boolean indicator of compression state.</p>
<p>A directory's compression attribute provides a default compression attribute for newly created files and subdirectories. When you call <a href="/windows/desktop/api/FileAPI/nf-fileapi-createfilea"><strong>CreateFile</strong></a> or <a href="/windows/desktop/api/FileAPI/nf-fileapi-createdirectorya"><strong>CreateDirectory</strong></a> to create a new file or directory, the new file or directory inherits the compression attribute of its parent directory.</p>
<p>To modify the <strong>FILE_ATTRIBUTE_COMPRESSED</strong> attribute for a file or directory, you must use the <a href="/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol"><strong>DeviceIoControl</strong></a> function with the <a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_set_compression"><strong>FSCTL_SET_COMPRESSION</strong></a> control code.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="file-attribute-constants.html"><strong>File Attribute Constants</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
