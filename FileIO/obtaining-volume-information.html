<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Obtaining Volume Information</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Before you access files and directories on a given volume, you should determine the capabilities of the file system by using the GetVolumeInformation function.
ms.assetid: 008e0cc4-bc12-47e8-a8b7-d4fa9395fceb
title: Obtaining Volume Information
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Obtaining Volume Information</h1>
<p>The <a href="/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa"><strong>GetVolumeInformation</strong></a> function retrieves information about the file system on a given volume. This information includes the volume name, volume serial number, file system name, file system flags, maximum length of a file name, and so on. Before you access files and directories on a given volume, you should determine the capabilities of the file system by using the <a href="/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa"><strong>GetVolumeInformation</strong></a> function. This function returns values that you can use to adapt your application to work effectively with the file system.</p>
<p>In general, you should avoid using static buffers for file names and paths. Instead, use the values returned by <a href="/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa"><strong>GetVolumeInformation</strong></a> to allocate buffers as you need them. If you must use static buffers, reserve 256 characters for file names and 260 characters for paths.</p>
<p>The <a href="/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsystemdirectorya"><strong>GetSystemDirectory</strong></a> and <a href="/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getwindowsdirectorya"><strong>GetWindowsDirectory</strong></a> functions retrieve the paths to the system directory and the Windows directory, respectively.</p>
<p>The <a href="/windows/desktop/api/FileAPI/nf-fileapi-getdiskfreespacea"><strong>GetDiskFreeSpace</strong></a> function retrieves organizational information about a volume, including the number of bytes per sector, the number of sectors per cluster, the number of free clusters, and the total number of clusters. However, <strong>GetDiskFreeSpace</strong> cannot report volume sizes that are greater than 2 GB. To ensure that your application works with large capacity hard drives, use the <a href="/windows/desktop/api/FileAPI/nf-fileapi-getdiskfreespaceexa"><strong>GetDiskFreeSpaceEx</strong></a> function.</p>
<p>The <a href="/windows/desktop/api/FileAPI/nf-fileapi-getdrivetypea"><strong>GetDriveType</strong></a> function indicates whether the volume referenced by the specified drive letter is a removable, fixed, CD-ROM, RAM, or network drive.</p>
<p>The <a href="/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrives"><strong>GetLogicalDrives</strong></a> function identifies the volumes present. The <a href="/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrivestringsw"><strong>GetLogicalDriveStrings</strong></a> function retrieves a null-terminated string for each volume present. Use these strings whenever a root directory is required.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="file-system-recognition.html">File System Recognition</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
