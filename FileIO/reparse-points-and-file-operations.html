<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Reparse Points and File Operations</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Describes how reparse points enable file system behavior that departs from behavior most Windows developers expect.
ms.assetid: 1aaebda9-0013-4282-9ae1-7c829e171942
title: Reparse Points and File Operations
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Reparse Points and File Operations</h1>
<p><em>Reparse points</em> enable file system behavior that departs from the behavior most Windows developers may be accustomed to, therefore being aware of these behaviors when writing applications that manipulate files is vital to robust and reliable applications intended to access file systems that support reparse points. The extent of these considerations will depend on the specific implementation and associated file system filter behavior of a particular reparse point, which can be user-defined. For more information, see <a href="reparse-points.html">Reparse Points</a>.</p>
<p>Consider the following examples regarding NTFS reparse point implementations, which include mounted folders, linked files, and the Microsoft Remote Storage Server:</p>
<ul>
<li>Backup applications that use <a href="file-streams.html">file streams</a> should specify <strong>BACKUP_REPARSE_DATA</strong> in the <a href="/windows/desktop/api/winbase/ns-winbase-win32_stream_id"><strong>WIN32_STREAM_ID</strong></a> structure when backing up files with reparse points.</li>
<li>Applications that use the <a href="/windows/desktop/api/FileAPI/nf-fileapi-createfilea"><strong>CreateFile</strong></a> function should specify the <strong>FILE_FLAG_OPEN_REPARSE_POINT</strong> flag when opening the file if it is a reparse point. For more information, see <a href="creating-and-opening-files.html">Creating and Opening Files</a>.</li>
<li>The process of <a href="defragmenting-files.html">defragmenting files</a> requires special handling for reparse points.</li>
<li>Virus detection applications should search for reparse points that indicate linked files.</li>
<li>Most applications should take special actions for files that have been moved to long-term storage, if only to notify the user that it may take a while to retrieve the file.</li>
<li>The <a href="/windows/desktop/api/WinBase/nf-winbase-openfilebyid"><strong>OpenFileById</strong></a> function will either open the file or the reparse point, depending on the use of the <strong>FILE_FLAG_OPEN_REPARSE_POINT</strong> flag.</li>
<li>Symbolic links, as reparse points, have certain <a href="symbolic-link-programming-considerations.html">programming considerations</a> specific to them.</li>
<li>Volume management activities for reading update sequence number (USN) change journal records require special handling for reparse points when using the <a href="/windows/desktop/api/WinIoCtl/ns-winioctl-usn_record_v2"><strong>USN_RECORD</strong></a> and <a href="/windows/desktop/api/WinIoCtl/ns-winioctl-read_usn_journal_data_v0"><strong>READ_USN_JOURNAL_DATA</strong></a> structures.</li>
</ul>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="determining-whether-a-directory-is-a-volume-mount-point.html">Determining Whether a Directory Is a Mounted Folder</a></p>
<!-- raw HTML omitted -->
<p><a href="mounting-and-dismounting-a-volume.html">Creating Mounted Folders</a></p>
<!-- raw HTML omitted -->
<p><a href="symbolic-link-effects-on-file-systems-functions.html">Symbolic Link Effects on File Systems Functions</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
