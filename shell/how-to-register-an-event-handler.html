<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>How to Register an Event Handler</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: A device can potentially generate many events, and each event has the option of being handled by one of a number of different handlers.
ms.assetid: C203B5AB-917C-4543-98D6-EDE02E0B5E49
title: How to Register an Event Handler
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>How to Register an Event Handler</h1>
<p>A device can potentially generate many events, and each event has the option of being handled by one of a number of different handlers. In WindowsÂ XP, the following events are defined:</p>
<ul>
<li>DeviceArrival</li>
<li>DeviceRemoval</li>
<li>MediaArrival</li>
<li>MediaRemoval</li>
</ul>
<h2>Instructions</h2>
<p>Event handlers are defined under the <strong>EventHandlers</strong> key. An event handler key's values are the names of each handler that the user must choose from when the event is detected. There is no data value associated with these entries. Following is an example definition for a custom event handler called <strong>MyNewRemovalEventHandler</strong>, which presents these handler possibilities to the user:</p>
<ul>
<li>A handler to use if the event is detected on a device made by the company named Contoso, Inc.</li>
<li>A handler to use if the event is detected on a device made by the company named Fabrikam, Inc.</li>
<li>A handler to use in all other cases.</li>
</ul>
<pre><code>HKEY_LOCAL_MACHINE
Â Â Â SOFTWARE
Â Â Â Â Â Â Microsoft
Â Â Â Â Â Â Â Â Â Windows
Â Â Â Â Â Â Â Â Â Â Â Â CurrentVersion
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Explorer
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â AutoplayHandlers
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â EventHandlers
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â MyNewRemovalEventHandler
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â CompanyContosoHandler [REG_SZ]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â CompanyFabrikamHandler [REG_SZ]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â MyRemovalHandler [REG_SZ]
</code></pre>
<p>After an event handler is defined, it must be registered with a device handler for one of the event possibilities: DeviceArrival, DeviceRemoval, MediaArrival, or MediaRemoval. MyNewRemovalEventHandler, defined earlier, is used for DeviceRemoval under a custom device handler named MyDeviceHandler and is defined for that purpose in the following example. Again, the registry value has no data component.</p>
<pre><code>HKEY_LOCAL_MACHINE
Â Â Â SOFTWARE
Â Â Â Â Â Â Microsoft
Â Â Â Â Â Â Â Â Â Windows
Â Â Â Â Â Â Â Â Â Â Â Â CurrentVersion
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Explorer
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â AutoplayHandlers
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â DeviceHandlers
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â EventHandlers
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â DeviceRemoval
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â MyNewRemovalEventHandler
</code></pre>
<p>WindowsÂ XP predefines the following set of EventHandlers.</p>
<table>
<thead>
<tr>
<th>EventHandlers key</th>
<th>Media or file type</th>
</tr>
</thead>
<tbody>
<tr>
<td>HandleCDBurningOnArrival</td>
<td>Blank CD-R/CD-RW</td>
</tr>
<tr>
<td>ShowPicturesOnArrival</td>
<td>Picture files</td>
</tr>
<tr>
<td>PlayMusicFilesOnArrival</td>
<td>Music files</td>
</tr>
<tr>
<td>PlayVideoFilesOnArrival</td>
<td>Video files</td>
</tr>
<tr>
<td>PlayCDAudioOnArrival</td>
<td>Audio CD (REDBOOK format CD with Audio tracks)</td>
</tr>
<tr>
<td>PlayDVDMovieOnArrival</td>
<td>DVD movies</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>WindowsÂ Vista predefines the following set of EventHandlers in addition to those above.</p>
<table>
<thead>
<tr>
<th>EventHandlers key</th>
<th>Media or file type</th>
</tr>
</thead>
<tbody>
<tr>
<td>PlaySuperVideoCDMovieOnArrival</td>
<td>Super VideoCD movies</td>
</tr>
<tr>
<td>PlayVideoCDMovieOnArrival</td>
<td>VideoCD movies</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
