<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>How to Customize Folders with Desktop.ini</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Customize the appearance and behavior of an individual folder with a Desktop.ini file.
ms.assetid: 0361b7da-bfb3-4880-b982-85d2fe419805
title: How to Customize Folders with Desktop.ini
ms.topic: article
ms.date: 01/04/2022</h2>
<h1>How to Customize Folders with Desktop.ini</h1>
<p>File system folders are commonly displayed with a standard icon and set of properties, which specify, for instance, whether the folder is shared. You can customize the appearance and behavior of an individual folder by creating a Desktop.ini file in that folder to specify different options.</p>
<h2>Use a Desktop.ini File</h2>
<p>Folders are normally displayed with the standard folder icon. A common use of the Desktop.ini file is to assign a custom icon or thumbnail image to a folder. You can also use Desktop.ini to create an <em>infotip</em> that displays information about the folder and controls some aspects of the folder's behavior, such as specifying localized names for the folder or items in the folder.</p>
<p><strong>Use the following procedure to customize a folder's style with Desktop.ini:</strong></p>
<ol>
<li>Use <a href="/windows/desktop/api/Shlwapi/nf-shlwapi-pathmakesystemfoldera"><strong>PathMakeSystemFolder</strong></a> to make the folder a system folder. This sets the read-only bit on the folder to indicate that the special behavior reserved for Desktop.ini should be enabled. You can also make a folder a system folder from the command line by using <strong>attrib +s</strong> <em>FolderName</em>.</li>
<li>Create a Desktop.ini file for the folder. You should mark it as <em>hidden</em> and <em>system</em> to ensure that it is hidden from normal users.</li>
<li>Make sure the Desktop.ini file that you create is in the Unicode format. This is necessary to store the localized strings that can be displayed to users.</li>
</ol>
<h2>Create a Desktop.ini File</h2>
<p>The Desktop.ini file is a text file that allows you to specify how a file system folder is viewed. The [.ShellClassInfo] section, allows you to customize the folder's view by assigning values to several entries:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ConfirmFileOp</strong></td>
<td>Set this entry to 0 to avoid a &quot;You Are Deleting a System Folder&quot; warning when deleting or moving the folder.</td>
</tr>
<tr>
<td><strong>NoSharing</strong></td>
<td>Not supported under Windows Vista or later. Set this entry to 1 to prevent the folder from being shared.</td>
</tr>
<tr>
<td><strong>IconFile</strong></td>
<td>If you want to specify a custom icon for the folder, set this entry to the icon's file name. The .ico file name extension is preferred, but it is also possible to specify .bmp files, or .exe and .dll files that contain icons. If you use a relative path, the icon is available to people who view the folder over the network. You must also set the <strong>IconIndex</strong> entry.</td>
</tr>
<tr>
<td><strong>IconIndex</strong></td>
<td>Set this entry to specify the index for a custom icon. If the file assigned to <strong>IconFile</strong> only contains a single icon, set <strong>IconIndex</strong> to 0.</td>
</tr>
<tr>
<td><strong>InfoTip</strong></td>
<td>Set this entry to an informational text string. It is displayed as an infotip when the cursor hovers over the folder. If the user clicks the folder, the information text is displayed in the folder's information block, below the standard information.</td>
</tr>
</tbody>
</table>
<p>The following illustrations are of the Music folder with a custom Desktop.ini file. The folder now:</p>
<ul>
<li>Has a custom icon.</li>
<li>Does not display a &quot;You Are Deleting a System Folder&quot; warning if the folder is moved or deleted.</li>
<li>Cannot be shared.</li>
<li>Displays informational text when the cursor hovers over the folder.</li>
</ul>
<p>The folder options in the following illustrations are set to show hidden files so that Desktop.ini is visible. The folder looks like this:</p>
<p><img src="images/webview4.jpg" alt="screen shot of folder with custom icon" /></p>
<p>When the cursor hovers over the folder, the infotip is displayed.</p>
<p><img src="images/webview6.jpg" alt="screen shot of folder with an infotip" /></p>
<p>The custom icon replaces the folder icon everywhere the folder name appears.</p>
<p><img src="images/webview5.jpg" alt="screen shot of custom icon replacing folder icon" /></p>
<p>The following desktop.ini file was used to customize the Music folder, as seen in the preceding illustrations.</p>
<pre><code>[.ShellClassInfo]
ConfirmFileOp=0
NoSharing=1
IconFile=Folder.ico
IconIndex=0
InfoTip=Some sensible information.
</code></pre>
</body>
