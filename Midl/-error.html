<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>/error switch</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: /error switch
description: The /error switch determines the types of error checking that the generated stubs will perform at run time.
ms.assetid: abd3616a-2d2c-4a7d-bf3a-c84a43387894
keywords:</p>
<ul>
<li>/error switch MIDL
topic_type:</li>
<li>apiref
api_name:</li>
<li>/error
api_type:</li>
<li>NA
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>/error switch</h1>
<p>The <strong>/error</strong> switch determines the types of error checking that the generated stubs will perform at run time.</p>
<blockquote>
<p>[!Note]<br />
This feature is obsolete and no longer supported. The use of the <a href="-robust.html"><strong>/robust</strong></a> switch is recommended.</p>
</blockquote>
<p>Â </p>
<pre lang="syntax"><code>midl /error { allocation | stub_data | ref | bounds_check | none | all }
</code></pre>
<h2>Switch Options</h2>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>allocation</strong></p>
<!-- raw HTML omitted -->
<p>Checks whether <a href="midl-user-allocate-1.html"><strong>midl_user_allocate</strong></a> returns a <strong>NULL</strong> value, indicating an out-of-memory error.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>stub_data</strong></p>
<!-- raw HTML omitted -->
<p>Generates a stub that catches unmarshaling exceptions on the server side and propagates them back to the client.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>ref</strong></p>
<!-- raw HTML omitted -->
<p>Generates code that runs a check at run time to ensure that no <strong>NULL</strong> reference pointers are being passed to the client stubs and raises an RPC_X_NULL_REF_POINTER exception if it finds any.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>bounds_check</strong></p>
<!-- raw HTML omitted -->
<p>Checks size of conformant-varying and varying arrays against transmission length specification.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>none</strong></p>
<!-- raw HTML omitted -->
<p>Performs no error checking.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>all</strong></p>
<!-- raw HTML omitted -->
<p>Performs all error checking. Effective with MIDL version 5.0, this is a default compiler switch.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The <strong>/error</strong> switch selects the number of error checks that the generated stub files will perform. Effective with MIDL version 5.0, the default setting is <strong>/error all</strong>.</p>
<p>The enum errors that are checked (by default in all versions of MIDL) are truncation errors caused when converting between <strong>long enum</strong> types (32-bit integers) and <strong>short enum</strong> types (the network-data representation of <a href="enum.html"><strong>enum</strong></a>), and the number of identifiers in an enumeration exceeding 32,767.</p>
<p>The memory-access error checking (also by default in all versions of MIDL) is for pointers that exceed the end of the buffer in marshaling code and for conformant arrays whose size is less than zero. Use the <strong>/error bounds_check</strong> flag to check for other invalid array bounds.</p>
<p>When you specify <strong>/error allocation</strong>, the stubs include code that raises an exception when <a href="midl-user-allocate-1.html"><strong>midl_user_allocate</strong></a> returns 0.</p>
<p>The <strong>/error stub_data</strong> option prevents client data from crashing the server during unmarshaling, effectively providing a more robust method of handling the unmarshaling operation.</p>
<p>Effective with WindowsÃ‚Â 2000, the underlying run-time NDR marshaling engine performs most of these checks. This means that if you are using one of the fully-interpreted modes (<a href="-oi.html"><strong>/Oi</strong></a>, <strong>/Oif</strong>) of stub generation, choosing different error checking options will not have a marked effect on performance.</p>
<h2>Examples</h2>
<p><strong>midl /error allocation filename.idl</strong></p>
<p><strong>midl /error none filename.idl</strong></p>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="general-midl-command-line-syntax.html">General MIDL Command-line Syntax</a></p>
<!-- raw HTML omitted -->
<p><a href="-robust.html"><strong>/robust</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
