<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>/env switch</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: /env switch
description: The /env switch selects the environment in which the application runs.
ms.assetid: 70a548c8-fdc3-48f3-a865-14ba9b29fb02
keywords:</p>
<ul>
<li>/env switch MIDL
topic_type:</li>
<li>apiref
api_name:</li>
<li>/env
api_type:</li>
<li>NA
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>/env switch</h1>
<p>The <strong>/env</strong> switch selects the environment in which the application runs.</p>
<pre lang="syntax"><code>midl /env { win32 | ia64 | amd64 | win64 }
</code></pre>
<h2>Switch Options</h2>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>win32</strong></p>
<!-- raw HTML omitted -->
<p>Directs the MIDL compiler to generate stub files, or a type library file, for a 32-bit environment.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>ia64</strong></p>
<!-- raw HTML omitted -->
<p>Directs the MIDL compiler to generate stub files, or a type library file, for a Intel Architecture 64-bit (IA64) environment.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>amd64</strong></p>
<!-- raw HTML omitted -->
<p>Directs the MIDL compiler to generate stub files, or a type library file, for an Advanced Micro Devices 64-bit (AMD64) environment.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>win64</strong></p>
<!-- raw HTML omitted -->
<p>Same behavior as <em>ia64</em>.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The <strong>/env</strong> switch primarily affects the packing level used for structures in that environment. Be sure you specify the same packing-level setting for both the MIDL compiler and the C compiler.</p>
<p>The <strong>/env</strong> switch determines the packing level and other settings as follows:</p>
<ul>
<li>When you specify <strong>win32</strong>, generated stubs use C-compiler packing-level 8 for all types involved in remote operations. The <a href="int.html"><strong>int</strong></a> data types are both 32 bits. Pointers are 32 bits.</li>
<li>When you specify <strong>ia64</strong> or <strong>amd64</strong>, the MIDL compiler runs in a cross-compiler mode for the indicated (Intel or AMD) 64-bit platform. The generated stubs use C-compiler packing-level 8 for all types involved in remote operations. The <a href="long.html"><strong>long</strong></a> and <a href="int.html"><strong>int</strong></a> data types are 32 bits. Pointers are 64 bits.</li>
</ul>
<p>The <a href="-align.html"><strong>/align</strong></a>, <a href="-pack.html"><strong>/pack</strong></a>, and <a href="-zp.html"><strong>/Zp</strong></a> switches take precedence over the <strong>/env</strong> settings.</p>
<p>For more information on 64 bit support for MIDL and RPC see <a href="/windows/desktop/WinProg64/designing-64-bit-compatible-interfaces">Designing 64-bit-Compatible Interfaces</a>.</p>
<h2>Examples</h2>
<p><strong>midl /env win32 filename.idl</strong></p>
<p><strong>midl /env ia64 filename.idl</strong></p>
<p><strong>midl /env amd64 filename.idl</strong></p>
<p><strong>midl /env win64 filename.idl</strong></p>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="general-midl-command-line-syntax.html">General MIDL Command-line Syntax</a></p>
<!-- raw HTML omitted -->
<p><a href="-pack.html"><strong>/pack</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="-zp.html"><strong>/Zp</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
