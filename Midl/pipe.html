<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>pipe attribute</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: pipe attribute
description: The pipe type constructor makes it possible to transmit an open-ended stream of typed data across a remote procedure call.
ms.assetid: 85b76a55-8df2-4417-9a39-3e3bf49651fc
keywords:</p>
<ul>
<li>pipe attribute MIDL
topic_type:</li>
<li>apiref
api_name:</li>
<li>pipe
api_type:</li>
<li>NA
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>pipe attribute</h1>
<p>The <strong>pipe</strong> type constructor makes it possible to transmit an open-ended stream of typed data across a remote procedure call.</p>
<pre lang="syntax"><code>typedef pipe element-type pipe-declarator;
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>element-type</em></p>
<!-- raw HTML omitted -->
<p>Defines the size of a single element in the transfer buffer. The <em>element-type</em> can be a <a href="midl-base-types.html">base type</a>, predefined_type, <a href="struct.html"><strong>struct</strong></a>, <a href="v1-enum.html"><strong>32b enum</strong></a>, or type identifier. Several restrictions apply to <em>element_types</em>, as described in Remarks, below.</p>
<!-- raw HTML omitted -->
<p><em>pipe-declarator</em></p>
<!-- raw HTML omitted -->
<p>Specifies one or more identifiers or pointers to identifiers. Separate multiple declarators with commas.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>You can use the <strong>pipe</strong> type constructor to transmit data in both directions. An <strong>[</strong><a href="in.html"><strong>in</strong></a><strong>]</strong> pipe parameter allows the server to pull the data stream from the client during a remote procedure call. An <strong>[</strong><a href="out-idl.html"><strong>out</strong></a><strong>]</strong> pipe parameter allows the server to push the data stream back to the client. You supply the client-side routines to push and pull the data stream and to allocate a global buffer for the data. The client and server stub routines marshal and unmarshal data and pass a reference to the buffer back to the application.</p>
<p>The following restrictions apply to pipes:</p>
<ul>
<li>A pipe element cannot be or contain a pointer, a conformant or varying array, a handle, or a context handle. Also, in the Microsoft implementation of pipes, a pipe element cannot be or contain a <a href="union.html"><strong>union</strong></a>, a <a href="enum.html"><strong>16b enum</strong></a>, or an <a href="--int3264.html"><strong>__int3264</strong></a>.</li>
<li>You cannot apply the <strong>[</strong><a href="transmit-as.html"><strong>transmit_as</strong></a><strong>]</strong>, <strong>[</strong><a href="represent-as.html"><strong>represent_as</strong></a><strong>]</strong>, <strong>[</strong><a href="wire-marshal.html"><strong>wire_marshal</strong></a><strong>]</strong>, or <strong>[</strong><a href="user-marshal.html"><strong>user_marshal</strong></a><strong>]</strong> attributes to a pipe type or to the <em>element-type</em>.</li>
<li>A pipe type cannot be a member of a structure or union, the target of a pointer, or the base type of an array.</li>
<li>A data type declared to be a pipe type can only be used as a parameter of a remote call.</li>
<li>You can pass a pipe parameter in either direction by value or by reference (<strong>[</strong><a href="ref.html"><strong>ref</strong></a><strong>]</strong> pointer). However you cannot apply the <strong>[</strong><a href="ptr.html"><strong>ptr</strong></a><strong>]</strong> attribute to a pipe that is passed by reference. You cannot specify a pipe parameter with a <strong>[</strong><a href="unique.html"><strong>unique</strong></a><strong>]</strong> or a full pointer, regardless of direction.</li>
<li>You cannot use pipes in <strong>[</strong><a href="object.html"><strong>object</strong></a><strong>]</strong> interfaces.</li>
<li>You cannot apply the <strong>[</strong><a href="idempotent.html"><strong>idempotent</strong></a><strong>]</strong> attribute to a routine that has a pipe parameter.</li>
<li>You cannot use the serialization attributes, <strong>[</strong><a href="encode.html"><strong>encode</strong></a><strong>]</strong> and <strong>[</strong><a href="decode.html"><strong>decode</strong></a><strong>]</strong> with pipes.</li>
<li>You cannot use automatic handles, either by default, or with the <strong>[</strong><a href="auto-handle.html"><strong>auto_handle</strong></a><strong>]</strong> attribute, with pipes.</li>
</ul>
<blockquote>
<p>[!Note]<br />
The MIDL compiler supports pipes in <a href="-oi.html"><strong>/Oif</strong></a> mode only.</p>
</blockquote>
<p>Â </p>
<p>For more information on implementing routines with pipe parameters, see <a href="/windows/desktop/Rpc/pipes">Pipes</a> in the RPC Programmer's Guide and Reference.</p>
<h2>Examples</h2>
<pre lang="syntax"><code>typedef pipe unsigned char UCHAR_PIPE1, UCHAR_PIPE2;
 
//SIMPLE_STRUCT defined elsewhere
typedef pipe SIMPLE_STRUCT SIMPLE_STRUCT_PIPE;
</code></pre>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="auto-handle.html"><strong>auto_handle</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="midl-base-types.html">MIDL Base Types</a></p>
<!-- raw HTML omitted -->
<p><a href="decode.html"><strong>decode</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="encode.html"><strong>encode</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="enum.html"><strong>enum</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="idempotent.html"><strong>idempotent</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="in.html"><strong>in</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="object.html"><strong>object</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="out-idl.html"><strong>out</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="ptr.html"><strong>ptr</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="ref.html"><strong>ref</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="represent-as.html"><strong>represent_as</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="struct.html"><strong>struct</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="transmit-as.html"><strong>transmit_as</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="unique.html"><strong>unique</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="user-marshal.html"><strong>user_marshal</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="wire-marshal.html"><strong>wire_marshal</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
