<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>disable_consistency_check Attribute</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: disable_consistency_check Attribute
description: Directs RPC to not enforce correlation consistency checking.
ms.assetid: 33ba331d-56e5-4965-a844-7780ea81623d
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>disable_consistency_check Attribute</h1>
<p>Directs RPC to not enforce correlation consistency checking.</p>
<pre lang="syntax"><code>interface interface-name
{
  return-type function-name(
        [[attribute-list,] disable_consistency_check] param-type param-name
}
</code></pre>
<p>For correlated parameters, RPC will enforce that a non-null buffer is passed when the correlation count variable is non-null.</p>
<h2>Example</h2>
<pre lang="syntax"><code>HRESULT PassString( [in] DWORD Length, [in, unique, string, 
    size_is( Length )]LPWSTR MyString );
</code></pre>
<p>If <em>MyString</em> is <strong>NULL</strong>, RPC will reject the call unless Length is set to 0. Note that RPC will allow <em>Length</em> to be 0 while <em>MyString</em> is non-NULL, and RPC will treat <em>MyString</em> as a 0-length buffer allocation.</p>
<h2>Remarks</h2>
<p>To disable this checking, the IDL can contain the [disable_consistency_check] attribute on a parameter, typedef, or pointer type. This will direct RPC to not enforce the consistency between the buffer pointer and the correlation variable for the buffer pointed to by the parameter or pointer.</p>
<p>To disable consistency checking for an entire MIDL compilation (and disable enforcement of the checking in all cases), the MIDL command line switch <a href="-backward-compat.html">/backward_compat maybenull_sizeis</a> can be used. This requires that the target of the MIDL compilation be at least Ã¢â‚¬â€œtarget NT60.</p>
<p>Â </p>
<p>Â </p>
</body>
