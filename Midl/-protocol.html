<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>/protocol switch</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: /protocol switch
description: The /protocol switch specifies which wire protocol is supported by the generated stub.
ms.assetid: b565b30c-72e5-442b-9588-324b9041524b
keywords:</p>
<ul>
<li>/protocol switch MIDL
topic_type:</li>
<li>apiref
api_name:</li>
<li>/protocol
api_type:</li>
<li>NA
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>/protocol switch</h1>
<p>The <strong>/protocol</strong> switch specifies which wire protocol is supported by the generated stub.</p>
<pre lang="syntax"><code>midl /protocol (dce | ndr64 | all)
</code></pre>
<h2>Switch Options</h2>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>dce</strong></p>
<!-- raw HTML omitted -->
<p>The generated stub supports DCE protocol only.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>ndr64</strong></p>
<!-- raw HTML omitted -->
<p>The generated stub supports Microsoft NDR64 protocol only.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>all</strong></p>
<!-- raw HTML omitted -->
<p>The generated stub supports all available protocols for a given environment.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>RPC marshals and unmarshals data according to a strict wire protocol, also called transfer syntax, that defines data wire representation such as the order in which data members are marshaled, the alignment of data on the wire, additional information included with the data, among others. Microsoft RPC is compatible with OSF DCE's NDR (network data representation) protocol. In the 64-bit release of Windows XP, Microsoft introduces an experimental protocol NDR64 that is optimized for transferring 64-bit data. NDR64 is not backward compatible with the DCE protocol.</p>
<p>The <strong>dce</strong> protocol is compatible with OSF DCE's NDR transfer syntax. This protocol is optimized for transferring 32-bit data.</p>
<p>The <strong>ndr64</strong> protocol is currently supported only when used in conjunction with the <a href="-win64.html"><strong>/win64</strong></a> switch. If a ndr64 only client tries to connect to a dce-only server, or vice versa, the call is rejected with RPC_S_UNSUPPORTED_TRANS_SYN.</p>
<p>The <strong>all</strong> option creates a stub that may use any available protocol. For 32-bit stubs, the only protocol currently available is DCE. For 64-bit stubs, created using the <a href="-win64.html"><strong>/win64</strong></a> switch, both DCE and NDR64 are available.</p>
<h2>Examples</h2>
<p><strong>midl /protocol all /win64 filename.idl</strong></p>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="-system-.html"><strong>/&lt;system&gt;</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
