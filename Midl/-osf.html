<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>/osf switch</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: /osf switch
description: The /osf switch forces strict compatibility with OSF DCE.
ms.assetid: d94228fa-24af-43d7-9596-cf3a14690e0b
keywords:</p>
<ul>
<li>/osf switch MIDL
topic_type:</li>
<li>apiref
api_name:</li>
<li>/osf
api_type:</li>
<li>NA
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>/osf switch</h1>
<p>The <strong>/osf</strong> switch forces strict compatibility with OSF DCE.</p>
<pre lang="syntax"><code>midl /osf
</code></pre>
<h2>Switch Options</h2>
<p>This switch has no parameters.</p>
<h2>Remarks</h2>
<p>Use this switch if your application requires strict compatibility with OSF DCE for portability reasons.</p>
<p>In <strong>/osf</strong> mode, the RpcSs package is automatically enabled when you use full pointers, the arguments require memory allocation, or when you use the <a href="enable-allocate.html"><strong>enable_allocate</strong></a> attribute. This means that you do not have to supply the <a href="/windows/desktop/Rpc/the-midl-user-allocate-function"><strong>midl_user_allocate</strong></a> and <a href="/windows/desktop/Rpc/the-midl-user-free-function"><strong>midl_user_free</strong></a> functions in your client and server application.</p>
<p>The following Microsoft-extended features are not available when you compile with the <strong>/osf</strong> switch:</p>
<ul>
<li>Abstract declarators (unnamed parameters) in the IDL file.</li>
<li>Interface definitions for COM objects.</li>
<li>Interface names with more than 17 characters.</li>
<li>MIDL-only attributes, such as <a href="wire-marshal.html"><strong>wire_marshal</strong></a>, <a href="user-marshal.html"><strong>user_marshal</strong></a>, and the typelib (ODL)extensions.</li>
<li>Using ACF keywords in an IDL file (the MIDL <strong>/app_config</strong> option).</li>
<li>Static callback functions on the client.</li>
<li>The <a href="async.html"><strong>async</strong></a> attribute.</li>
<li><a href="cpp-quote.html"><strong>cpp_quote</strong></a> and <strong>#pragma midl_echo</strong>.</li>
<li><a href="wchar-t.html"><strong>wchar_t</strong></a> wide-character types, constants, and strings.</li>
<li><a href="enum.html"><strong>enum</strong></a> initialization (sparse enumerators).</li>
<li><a href="out-idl.html"><strong>out</strong></a>-only size specification.</li>
<li>Mixed sized-pointers and sized arrays.</li>
<li>Expressions used for size and discriminator specifiers.</li>
<li>Explicit handle parameters in any position in the argument list. In <strong>/osf</strong> mode, the MIDL compiler looks for an explicit binding handle as the first parameter. When the first parameter is not a binding handle and one or more context handles are specified, the leftmost context handle is used as the binding handle. When the first parameter is not a handle and there are no context handles, the procedure uses implicit binding using the ACF attribute <a href="implicit-handle.html"><strong>implicit_handle</strong></a> or <a href="auto-handle.html"><strong>auto_handle</strong></a>.</li>
<li>Pointer-attribute type inheritance. OSF DCE does not allow unattributed pointers. Therefore, in <strong>/osf</strong> mode each IDL file must define attributes for its pointers. If any pointer does not have an explicit attribute, the IDL file must have a <a href="pointer-default.html"><strong>pointer_default</strong></a> specification to set the pointer type.</li>
<li>Multiple interfaces in an IDL file.</li>
<li>Definitions outside of the interface block.</li>
<li>Type qualifiers such as <strong>far</strong> and <strong>stdcall</strong>.</li>
<li>Omitting directional attributes.</li>
</ul>
<p>The following C/C++ language extensions are not available when you compile with the <strong>/osf</strong> switch:</p>
<ul>
<li>Bit fields in structures and unions.</li>
<li>Single line comments delimited with two slash characters (//).</li>
<li>External declarations.</li>
<li>Procedures with ellipses in the parameter list.</li>
<li>Type <a href="int.html"><strong>int</strong></a>.</li>
<li>Type <strong>void *</strong> (except with the <a href="context-handle.html"><strong>context_handle</strong></a> attribute).</li>
<li>Type qualifiers, including the form with the ANSI-conformant prefix, contain two underscore characters: <strong>__cdecl</strong>, <strong>cdecl</strong>, <a href="const.html"><strong>const</strong></a>, <strong>const</strong>, <strong>__export</strong>, <strong>export</strong>, <strong>__far</strong>, <strong>far</strong>, <strong>__loadds</strong>, <strong>loadds</strong>, <strong>__near</strong>, <strong>near</strong>, <strong>__pascal</strong>, <strong>pascal</strong>, <strong>__stdcall</strong>, <strong>stdcall</strong>, <strong>__volatile</strong>, and <strong>volatile</strong>.</li>
<li>Any # <a href="pragma.html"><strong>pragma</strong></a> warning or <strong>#pragma</strong> comment.</li>
<li>Type serialization.</li>
<li>The <a href="--int3264.html"><strong>__int3264</strong></a> data type.</li>
<li>The <a href="-protocol.html"><strong>/protocol</strong></a> switch, and ndr64 transfer syntax.</li>
</ul>
<h2>Examples</h2>
<p><strong>midl /osf filename.idl</strong></p>
<p><strong>midl /osf /app_config filename.idl</strong></p>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="general-midl-command-line-syntax.html">General MIDL Command-line Syntax</a></p>
<!-- raw HTML omitted -->
<p><a href="-app-config.html"><strong>/app_config</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="-ms-ext.html"><strong>/ms_ext</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/Rpc/rpcss-memory-management-package">Rpcss Memory Management Package</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
