<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Syntax</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Syntax
description: Here is the syntax for calling FXC.exe, the effect-compiler tool. For an example, see Offline Compiling.
ms.assetid: 3aee89bd-02e1-4de1-8552-ba36814f8464
keywords:</p>
<ul>
<li>fxc, syntax
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Syntax</h1>
<p>Here is the syntax for calling FXC.exe, the effect-compiler tool. For an example, see <a href="dx-graphics-tools-fxc-using.html">Offline Compiling</a>.</p>
<ul>
<li><a href="#usage">Usage</a></li>
<li><a href="#arguments">Arguments</a></li>
<li><a href="#remarks">Remarks</a></li>
<li><a href="#profiles">Profiles</a></li>
<li><a href="#version-notes">Version notes</a></li>
<li><a href="#related-topics">Related topics</a></li>
</ul>
<h2>Usage</h2>
<p><strong>fxc</strong> <em>SwitchOptions</em> <em>Filenames</em></p>
<h2>Arguments</h2>
<p>Separate each switch option with a space or a colon.</p>
<h3><em>SwitchOptions</em></h3>
<p>[in] Compile options. There is just one required option, and many more that are optional. Separate each with a space or colon.</p>
<h4>Required option</h4>
<h5>/T <!-- raw HTML omitted --></h5>
<p>Shader model (see <a href="#profiles">Profiles</a>).</p>
<h4>Optional options</h4>
<h5>/?, /help</h5>
<p>Print help for <code>FXC.exe</code>.</p>
<h5>@<!-- raw HTML omitted --></h5>
<p>File that contains additional compile options. This option can be mixed with other command line compile options. The <em>command.option.file</em> must contain only one option per line. The <em>command.option.file</em> cannot contain any blank lines. Options specified in the file must not contain any leading or trailing spaces.</p>
<h5>/all_resources_bound</h5>
<p>Enable aggressive flattening in SM5.1+. New for Direct3D 12.</p>
<h5>/Cc</h5>
<p>Output color-coded assembly.</p>
<h5>/compress</h5>
<p>Compress DX10 shader bytecode from files.</p>
<h5>/D <!-- raw HTML omitted --></h5>
<p>Define macro.</p>
<h5>/decompress</h5>
<p>Decompress DX10 shader bytecode from first file. Output files should be listed in the order they were in during compression.</p>
<h5>/dumpbin</h5>
<p>Loads a binary file rather than compiling a shader.</p>
<h5>/E &lt;name&gt;</h5>
<p>Shader entry point. If no entry point is given, <strong>main</strong> is considered to be the shader entry name.</p>
<h5>/enable_unbounded_descriptor_tables</h5>
<p>Enables unbounded descriptor tables. New for Direct3D 12.</p>
<h5>/extractrootsignature <!-- raw HTML omitted --></h5>
<p>Extract root signature from shader bytecode. New for Direct3D 12.</p>
<h5>/Fc <!-- raw HTML omitted --></h5>
<p>Output assembly code listing file.</p>
<h5>/Fd <!-- raw HTML omitted --></h5>
<p>Extract shader program database (PDB) info and write to the given file.When you compile the shader, use /Fd to generate a PDB file with shader debugging info.</p>
<h5>/Fe <!-- raw HTML omitted --></h5>
<p>Output warnings and errors to the given file.</p>
<h5>/Fh <!-- raw HTML omitted --></h5>
<p>Output header file containing object code.</p>
<h5>/Fl &lt;<em>file</em></h5>
<p>Output a library. Requires the D3dcompiler_47.dll or a later version of the DLL.</p>
<h5>/Fo <!-- raw HTML omitted --></h5>
<p>Output object file. Often given the extension &quot;.fxc&quot;, though other extensions are used, such as &quot;.o&quot;, &quot;.obj&quot; or &quot;.dxbc&quot;.</p>
<h5>/Fx <!-- raw HTML omitted --></h5>
<p>Output assembly code and hex listing file.</p>
<h5>/Gch</h5>
<p>Compile as a child effect for fx_4_x profiles.</p>
<blockquote>
<p>[!NOTE]
Support for legacy Effects profiles is deprecated.</p>
</blockquote>
<h5>/Gdp</h5>
<p>Disable effect performance mode.</p>
<h5>/Gec</h5>
<p>Enable backward compatibility mode.</p>
<h5>/Ges</h5>
<p>Enable strict mode.</p>
<h5>/getprivate <!-- raw HTML omitted --></h5>
<p>Save private data from the shader blob (compiled shader binary) to the given file. Extracts private data, previously embedded by /setprivate, from the shader blob.</p>
<p>You must specify the /dumpbin option with /getprivate. For example:</p>
<pre lang="console"><code>fxc /getprivate ps01.private.data 
    /dumpbin ps01.with.private.obj
</code></pre>
<h5>/Gfa</h5>
<p>Avoid flow control constructs.</p>
<h5>/Gfp</h5>
<p>Prefer flow control constructs.</p>
<h5>/Gis</h5>
<p>Force IEEE strictness.</p>
<h5>/Gpp</h5>
<p>Force partial precision.</p>
<h5>/I <!-- raw HTML omitted --></h5>
<p>Additional include path.</p>
<h5>/Lx</h5>
<p>Output hexadecimal literals. Requires the D3dcompiler_47.dll or a later version of the DLL.</p>
<h5>/matchUAVs</h5>
<p>Match template shader UAV slot allocations in the current shader. For more info, see <!-- raw HTML omitted -->Remarks<!-- raw HTML omitted -->.</p>
<h5>/mergeUAVs</h5>
<p>Merge UAV slot allocations of template shader and the current shader. For more info, see <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Remarks<!-- raw HTML omitted -->.</p>
<h5>/Ni</h5>
<p>Output instruction numbers in assembly listings.</p>
<h5>/No</h5>
<p>Output instruction byte offset in assembly listings. When you produce assembly, use /No to annotate it with the byte offset for each instruction.</p>
<h5>/nologo</h5>
<p>Suppress copyright message.</p>
<h5>/Od</h5>
<p>Disable optimizations. /Od implies /Gfp, though output may not be identical to /Od /Gfp.</p>
<h5>/Op</h5>
<p>Disable preshaders (deprecated).</p>
<h5>/O0 /O1, /O2, /O3</h5>
<p>Optimization levels. O1 is the default setting.</p>
<ul>
<li>O0 - Disables instruction reordering. This helps reduce register load and enables faster loop simulation.</li>
<li>O1 - Disables instruction reordering for ps_3_0 and up.</li>
<li>O2 - Same as O1. Reserved for future use.</li>
<li>O3 - Same as O1. Reserved for future use.</li>
</ul>
<h5>/P <!-- raw HTML omitted --></h5>
<p>Preprocess to file (must be used alone).</p>
<h5>/Qstrip_debug</h5>
<p>Strip debug data from shader bytecode for 4_0+ profiles.</p>
<h5>/Qstrip_priv</h5>
<p>Strip the private data from 4_0+ shader bytecode. Removes private data (arbitrary sequence of bytes) from the shader blob (compiled shader binary) that you previously embedded with the <code>/setprivate &lt;file&gt;</code> option.</p>
<p>You must specify the /dumpbin option with /Qstrip_priv. For example:</p>
<pre lang="console"><code>fxc /Qstrip_priv /dumpbin /Fo ps01.no.private.obj 
    ps01.with.private.obj
</code></pre>
<h5>/Qstrip_reflect</h5>
<p>Strip reflection data from shader bytecode for 4_0+ profiles.</p>
<h5>/Qstrip_rootsignature</h5>
<p>Strip root signature from shader bytecode. New for Direct3D 12.</p>
<h5>/res_may_alias</h5>
<p>Assume that UAVs/SRVs may alias for cs_5_0+. Requires the D3dcompiler_47.dll or a later version of the DLL.</p>
<h5>/setprivate <!-- raw HTML omitted --></h5>
<p>Add private data in the given file to the compiled shader blob. Embeds the given file, which is treated as a raw buffer, to the shader blob. Use /setprivate to add private data when you compile a shader. Or, use the /dumpbin option with /setprivate to load an existing shader object, and then after the object is in memory, to add the private data blob. For example, use either a single command with /setprivate to add private data to a compiled shader blob:</p>
<pre lang="console"><code>fxc /T ps_4_0 /Fo ps01.with.private.obj ps01.fx 
    /setprivate ps01.private.data
</code></pre>
<p>Or, use two commands where the second command loads a shader object and then adds private data:</p>
<pre lang="console"><code>fxc /T ps_4_0 /Fo ps01.no.private.obj ps01.fx
fxc /dumpbin /Fo ps01.with.private.obj ps01.no.private.obj 
    /setprivate ps01.private.data
</code></pre>
<h5>/setrootsignature <!-- raw HTML omitted --></h5>
<p>Attach root signature to shader bytecode. New for Direct3D 12.</p>
<h5>/shtemplate <!-- raw HTML omitted --></h5>
<p>Use given template shader file for merging (/mergeUAVs) and matching (/matchUAVs) resources. For more info, see <!-- raw HTML omitted -->Remarks<!-- raw HTML omitted -->.</p>
<h5>/Vd</h5>
<p>Disable validation.</p>
<h5>/verifyrootsignature <!-- raw HTML omitted --></h5>
<p>Verify shader bytecode against root signature. New for Direct3D 12.</p>
<h5>/Vi</h5>
<p>Display details about the include process.</p>
<h5>/Vn <!-- raw HTML omitted --></h5>
<p>Use name as variable name in header file.</p>
<h5>/WX</h5>
<p>Treat warnings as errors.</p>
<h5>/Zi</h5>
<p>Enable debugging information.</p>
<h5>/Zpc</h5>
<p>Pack matrices in column-major order.</p>
<h5>/Zpr</h5>
<p>Pack matrices in row-major order.</p>
<h3><em>Filenames</em></h3>
<p>[in] The files that contains the shader(s) and/or the effect(s).</p>
<h2>Remarks</h2>
<p>Use the <code>/mergeUAVs</code>, <code>/matchUAVs</code>, and <code>/shtemplate</code> options to align the UAV binding slots for a chain of shaders.</p>
<p>Suppose you have shaders A.fx, B.fx, and C.fx. To align the UAV binding slots for this chain of shaders, you need two passes of compilation:</p>
<p><strong>To align the UAV binding slots for a chain of shaders</strong></p>
<ol>
<li>Use /mergeUAVs to compile shaders, and specify a previously-compiled shader blob with /shtemplate. For example:
<pre><code>fxc.exe /T cs_5_0 C.fx /Fo C.o /mergeUAVs /shtemplate Btmp.o
</code></pre>
</li>
<li>Use /matchUAVs to compile shaders, and specify the last shader blob from the first pass with /shtemplate. You can compile in any order. For example:
<pre><code>fxc.exe /T cs_5_0 A.fx /Fo A.o /matchUAVs /shtemplate C.o
</code></pre>
</li>
</ol>
<p>You don't have to recompile C.fx in the second pass.</p>
<p>After you perform the preceding two compilation passes, you can use A.o, B.o, and C.o as final shader blobs with aligned UAV slots.</p>
<h2>Profiles</h2>
<p>Each shader model is labeled with an HLSL profile. To compile a shader against a particular shader model, choose the appropriate shader profile from the following table.</p>
<!-- raw HTML omitted -->
<h2>Version notes</h2>
<p>For Direct3D 12 refer to <a href="/windows/desktop/direct3d12/specifying-root-signatures-in-hlsl">Specifying Root Signatures in HLSL</a>, <a href="/windows/desktop/direct3d12/resource-binding-in-hlsl">Resource Binding in HLSL</a> and <a href="/windows/desktop/direct3d12/dynamic-indexing-using-hlsl-5-1">Dynamic Indexing using HLSL 5.1</a>.</p>
<p>In Direct3D 10 use the API to get the vertex, geometry, and pixel-shader profile best suited to a given device by calling these functions: <a href="/windows/desktop/api/d3d10shader/nf-d3d10shader-d3d10getvertexshaderprofile"><strong>D3D10GetVertexShaderProfile</strong></a>, <a href="/windows/desktop/api/d3d10shader/nf-d3d10shader-d3d10getpixelshaderprofile"><strong>D3D10GetPixelShaderProfile</strong></a>, and <a href="/windows/desktop/api/d3d10shader/nf-d3d10shader-d3d10getgeometryshaderprofile"><strong>D3D10GetGeometryShaderProfile</strong></a>.</p>
<p>In Direct3D 9 use the <a href="/windows/desktop/api/d3d9/nf-d3d9-idirect3d9-getdevicecaps"><strong>GetDeviceCaps</strong></a> or <a href="/windows/desktop/api/d3d9/nf-d3d9-idirect3ddevice9-getdevicecaps"><strong>GetDeviceCaps</strong></a> methods to retrieve the vertex and pixel-shader profiles supported by a device. The <a href="/windows/desktop/api/d3d9caps/ns-d3d9caps-d3dcaps9"><strong>D3DCAPS9</strong></a> structure returned by those methods indicates the vertex and pixel-shader profiles supported by a device in its <strong>VertexShaderVersion</strong> and <strong>PixelShaderVersion</strong> members.</p>
<p>For examples, see <a href="dx-graphics-tools-fxc-using.html">Compiling with the Current Compiler</a>.</p>
<h2>Related topics</h2>
<ul>
<li><a href="fxc.html">Effect-Compiler Tool</a></li>
</ul>
</body>
