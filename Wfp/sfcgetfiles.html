<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>SfcGetFiles function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Lists protected files.
ms.assetid: 46a1ff83-afed-4ce3-bb62-551446efdb78
title: SfcGetFiles function (Sfcfiles.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>SfcGetFiles
api_type:</li>
<li>DllExport
api_location:</li>
<li>Sfcfiles.dll</li>
</ul>
<hr />
<h1>SfcGetFiles function</h1>
<p>[This function is available for use in the operating systems specified in the Requirements section. Support for this function was removed in Windows Vista and Windows Server 2008. Use the supported functions listed in <a href="wfp-functions.html">WRP Functions</a> instead.]</p>
<p>Lists protected files.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>NTSTATUS WINAPI SfcGetFiles(
  _Out_ PPROTECT_FILE_ENTRY ProtFileData,
  _Out_ PULONG              FileCount
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>ProtFileData</em> [out]</p>
<!-- raw HTML omitted -->
<p>A pointer to a <a href="pprotect-file-entry.html"><strong>PPROTECT_FILE_ENTRY</strong></a> structure that contains the protected files list.</p>
<!-- raw HTML omitted -->
<p><em>FileCount</em> [out]</p>
<!-- raw HTML omitted -->
<p>A pointer to a location containing a ULONG value that is the number of protected files.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>If the function succeeds, the return value is STATUS_SUCCESS. If the function fails, it returns the appropriate NTSTATUS error code.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows XP [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of client support<!-- raw HTML omitted --></td>
<td>Windows XP<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of server support<!-- raw HTML omitted --></td>
<td>Windows Server 2003<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Sfcfiles.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Sfcfiles.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="pprotect-file-entry.html"><strong>PPROTECT_FILE_ENTRY</strong></a></p>
<!-- raw HTML omitted -->
</body>
