<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>System File Checker</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The system file checker utility, Sfc.exe, allows administrators to scan all protected resources to verify their versions.
ms.assetid: 72f69ad2-15d9-4191-a8aa-4c23a2392006
title: System File Checker
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>System File Checker</h1>
<p>The system file checker utility, Sfc.exe, allows administrators to scan all protected resources to verify their versions.</p>
<p>Files critical to restart Windows that do not match the expected Windows version may be replaced with the correct versions. If a file is repaired, the corresponding registry data is also repaired. Protected files not critical to restart Windows are not repaired.</p>
<h2>Syntax</h2>
<p>The following is the command-line syntax for Sfc.</p>
<p><strong>SFC options [=full file path]</strong></p>
<h2>Options</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/CACHESIZE=<em>x</em></p>
<!-- raw HTML omitted -->
<p>This value is not supported.</p>
<p><strong>Windows ServerÂ 2003 and WindowsÂ XP:</strong> Sets the file cache size. The default size of the cache is 0x32 (50 MB).</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/CANCEL</p>
<!-- raw HTML omitted -->
<p>This value is not supported.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/ENABLE</p>
<!-- raw HTML omitted -->
<p>This value is not supported.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/FILESONLY</p>
<!-- raw HTML omitted -->
<p>Verify or repair only files. Do not verify or repair registry keys.</p>
<p><strong>WindowsÂ XP:</strong> Not supported.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/OFFBOOTDIR</p>
<!-- raw HTML omitted -->
<p>Use this option for offline repairs. Specify the location of the offline boot directory.</p>
<p><strong>WindowsÂ XP:</strong> Not supported.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/OFFWINDIR</p>
<!-- raw HTML omitted -->
<p>Use this option for offline repairs. Specify the location of the offline Windows directory.</p>
<p><strong>WindowsÂ XP:</strong> Not supported.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/PURGECACHE</p>
<!-- raw HTML omitted -->
<p>This value is not supported.</p>
<p><strong>Windows ServerÂ 2003 and WindowsÂ XP:</strong> Empties the file cache and scans all protected system files.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/QUIET</p>
<!-- raw HTML omitted -->
<p>This value is not supported.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/REVERT</p>
<!-- raw HTML omitted -->
<p>Return to default settings.</p>
<p><strong>Windows ServerÂ 2008 and WindowsÂ Vista:</strong> Not supported.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/SCANBOOT</p>
<!-- raw HTML omitted -->
<p>This value is not supported.</p>
<p><strong>Windows ServerÂ 2003 and WindowsÂ XP:</strong> Scans all protected system files at every boot.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/SCANFILE</p>
<!-- raw HTML omitted -->
<p>Scans and repairs the file located at the specified full path.</p>
<p><strong>WindowsÂ XP:</strong> Not supported.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/SCANNOW</p>
<!-- raw HTML omitted -->
<p>Scans all protected system files immediately.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/SCANONCE</p>
<!-- raw HTML omitted -->
<p>This value is not supported.</p>
<p><strong>Windows ServerÂ 2003 and WindowsÂ XP:</strong> Scans all protected system files at the next boot.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/VERIFYFILE</p>
<!-- raw HTML omitted -->
<p>Verifies the file at the specified full path. This option does not repair the file.</p>
<p><strong>WindowsÂ XP:</strong> Not supported.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->/VERIFYONLY</p>
<!-- raw HTML omitted -->
<p>Scans all protected system files but does not repair files.</p>
<p><strong>WindowsÂ XP:</strong> Not supported.</p>
<!-- raw HTML omitted -->
<p>Sfc sets the following registry value:</p>
<p>= HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon\SFCScan</p>
<p>For more information, see <a href="wfp-registry-values.html">WFP Registry Values</a>.</p>
<h2>Remarks</h2>
<p>On WindowsÂ Vista only, you can set the <strong>WINDOWS_TRACING_LOGFILE</strong> environment variable to the location of a valid directory to receive a log file.</p>
<h2>Examples</h2>
<p>The following sample command lines are examples of sfc.exe syntax.</p>
<p><strong>sfc /SCANNOW</strong></p>
<p><strong>sfc /VERIFYFILE=c:\windows\system32\kernel32.dll</strong></p>
<p><strong>sfc /SCANFILE=d:\windows\system32\kernel32.dll /OFFBOOTDIR=d:\ /OFFWINDIR=d:\windows</strong></p>
<p><strong>sfc /VERIFYONLY /FILESONLY</strong></p>
<p>Â </p>
<p>Â </p>
</body>
