<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Building and Testing a GINA DLL</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: All functions, prototypes, structures, and constants are defined in the Winwlx.h header file.
ms.assetid: 13b5bc92-583d-4031-94f9-f84dbfbf7ee7
title: Building and Testing a GINA DLL
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Building and Testing a GINA DLL</h1>
<p>All functions, prototypes, structures, and constants are defined in the Winwlx.h header file.</p>
<blockquote>
<p>[!Note]<br />
GINA DLLs are ignored in WindowsÂ Vista.</p>
</blockquote>
<p>Â </p>
<p>To test a <a href="/windows/desktop/SecGloss/g-gly"><em>GINA</em></a> DLL, use the Winlogon.exe from a checked version of the operating system, which is available with the Microsoft Windows Driver Development Kit (DDK). The checked version of <a href="/windows/desktop/SecGloss/w-gly"><em>Winlogon</em></a> supports debugging GINAs as follows:</p>
<ul>
<li>
<p>You can use the following syntax to create a section in Win.ini to specify Winlogon debugging options.</p>
<pre lang="syntax"><code>[WinlogonDebug]
LogFile=C:\Winlogon.log
DebugFlags=Flag1 [, Flag2 ...]
</code></pre>
<p>If specified, <strong>LogFile</strong> should contain the fully qualified name of the file that will be used to log debugging information. If the file does not exist, it will be created.</p>
<p>The <strong>DebugFlags</strong> options specify which kinds of debugging information to write to the log file, or debugger. <strong>DebugFlags</strong> can contain one or more of the following flags.</p>
<table>
<thead>
<tr>
<th>Debugging flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CoolSwitch</td>
<td>The CTRL+ALT+SHIFT+TAB key combination will cause a debug break in Winlogon.</td>
</tr>
<tr>
<td>Error</td>
<td>Print errors.</td>
</tr>
<tr>
<td>Init</td>
<td>Print initialization and progress messages.</td>
</tr>
<tr>
<td>Notify</td>
<td>Print notification package messages.</td>
</tr>
<tr>
<td>SAS</td>
<td>Print information about <a href="/windows/desktop/SecGloss/s-gly"><em>secure attention sequence</em></a> (SAS) notifications.</td>
</tr>
<tr>
<td>State</td>
<td>Print messages when Winlogon changes state.</td>
</tr>
<tr>
<td>Timeout</td>
<td>Print messages when a time limit is set or a time limit is reached.</td>
</tr>
<tr>
<td>Trace</td>
<td>Print verbose trace information.</td>
</tr>
<tr>
<td>Warn</td>
<td>Print warnings.</td>
</tr>
</tbody>
</table>
<p>Â </p>
</li>
<li>
<p>To start the checked version of Winlogon in a debugger, add the following entry to the registry:</p>
<pre><code>HKEY_LOCAL_MACHINE
Â Â Â Software
Â Â Â Â Â Â Microsoft
Â Â Â Â Â Â Â Â Â WindowsÂ NT
Â Â Â Â Â Â Â Â Â Â Â Â CurrentVersion
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Image File Execution Options
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â winlogon.exe
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Debugger = ntsd -d&lt;dl&gt;
&lt;dt&gt;

</code></pre>
</li>
</ul>
<p>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Data type</p>
<!-- raw HTML omitted -->
<blockquote>
<p>[!NOTE]
You must use the Windows symbolic debugger (NTSD) to debug Winlogon.</p>
</blockquote>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="loading-and-running-a-gina-dll.html">Loading and Running a GINA DLL</a></p>
<!-- raw HTML omitted -->
<p><a href="authentication-functions.html">GINA Export Functions</a></p>
<!-- raw HTML omitted -->
<p><a href="authentication-structures.html">GINA Structures</a></p>
<!-- raw HTML omitted -->
<p><a href="terminal-services-gina-functions.html">Terminal Services GINA Functions</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
