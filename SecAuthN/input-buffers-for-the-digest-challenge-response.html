<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Input Buffers for the Digest Challenge Response</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: HTTP authentication using Microsoft Digest requires three input buffers to generate a challenge response. The following table summarizes these buffers.
ms.assetid: 0df02be2-f42e-46d0-a206-765adf3d7a72
title: Input Buffers for the Digest Challenge Response
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Input Buffers for the Digest Challenge Response</h1>
<p>HTTP authentication using Microsoft Digest requires three input buffers to generate a challenge response. The following table summarizes these buffers.</p>
<table>
<thead>
<tr>
<th>Buffer number</th>
<th>Contains</th>
<th>Buffer type</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Challenge received from the Server</td>
<td>SECBUFFER_TOKEN</td>
</tr>
<tr>
<td>1</td>
<td>HTTP Method</td>
<td>SECBUFFER_PARAMS</td>
</tr>
<tr>
<td>2</td>
<td>H(Entity)</td>
<td>SECBUFFER_PARAMS</td>
</tr>
<tr>
<td>3</td>
<td>The <a href="../secgloss/s-gly.html"><em>service principal name</em></a> (SPN) of the target server.</td>
<td><strong>SECBUFFER_TARGET_HOST</strong> | <strong>SECBUFFER_READONLY</strong></td>
</tr>
<tr>
<td>4</td>
<td>Channel bindings token values</td>
<td><strong>SECBUFFER_CHANNEL_BINDINGS</strong> | <strong>SECBUFFER_READONLY</strong></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Buffer zero contains the Digest challenge received from the server in response to the initial request for an access-protected resource.</p>
<p>Buffer 1 contains the string representation of the method, such as &quot;GET&quot; or &quot;POST&quot;. The method is used in the calculation of A2, as described in <a href="https://www.ietf.org/rfc/rfc2617.txt">RFC 2617</a>.</p>
<p>Buffer 2 is the <a href="../secgloss/m-gly.html"><em>MD5</em></a> hash of the message's entity-body as described in RFC 2617.</p>
<p>Buffer 3 contains the SPN of the target server in UTF-8 formatting when Digest is used with channel bindings.</p>
<p>Buffer 4 contains the channel binding token value when Digest is used with channel bindings.</p>
<h2>Input Buffers for SASL</h2>
<p>Supply buffer zero only. For compatibility with other SSPs, you may call <a href="/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta"><strong>InitializeSecurityContext (Digest)</strong></a> without a valid server challenge. In this case the <em>pInput</em> parameter should be set to <strong>NULL</strong>.</p>
<p>Â </p>
<p>Â </p>
</body>
