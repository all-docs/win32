<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ISCardISO7816::PutData method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: The PutData method constructs an application protocol data unit (APDU) command that stores a single primitive data object or the set of data objects contained in a constructed data object, depending on the file selected.
ms.assetid: 6bad45fb-b202-4eb0-b2f4-fe0a6af64330
title: ISCardISO7816::PutData method (Scardssp.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>ISCardISO7816.PutData
api_type:</li>
<li>COM
api_location:</li>
<li>Scardssp.dll</li>
</ul>
<hr />
<h1>ISCardISO7816::PutData method</h1>
<p>[The <strong>PutData</strong> method is available for use in the operating systems specified in the Requirements section. It is not available for use in Windows ServerÂ 2003 with Service PackÂ 1 (SP1) and later, WindowsÂ Vista, Windows ServerÂ 2008, and subsequent versions of the operating system. The <a href="/previous-versions/windows/desktop/secsmart/smart-card-modules">Smart Card Modules</a> provide similar functionality.]</p>
<p>The <strong>PutData</strong> method constructs an <a href="../secgloss/a-gly.html"><em>application protocol data unit</em></a> (APDU) command that stores a single primitive data object or the set of data objects contained in a constructed data object, depending on the file selected.</p>
<p>How the objects are stored (writing once and/or updating and/or appending) depends on the definition or the nature of the data objects.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT PutData(
  [in]Â Â Â Â Â Â BYTE Â Â Â Â Â Â Â Â byP1,
  [in]Â Â Â Â Â Â BYTE Â Â Â Â Â Â Â Â byP2,
  [in]Â Â Â Â Â Â LPBYTEBUFFER pData,
  [in, out]Â LPSCARDCMD Â Â *ppCmd
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>byP1</em> [in]</p>
<!-- raw HTML omitted -->
<p>Coding of P1-P2.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0000 - 003F<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>RFU<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0040 - 00FF<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>BER-TLV tag (1 byte) in P2<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0100 - 01FF<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Application data (proprietary coding)<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0200 - 02FF<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>SIMPLE-TLV tag in P2<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0300 - 03FF<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>RFU<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0400 - 04FF<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>BER-TLV tag (2 bytes) in P1-P2<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<!-- raw HTML omitted -->
<p><em>byP2</em> [in]</p>
<!-- raw HTML omitted -->
<p>Coding of P1-P2.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0000 - 003F<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>RFU<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0040 - 00FF<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>BER-TLV tag (1 byte) in P2<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0100 - 01FF<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Application data (proprietary coding)<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0200 - 02FF<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>SIMPLE-TLV tag in P2<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0300 - 03FF<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>RFU<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0400 - 04FF<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>BER-TLV tag (2 bytes) in P1-P2<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<!-- raw HTML omitted -->
<p><em>pData</em> [in]</p>
<!-- raw HTML omitted -->
<p>Pointer to a byte buffer that contains the parameters and data to be written.</p>
<!-- raw HTML omitted -->
<p><em>ppCmd</em> [in, out]</p>
<!-- raw HTML omitted -->
<p>On input, a pointer to an <a href="iscardcmd.html"><strong>ISCardCmd</strong></a> interface object or <strong>NULL</strong>.</p>
<p>On return, it is filled with the APDU command constructed by this operation. If <em>ppCmd</em> was set to <strong>NULL</strong>, a <a href="../secgloss/s-gly.html"><em>smart card</em></a> <a href="iscardcmd.html"><strong>ISCardCmd</strong></a> object is internally created and returned using the <em>ppCmd</em> pointer.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>The method returns one of the following possible values.</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>S_OK</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Operation completed successfully.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>E_INVALIDARG</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Invalid parameter.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>E_POINTER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A bad pointer was passed in.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>E_OUTOFMEMORY</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Out of memory.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Remarks</h2>
<p>The command can be performed only if the security status satisfies the security conditions defined by the application within the <a href="../secgloss/c-gly.html"><em>context</em></a> for the function.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Store Application Data</p>
<!-- raw HTML omitted -->
<p>When the value of P1-P2 lies in the range from 0100 to 01FF, the value of P1-P2 shall be an identifier reserved for card internal tests and for proprietary services meaningful within a given application context.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Store Data Objects</p>
<!-- raw HTML omitted -->
<p>When the value P1-P2 lies in the range from 0040 to 00FF, the value of P2 shall be a BER-TLV tag on a single byte. The value of 00FF is reserved for indicating that the data field carries BER-TLV data objects.</p>
<p>When the value of P1-P2 lies in the range 0200 to 02FF, the value of P2 shall be a SIMPLE-TLV tag. The value 0200 is RFU. The value 02FF is reserved for indicating that the data field carries SIMPLE-TLV data objects.</p>
<p>When the value of P1-P2 lies in the range from 4000 to FFFF, the value of P1-P2 shall be a BER-TLV tag on two bytes. The values 4000 to FFFF are RFU.</p>
<p>When a primitive data object is provided, the data field of the command message shall contain the value of the corresponding primitive data object.</p>
<p>When a constructed data object is provided, the data field of the command message shall contain the value of the constructed data object (that is, data objects including their tag, length, and value).</p>
<!-- raw HTML omitted -->
<p>For a list of all the methods provided by this interface, see <a href="iscardiso7816.html"><strong>ISCardISO7816</strong></a>.</p>
<p>In addition to the COM error codes listed above, this interface may return a smart card error code if a smart card function was called to complete the request. For more information, see <a href="authentication-return-values.html">Smart Card Return Values</a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ XP [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of client support<!-- raw HTML omitted --></td>
<td>WindowsÂ XP<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of server support<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2003<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scardssp.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Type library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scardsrv.tlb<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scardssp.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>IID<!-- raw HTML omitted --></td>
<td>IID_ISCardISO7816 is defined as 53B6AA68-3F56-11D0-916B-00AA00C18068<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="iscardiso7816-getdata.html"><strong>GetData</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="iscardiso7816.html"><strong>ISCardISO7816</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
