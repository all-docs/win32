<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>LsaManageSidNameMapping function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>UID:
title: LsaManageSidNameMapping function
description: Adds or removes SID/name mappings from the mapping set registered with the LSA Lookup Service.
old-location:
ms.assetid: na
ms.date: 04/10/2019
ms.keywords:
ms.topic: reference
req.header: Ntsecapi.h
req.include-header:
req.target-type: Windows
req.target-min-winverclnt: Windows XP [desktop apps only]
req.target-min-winversvr: Windows Server 2003 [desktop apps only]
req.kmdf-ver:
req.umdf-ver:
req.ddi-compliance:
req.unicode-ansi:
req.idl:
req.max-support:
req.namespace:
req.assembly:
req.type-library:
req.lib: Secur32.lib
req.dll:</p>
<ul>
<li>Advapi32.dll</li>
<li>API-MS-Win-DownLevel-AdvAPI32-l4-1-0.dll</li>
<li>API-MS-Win-security-lsalookup-l2-1-1.dll
req.irql:
topic_type:</li>
<li>APIRef
api_type:
api_location:
api_name:</li>
<li>LsaManageSidNameMapping
targetos: Windows
req.typenames:
req.redist:</li>
</ul>
<hr />
<h1>LsaManageSidNameMapping function</h1>
<h2>Description</h2>
<p>The <strong>LsaManageSidNameMapping</strong> function adds or removes SID/name mappings from the mapping set registered with the LSA Lookup Service.</p>
<pre lang="cpp"><code>void WINAPI LsaManageSidNameMapping(
  _In_  LSA_SID_NAME_MAPPING_OPERATION_TYPE    OpType,
  _In_  PLSA_SID_NAME_MAPPING_OPERATION_INPUT  OpInput,
  _Out_ PLSA_SID_NAME_MAPPING_OPERATION_OUTPUT *OpOutput
);
</code></pre>
<h2>Parameters</h2>
<h3>OpType [in]</h3>
<p>Indicates if a this function is being called to add or remove an SID/name mapping.</p>
<h3>OpInput [in]</h3>
<p>Indicates the domain, account, and SID values to use during this operation. Additional flags can also be set within this structure.</p>
<h3>OpOutput [out]</h3>
<p>Contains a value of <a href="/previous-versions/windows/desktop/legacy/dn280707(v=vs.85)">LSA_SID_NAME_MAPPING_OPERATION_ERROR</a> that indicates operation success or failure.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Success</strong></td>
<td>Operation is complete without error.</td>
</tr>
<tr>
<td><strong>NonMappingError</strong></td>
<td>An error unrelated to SID-name mapping has occurred.</td>
</tr>
<tr>
<td><strong>NameCollision</strong></td>
<td>Operation failure due to name collision.</td>
</tr>
<tr>
<td><strong>SidCollision</strong></td>
<td>Operation failure due to SID collision.</td>
</tr>
<tr>
<td><strong>DomainNotFound</strong></td>
<td>Corresponding domain not found.</td>
</tr>
<tr>
<td><strong>DomainSidPrefixMismatch</strong></td>
<td>Provided SID doesn't have the correct domain prefix.</td>
</tr>
<tr>
<td><strong>MappingNotFound</strong></td>
<td>Mapping not found in the cache.</td>
</tr>
</tbody>
</table>
<h2>Returns</h2>
<p>If the mapping is inserted successfully, the return value is STATUS_SUCCESS.
Otherwise, if the function fails due to SID or name conflicts, STATUS_INVALID_PARAMETER error will be returned.</p>
<h2>Remarks</h2>
<h2>See also</h2>
</body>
