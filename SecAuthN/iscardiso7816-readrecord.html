<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ISCardISO7816::ReadRecord method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: The ReadRecord method constructs an application protocol data unit (APDU) command that reads either the contents of the specified records or the beginning part of one record of an elementary file.
ms.assetid: b00a3242-93bc-4779-8c62-89157fbcb5d1
title: ISCardISO7816::ReadRecord method (Scardssp.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>ISCardISO7816.ReadRecord
api_type:</li>
<li>COM
api_location:</li>
<li>Scardssp.dll</li>
</ul>
<hr />
<h1>ISCardISO7816::ReadRecord method</h1>
<p>[The <strong>ReadRecord</strong> method is available for use in the operating systems specified in the Requirements section. It is not available for use in Windows ServerÂ 2003 with Service PackÂ 1 (SP1) and later, WindowsÂ Vista, Windows ServerÂ 2008, and subsequent versions of the operating system. The <a href="/previous-versions/windows/desktop/secsmart/smart-card-modules">Smart Card Modules</a> provide similar functionality.]</p>
<p>The <strong>ReadRecord</strong> method constructs an <a href="../secgloss/a-gly.html"><em>application protocol data unit</em></a> (APDU) command that reads either the contents of the specified records or the beginning part of one record of an elementary file.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT ReadRecord(
  [in]Â Â Â Â Â Â BYTE Â Â Â Â Â Â byRecordId,
  [in]Â Â Â Â Â Â BYTE Â Â Â Â Â Â byRefCtrl,
  [in]Â Â Â Â Â Â LONG Â Â Â Â Â Â lBytesToRead,
  [in, out]Â LPSCARDCMD *ppCmd
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>byRecordId</em> [in]</p>
<!-- raw HTML omitted -->
<p>Record number or ID of the first record to be read (00 indicates the current record).</p>
<!-- raw HTML omitted -->
<p><em>byRefCtrl</em> [in]</p>
<!-- raw HTML omitted -->
<p>Coding of the reference control.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Current EF</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: 00000---<!-- raw HTML omitted --> Currently selected EF.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Short EF ID</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: xxxxx---<!-- raw HTML omitted --> Short EF identifier.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>RFU</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: 11111---<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Record #</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: -----1xx<!-- raw HTML omitted --> Usage of record number in P1.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Read Record</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: -----100<!-- raw HTML omitted --> Read record P1.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Up to Last</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: -----101<!-- raw HTML omitted --> Read all records from P1 up to the last. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Up to P1</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: -----110<!-- raw HTML omitted --> Read all records from the last up to P1. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>RFU</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: -----111<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Record ID</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: -----0xx<!-- raw HTML omitted --> Usage of record number in P1.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>First Occur</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: -----000<!-- raw HTML omitted --> Read first occurrence. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Last Occur</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: -----001<!-- raw HTML omitted --> Read last occurrence. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Next Occur</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: -----010<!-- raw HTML omitted --> Read next occurrence. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Previous</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: -----011<!-- raw HTML omitted --> Read previous occurrence. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>Secret</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Bit position: ---xxxxx<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<!-- raw HTML omitted -->
<p><em>lBytesToRead</em> [in]</p>
<!-- raw HTML omitted -->
<p>Number of bytes to read from the transparent EF.</p>
<p>If the Le field contains only zeros, then depending on b3b2b1 of P2 and within the limit of 256 for short length or 65536 for extended length, the command should read completely either the single requested record or the requested sequence of records.</p>
<!-- raw HTML omitted -->
<p><em>ppCmd</em> [in, out]</p>
<!-- raw HTML omitted -->
<p>On input, a pointer to an <a href="iscardcmd.html"><strong>ISCardCmd</strong></a> interface object or <strong>NULL</strong>.</p>
<p>On return, it is filled with the APDU command constructed by this operation. If <em>ppCmd</em> was set to <strong>NULL</strong>, a <a href="../secgloss/s-gly.html"><em>smart card</em></a> <a href="iscardcmd.html"><strong>ISCardCmd</strong></a> object is internally created and returned via the <em>ppCmd</em> pointer.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>The method returns one of the following possible values.</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>S_OK</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Operation completed successfully.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>E_INVALIDARG</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Invalid parameter.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>E_POINTER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A bad pointer was passed in.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>E_OUTOFMEMORY</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Out of memory.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Remarks</h2>
<p>The encapsulated command can only be performed if the security status of the <a href="../secgloss/s-gly.html"><em>smart card</em></a> satisfies the security attributes of the elementary file being read.</p>
<p>If another elementary file is currently selected at the time of issuing this command, it may be processed without identification of the currently selected file.</p>
<p>When the command contains a valid short elementary identifier, it sets the file as current elementary file.</p>
<p>Elementary files without a record structure cannot be read. The encapsulated command aborts if applied to an elementary file without a record structure.</p>
<p>For a list of all the methods provided by this interface, see <a href="iscardiso7816.html"><strong>ISCardISO7816</strong></a>.</p>
<p>In addition to the COM error codes listed above, this interface may return a smart card error code if a smart card function was called to complete the request. For more information, see <a href="authentication-return-values.html">Smart Card Return Values</a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ XP [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of client support<!-- raw HTML omitted --></td>
<td>WindowsÂ XP<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of server support<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2003<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scardssp.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Type library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scardsrv.tlb<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scardssp.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>IID<!-- raw HTML omitted --></td>
<td>IID_ISCardISO7816 is defined as 53B6AA68-3F56-11D0-916B-00AA00C18068<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="iscardiso7816-appendrecord.html"><strong>AppendRecord</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="iscardiso7816.html"><strong>ISCardISO7816</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="iscardiso7816-updaterecord.html"><strong>UpdateRecord</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="iscardiso7816-writerecord.html"><strong>WriteRecord</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
