<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>IByteBuffer::Read method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: The Read method reads a specified number of bytes from the buffer object into memory starting at the current seek pointer.
ms.assetid: 98c4de75-9ecf-4c57-9075-9d0e3675079f
title: IByteBuffer::Read method (Scardssp.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>IByteBuffer.Read
api_type:</li>
<li>COM
api_location:</li>
<li>Scardssp.dll</li>
</ul>
<hr />
<h1>IByteBuffer::Read method</h1>
<p>[The <strong>Read</strong> method is available for use in the operating systems specified in the Requirements section. It is not available for use in Windows Server 2003 with Service Pack 1 (SP1) and later, Windows Vista, Windows Server 2008, and subsequent versions of the operating system. The <a href="/windows/desktop/api/objidl/nn-objidl-istream"><strong>IStream</strong></a> interface provides similar functionality.]</p>
<p>The <strong>Read</strong> method reads a specified number of bytes from the buffer object into memory starting at the current seek pointer.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT Read(
  [out] BYTE *pByte,
  [in]  LONG cb,
  [out] LONG *pcbRead
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pByte</em> [out]</p>
<!-- raw HTML omitted -->
<p>Points to the buffer into which the stream data is read. If an error occurs, this value is <strong>NULL</strong>.</p>
<!-- raw HTML omitted -->
<p><em>cb</em> [in]</p>
<!-- raw HTML omitted -->
<p>Number of bytes of data to attempt to read from the stream object.</p>
<!-- raw HTML omitted -->
<p><em>pcbRead</em> [out]</p>
<!-- raw HTML omitted -->
<p>Address of a <strong>LONG</strong> variable that receives the actual number of bytes read from the stream object. You can set this pointer to <strong>NULL</strong> to indicate that you are not interested in this value. In this case, this method does not provide the actual number of bytes read.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>The return value is an <strong>HRESULT</strong>. A value of S_OK indicates the call was successful.</p>
<h2>Remarks</h2>
<p>This method reads bytes from this stream object into memory. The stream object must be opened in STGM_READ mode. This method adjusts the seek pointer by the actual number of bytes read.</p>
<p>The number of bytes actually read is also returned in the <em>pcbRead</em> parameter.</p>
<p>Notes to Callers</p>
<p>The actual number of bytes read can be fewer than the number of bytes requested if an error occurs or if the end of the stream is reached during the read operation.</p>
<p>Some implementations might return an error if the end of the stream is reached during the read. You must be prepared to deal with the error return or S_OK return values on end of stream reads.</p>
<h2>Examples</h2>
<p>The following example shows reading bytes from the buffer.</p>
<pre lang="C++"><code>BYTE     byAtr[32];
long     lBytesRead, i;
HRESULT  hr;

// pAtr is a pointer to a previously instantiated IByteBuffer.
// It was used in an earlier call by ISCard::get_Atr.
// Use IByteBuffer::Read to access the retrieved ATR bytes.
hr = pAtr-&gt;Read(byAtr, 32, &amp;lBytesRead);
// Use the ATR value. (This example merely displays the bytes.)
for ( i = 0; i &lt; lBytesRead; i++)
    printf(&quot;%c&quot;, *(byAtr + i));
printf(&quot;\n&quot;);
</code></pre>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows XP [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of client support<!-- raw HTML omitted --></td>
<td>Windows XP<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of server support<!-- raw HTML omitted --></td>
<td>Windows Server 2003<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scardssp.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Type library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scardssp.tlb<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scardssp.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>IID<!-- raw HTML omitted --></td>
<td>IID_IByteBuffer is defined as E126F8FE-A7AF-11D0-B88A-00C04FD424B9<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
</body>
