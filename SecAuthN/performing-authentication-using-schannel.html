<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Performing Authentication Using Schannel</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: All Schannel protocols require the server to provide a certificate from a trusted certification authority (CA) as proof of its identity.
ms.assetid: 060981e0-b52a-4cc2-bfd2-4cf24f921f16
title: Performing Authentication Using Schannel
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Performing Authentication Using Schannel</h1>
<p>All Schannel protocols require the server to provide a <a href="../secgloss/c-gly.html"><em>certificate</em></a> from a trusted <a href="../secgloss/c-gly.html"><em>certification authority</em></a> (CA) as proof of its identity. This process is called server authentication. Client authentication, where the client provides proof of its identity, is optional and may be requested by the server at any time.</p>
<h2>Authenticating the Server</h2>
<p>The default behavior of Schannel is to use the <a href="/windows/win32/api/wintrust/nf-wintrust-winverifytrust"><strong>WinVerifyTrust</strong></a> function to verify the <a href="../secgloss/i-gly.html"><em>integrity</em></a> and ownership of the <a href="../secgloss/s-gly.html"><em>server certificate</em></a>. To disable this feature, specify ISC_REQ_MANUAL_CRED_VALIDATION when calling the <a href="./initializesecuritycontext--schannel.html"><strong>InitializeSecurityContext (Schannel)</strong></a> function. For more information, see <a href="manually-validating-schannel-credentials.html">Manually Validating Schannel Credentials</a>.</p>
<h2>Authenticating the Client</h2>
<p>Schannel does not validate client's certificates; the server must perform this authentication manually. Typically, the server will check the client's identity in a database containing user account information. For servers that need to obtain a client's account using a certificate, see <a href="mapping-certificates.html">Mapping Certificates</a>.</p>
<p>When the server requests client authentication, the client must send the server one of its certificates. By default, Schannel will, with no notification to the client, attempt to locate a <a href="../secgloss/c-gly.html"><em>client certificate</em></a> and send it to the server. To disable this feature, clients specify ISC_REQ_USE_SUPPLIED_CREDS when calling the <a href="./initializesecuritycontext--schannel.html"><strong>InitializeSecurityContext (Schannel)</strong></a> function. When this flag is specified, Schannel will return SEC_I_INCOMPLETE_CREDENTIALS to the client when the server requests authentication and the client has not previously supplied a certificate.</p>
<p>Â </p>
<p>Â </p>
</body>
