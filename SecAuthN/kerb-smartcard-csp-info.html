<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>KERB_SMARTCARD_CSP_INFO structure</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Contains information about a smart card cryptographic service provider (CSP).
ms.assetid: b3e6722a-25dd-4137-b224-4082e846ddec
title: KERB_SMARTCARD_CSP_INFO structure
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>KERB_SMARTCARD_CSP_INFO
api_type:</li>
<li>NA
api_location:</li>
</ul>
<hr />
<h1>KERB_SMARTCARD_CSP_INFO structure</h1>
<p>The <strong>KERB_SMARTCARD_CSP_INFO</strong> structure contains information about a smart card <a href="../secgloss/c-gly.html"><em>cryptographic service provider</em></a> (CSP).</p>
<p>This structure is not declared in a public header.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>typedef struct _KERB_SMARTCARD_CSP_INFO {
  DWORD dwCspInfoLen;
  DWORD MessageType;
  union {
    PVOID Â Â ContextInformation;
    ULONG64 SpaceHolderForWow64;
  };
  DWORD flags;
  DWORD KeySpec;
  ULONG nCardNameOffset;
  ULONG nReaderNameOffset;
  ULONG nContainerNameOffset;
  ULONG nCSPNameOffset;
  TCHAR bBuffer;
} KERB_SMARTCARD_CSP_INFO, *PKERB_SMARTCARD_CSP_INFO;
</code></pre>
<h2>Members</h2>
<!-- raw HTML omitted -->
<p><strong>dwCspInfoLen</strong></p>
<!-- raw HTML omitted -->
<p>The size, in bytes, of this structure, including any appended data.</p>
<!-- raw HTML omitted -->
<p><strong>MessageType</strong></p>
<!-- raw HTML omitted -->
<p>The type of message being passed. This member must be set to 1.</p>
<!-- raw HTML omitted -->
<p><strong>ContextInformation</strong></p>
<!-- raw HTML omitted -->
<p>Reserved.</p>
<!-- raw HTML omitted -->
<p><strong>SpaceHolderForWow64</strong></p>
<!-- raw HTML omitted -->
<p>Reserved.</p>
<!-- raw HTML omitted -->
<p><strong>flags</strong></p>
<!-- raw HTML omitted -->
<p>Reserved.</p>
<!-- raw HTML omitted -->
<p><strong>KeySpec</strong></p>
<!-- raw HTML omitted -->
<p>The private key to use from the key container specified within the buffer <strong>bBuffer</strong>. The key can be one of the following values, defined in WinCrypt.h.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>AT_KEYEXCHANGE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The key is a key-exchange key.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>AT_SIGNATURE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->2<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The key is a signature key.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<!-- raw HTML omitted -->
<p><strong>nCardNameOffset</strong></p>
<!-- raw HTML omitted -->
<p>The number of characters in the <strong>bBuffer</strong> buffer that precede the name of the smart card in that buffer.</p>
<blockquote>
<p>[!IMPORTANT]
If the name of the smart card is not provided, the buffer must contain an empty string.</p>
</blockquote>
<p>Â </p>
<!-- raw HTML omitted -->
<p><strong>nReaderNameOffset</strong></p>
<!-- raw HTML omitted -->
<p>The number of characters in the <strong>bBuffer</strong> buffer that precede the name of the smart card reader in that buffer.</p>
<blockquote>
<p>[!IMPORTANT]
If the name of the smart card reader is not provided, the buffer must contain an empty string.</p>
</blockquote>
<p>Â </p>
<!-- raw HTML omitted -->
<p><strong>nContainerNameOffset</strong></p>
<!-- raw HTML omitted -->
<p>The number of characters in the <strong>bBuffer</strong> buffer that precede the name of the key container in that buffer. This string cannot be empty.</p>
<!-- raw HTML omitted -->
<p><strong>nCSPNameOffset</strong></p>
<!-- raw HTML omitted -->
<p>The number of characters in the <strong>bBuffer</strong> buffer that precede the name of the CSP in that buffer.</p>
<!-- raw HTML omitted -->
<p><strong>bBuffer</strong></p>
<!-- raw HTML omitted -->
<p>An array of characters initialized to a length of <code>sizeof(DWORD)</code>. This buffer contains the names referred to by the <strong>nCardNameOffset</strong>, <strong>nReaderNameOffset</strong>, <strong>nContainerNameOffset</strong>, and <strong>nCSPNameOffset</strong> members, as well as any additional data provided by the CSP.</p>
<p>Any names that are not provided must be represented in this buffer by empty strings.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>When this structure is serialized, the structure members must be aligned to boundaries that are multiples of 2 bytes.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2008 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Ntsecapi/ns-ntsecapi-kerb_certificate_logon"><strong>KERB_CERTIFICATE_LOGON</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
