<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ISCardCmd::put_Data method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Sets the data field in the application protocol data unit (APDU).
ms.assetid: 4508e00c-2b1d-4be5-b3a7-083b367a2158
title: ISCardCmd::put_Data method (Scarddat.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>ISCardCmd.put_Data
api_type:</li>
<li>COM
api_location:</li>
<li>Scardssp.dll</li>
</ul>
<hr />
<h1>ISCardCmd::put_Data method</h1>
<p>[The <strong>put_Data</strong> method is available for use in the operating systems specified in the Requirements section. It is not available for use in Windows ServerÂ 2003 with Service PackÂ 1 (SP1) and later, WindowsÂ Vista, Windows ServerÂ 2008, and subsequent versions of the operating system. The <a href="/previous-versions/windows/desktop/secsmart/smart-card-modules">Smart Card Modules</a> provide similar functionality.]</p>
<p>The <strong>put_Data</strong> method sets the data field in the <a href="../secgloss/a-gly.html"><em>application protocol data unit</em></a> (APDU).</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT put_Data(
  [in]Â LPBYTEBUFFER pData
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pData</em> [in]</p>
<!-- raw HTML omitted -->
<p>Pointer to the byte buffer object (<strong>IStream</strong>) to be copied into the APDU data field.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>The method returns one of the following possible values.</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>S_OK</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Operation completed successfully.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>E_INVALIDARG</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The <em>pData</em> parameter is not valid.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>E_POINTER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A bad pointer was passed in <em>pData</em>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>E_OUTOFMEMORY</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Out of memory.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Remarks</h2>
<p>When you set a new data portion of the message, the length of the data field is calculated and stored in the P3 parameter of the APDU. To retrieve the length of the data field, call <a href="iscardcmd-get-p3.html"><strong>get_P3</strong></a>.</p>
<p>To retrieve the data field from the APDU, call <a href="iscardcmd-get-data.html"><strong>get_Data</strong></a>.</p>
<h2>Examples</h2>
<p>The following example shows how to set the data field in the <a href="../secgloss/a-gly.html"><em>application protocol data unit</em></a> (APDU). The example assumes that pIByteData is a valid pointer to an instance of the <a href="ibytebuffer.html"><strong>IByteBuffer</strong></a> interface, and that pISCardCmd is a valid pointer to an instance of the <a href="iscardcmd.html"><strong>ISCardCmd</strong></a> interface.</p>
<pre lang="C++"><code>HRESULT    hr;

// pIByteData is a pointer to an instance of IByteBuffer.
// Set the data.
hr = pISCardCmd-&gt;put_Data(pIByteData);
if (FAILED(hr)) 
{
    printf(&quot;Failed put_Data.\n&quot;);
    // Take other error handling action as needed.
}
</code></pre>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ XP [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of client support<!-- raw HTML omitted --></td>
<td>WindowsÂ XP<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>End of server support<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2003<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scarddat.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Type library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scarddat.tlb<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Scardssp.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>IID<!-- raw HTML omitted --></td>
<td>IID_ISCardCmd is defined as D5778AE3-43DE-11D0-9171-00AA00C18068<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="iscardcmd-get-data.html"><strong>get_Data</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="iscardcmd-get-p3.html"><strong>get_P3</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="iscardcmd.html"><strong>ISCardCmd</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
