<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>GetCurrentPackageInfo3 function (appmodel.h)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: GetCurrentPackageInfo3
description: Retrieves the package graph's current generation ID.
ms.topic: reference
ms.date: 05/03/2022
req.lib:
req.dll: Kernelbase.dll
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_type:</li>
<li>DllExport
api_location:</li>
<li>Kernelbase.dll
api_name:</li>
<li>GetCurrentPackageInfo3
targetos: Windows
ms.localizationpriority: low</li>
</ul>
<hr />
<h1>GetCurrentPackageInfo3 function (appmodel.h)</h1>
<p>Retrieves the package graph's current generation ID.</p>
<p>See <strong>Remarks</strong> for info about how to call the function.</p>
<h2>Syntax</h2>
<pre lang="cpp"><code>HRESULT GetCurrentPackageInfo3(
  _In_ UINT32                                 flags,
  _In_ PackageInfo3Type                       packageInfoType,
  _Inout_ UINT32                             *bufferLength,
  _Out_writes_bytes_opt_(*bufferLength) void *buffer,
  _Out_opt_ UINT32                           *count
);
</code></pre>
<h2>Parameters</h2>
<p><code>flags</code></p>
<p>Type: <strong>const UINT32</strong></p>
<p>The <a href="/windows/desktop/appxpkg/package-constants">package constants</a> that specify how package information is retrieved. The <strong>PACKAGE_FILTER_*</strong> flags are supported.</p>
<p><code>packageInfoType</code></p>
<p>Type: <strong>PackageInfo3Type</strong></p>
<pre lang="cpp"><code>enum PackageInfo3Type
{
	PackageInfo3Type_PackageInfoGeneration = 16,
} PackageInfoType;
</code></pre>
<p>Declare <strong>PackageInfo3Type</strong> as shown above, and pass <strong>PackageInfo3Type::PackageInfo3Type_PackageInfoGeneration</strong>.</p>
<p><code>bufferLength</code></p>
<p>Type: <strong>UINT32*</strong></p>
<p>On input, the size of <!-- raw HTML omitted -->buffer<!-- raw HTML omitted -->, in bytes. On output, the size of the array of structures returned, in bytes.</p>
<p><code>buffer</code></p>
<p>Type: <strong>BYTE*</strong></p>
<p>The package graph's current generation ID, represented as an array of <!-- raw HTML omitted -->PACKAGE_INFO<!-- raw HTML omitted --> structures.</p>
<p><code>count</code></p>
<p>Type: <strong>UINT32*</strong></p>
<p>The number of structures in the buffer.</p>
<h2>Return value</h2>
<p>Type: <strong>LONG</strong></p>
<p>If the function succeeds it returns <strong>ERROR_SUCCESS</strong>. Otherwise, the function returns an error code. The possible error codes include the following.</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>APPMODEL_ERROR_NO_PACKAGE</strong></td>
<td>The process has no package identity.</td>
</tr>
<tr>
<td><strong>ERROR_INSUFFICIENT_BUFFER</strong></td>
<td>The buffer is not large enough to hold the data. The required size is specified  by <!-- raw HTML omitted -->bufferLength<!-- raw HTML omitted -->.</td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>This function does not have an associated header file or library file. Your application can call <a href="/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya"><strong>LoadLibrary</strong></a> with the DLL name (<code>Kernelbase.dll</code>) to obtain a module handle. It can then call <a href="/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress"><strong>GetProcAddress</strong></a> with the module handle and the name of this function to get the function address.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th> </th>
<th align="left"> </th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Minimum supported client</strong></td>
<td align="left">WindowsÂ 10 [desktop apps only]</td>
</tr>
<tr>
<td><strong>Minimum supported server</strong></td>
<td align="left">Windows ServerÂ 2016 [desktop apps only]</td>
</tr>
<tr>
<td><strong>Target Platform</strong></td>
<td align="left">Windows</td>
</tr>
<tr>
<td><strong>Header</strong></td>
<td align="left">None</td>
</tr>
<tr>
<td><strong>Library</strong></td>
<td align="left">None</td>
</tr>
<tr>
<td><strong>DLL</strong></td>
<td align="left">Kernelbase.dll</td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<ul>
<li><a href="/windows/win32/api/appmodel/nf-appmodel-getcurrentpackageinfo">GetCurrentPackageInfo</a></li>
<li><a href="/windows/win32/api/appmodel/nf-appmodel-getcurrentpackagefamilyname">GetCurrentPackageFamilyName</a></li>
<li><a href="/windows/win32/api/appmodel/nf-appmodel-getcurrentpackagefullname">GetCurrentPackageFullName</a></li>
<li><a href="/windows/win32/api/appmodel/nf-appmodel-getcurrentpackageid">GetCurrentPackageId</a></li>
<li><a href="/windows/win32/api/appmodel/nf-appmodel-getcurrentpackagepath">GetCurrentPackagePath</a></li>
<li><a href="/windows/win32/api/appmodel/nf-appmodel-getpackageinfo">GetPackageInfo</a></li>
<li><a href="/windows/win32/api/appmodel/nf-appmodel-getpackageinfo2">GetPackageInfo2</a></li>
</ul>
</body>
