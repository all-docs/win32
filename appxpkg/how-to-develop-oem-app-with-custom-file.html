<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>How to develop an OEM app that uses a custom file</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: How to develop an OEM app that uses a custom file
description: Learn how to develop an app that uses a custom file to pass info from the OEM to the app.
ms.assetid: BCDB4B13-3644-44E4-9A70-04D8E90500EE
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>How to develop an OEM app that uses a custom file</h1>
<p>For more information on creating and using custom data files, see <a href="/windows-hardware/manufacture/desktop/dism-app-package--appx-or-appxbundle--servicing-command-line-options">DISM App Package (.appx or .appxbundle) Servicing Command-Line Options</a>.</p>
<p>Learn how to develop an app that uses a custom file to pass info from the OEM to the app.</p>
<p>For apps that you create for OEM deployment, you can use a custom file to pass info from the OEM to the apps. To pass OEM info to an app, you create a Custom.data file in the microsoft.system.package.metadata folder. This file name is special to the operating system and is automatically carried forward during operating system updates. OEMs can use this file to pass in custom identifiers, so that apps know when OEMs have deployed them. You can have only one Custom.data file per app. Apps must be able to look for and read this file correctly. Developers treat the file as untrusted data.</p>
<h2>What you need to know</h2>
<h3>Technologies</h3>
<ul>
<li><a href="how-to-query-package-identity-information.html">Quickstart: Query app package manifest info</a></li>
</ul>
<h3>Prerequisites</h3>
<ul>
<li>You need the <a href="/windows/desktop/Win7AppQual/dism-replaces-pkgmgr-peimg-and-intlconfg-tools">Deployment Image Servicing and Management (DISM)</a> tool to add the app package with the custom data file.</li>
</ul>
<h2>Instructions</h2>
<h3>Step 1: Create custom file and add it to the package metadata folder</h3>
<p>You can design your app to use any format you choose for the custom data. For example, you can use XML, a text file, or another file type to organize your data. We recommend that you consider how you can test and validate the file. For example, you can create an XML schema to validate an XML file.</p>
<p>You can specify any type of file with any file name for the custom data. When you add the app package with the custom data file by using the <a href="/windows/desktop/Win7AppQual/dism-replaces-pkgmgr-peimg-and-intlconfg-tools">DISM</a> tool, DISM renames the custom file to Custom.data and saves the file to the microsoft.system.package.metadata folder.</p>
<blockquote>
<p>[!Note]<br />
The custom data file can't be modified by the app. It's a read-only resource.</p>
</blockquote>
<p>Â </p>
<h3>Step 2: Access the custom data file for an app</h3>
<p>You can access the Custom.data file for an app from your code by using Windows APIs to get information for the current package. For example:</p>
<pre lang="syntax"><code>Windows.ApplicationModel.Package.current.installedLocation.getFileAsync(
&quot;microsoft.system.package.metadata\\custom.data&quot;)
</code></pre>
<p>For more info about developing with the <a href="/uwp/api/windows.applicationmodel.package.current"><strong>Package.Current</strong></a> property, see <a href="how-to-query-package-identity-information.html">Quickstart: Query app package manifest info</a>.</p>
<p>For more info about accessing the custom.data file via <a href="/uwp/api/windows.storage.istoragefolder.getfileasync"><strong>IStorageFolder.GetFileAsync</strong></a> and by using <a href="/uwp/api/Windows.Storage.StorageFile"><strong>StorageFile</strong></a> objects, see <a href="/previous-versions/windows/apps/hh464959(v=win.10)">Accessing data and files</a>.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="how-to-query-package-identity-information.html">Quickstart: Query app package manifest info</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
