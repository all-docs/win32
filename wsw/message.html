<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Message (Windows Web Services)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Message (Windows Web Services)
description: A message is an object that encapsulates data that is transmitted or received.
ms.assetid: edc810d9-7d78-4b79-8cbb-e87401f6ae41
keywords:</p>
<ul>
<li>Message Web Services for Windows</li>
<li>WWSAPI</li>
<li>WWS
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Message (Windows Web Services)</h1>
<p>A message is an object that encapsulates data that is transmitted or received. The structure of a message is defined by SOAP and includes a set of headers and a body. The headers are always buffered in memory, but the body is read and written with a streaming API.</p>
<p><img src="images/messageenvelope.png" alt="Diagram showing a message with the header being buffered and the body being streamed." /></p>
<p>Messages have a set of properties which can be used to specify optional settings that control the behavior of a message, and to provide a way to retrieve additional information about received messages (such as security information). See <a href="/windows/desktop/api/WebServices/ne-webservices-ws_message_property_id"><strong>WS_MESSAGE_PROPERTY_ID</strong></a> for a complete list of message properties.</p>
<p>A message is addressed to a specific <a href="endpoint-address.html">Endpoint Address</a>.</p>
<p>A <a href="/windows/desktop/api/WebServices/ns-webservices-ws_fault"><strong>WS_FAULT</strong></a> is a special sort of message content used to represent failures returned from a remote endpoint.</p>
<p>Messages undergo encoding that transforms the XML to a linear wire format before being transmitted.</p>
<p>For more information on messages, see the <a href="channel-layer-overview.html">Channel Layer Overview</a> topic.</p>
<p>The following examples illustrate using messages in WWSAPI.</p>
<table>
<thead>
<tr>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="customheaderexample.html">CustomHeaderExample</a></td>
<td>Illustrates using custom message headers.</td>
</tr>
<tr>
<td><a href="messageencodingexample.html">MessageEncodingExample</a></td>
<td>Illustrates encoding and decoding a message.</td>
</tr>
<tr>
<td><a href="forwardmessageexample.html">ForwardMessageExample</a></td>
<td>Illustrates forwarding a message.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The following API elements are used with messages.</p>
<table>
<thead>
<tr>
<th>Callback</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/WebServices/nc-webservices-ws_message_done_callback"><strong>WS_MESSAGE_DONE_CALLBACK</strong></a></td>
<td>Notifies the caller that the message has completed its use of either the WS_XML_READER structure that was supplied to WsReadEnvelopeStart function, or of the WS_XML_WRITER structure supplied to the WsWriteEnvelopeStart function.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<table>
<thead>
<tr>
<th>Enumeration</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/WebServices/ne-webservices-ws_addressing_version"><strong>WS_ADDRESSING_VERSION</strong></a></td>
<td>The version of the specification used for the addressing headers.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/ne-webservices-ws_envelope_version"><strong>WS_ENVELOPE_VERSION</strong></a></td>
<td>The version of the specification used for the envelope structure.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/webservices/ne-webservices-ws_xml_text_type"><strong>WS_HEADER_ATTRIBUTES</strong></a></td>
<td>A set of flags representing the SOAP mustUnderstand and relay attributes of a header.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/ne-webservices-ws_header_type"><strong>WS_HEADER_TYPE</strong></a></td>
<td>The type of the header.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/ne-webservices-ws_message_initialization"><strong>WS_MESSAGE_INITIALIZATION</strong></a></td>
<td>Specifies what headers the <a href="/windows/desktop/api/WebServices/nf-webservices-wsinitializemessage"><strong>WsInitializeMessage</strong></a> should add to the message.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/ne-webservices-ws_message_property_id"><strong>WS_MESSAGE_PROPERTY_ID</strong></a></td>
<td>The ID of each message property.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/ne-webservices-ws_message_state"><strong>WS_MESSAGE_STATE</strong></a></td>
<td>The state of the message.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsaddressmessage"><strong>WsAddressMessage</strong></a></td>
<td>Assigns a destination address to a message.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wscheckmustunderstandheaders"><strong>WsCheckMustUnderstandHeaders</strong></a></td>
<td>Verifies that specified headers were appropriately understood by the receiver.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wscreatemessage"><strong>WsCreateMessage</strong></a></td>
<td>Creates an instance of a <a href="ws-message.html">WS_MESSAGE</a> object.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wscreatemessageforchannel"><strong>WsCreateMessageForChannel</strong></a></td>
<td>Creates a message that is appropriate for use with a specific channel.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsfillbody"><strong>WsFillBody</strong></a></td>
<td>Ensures that there are a sufficient number of bytes available in a message for reading.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsflushbody"><strong>WsFlushBody</strong></a></td>
<td>Flushes all accumulated message body data that has been written.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsfreemessage"><strong>WsFreeMessage</strong></a></td>
<td>Releases the memory resource associated with a message.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsgetcustomheader"><strong>WsGetCustomHeader</strong></a></td>
<td>Finds the application-defined header of the message and deserializes it.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsgetheader"><strong>WsGetHeader</strong></a></td>
<td>Finds a particular standard header in the message and deserializes it.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsgetheaderattributes"><strong>WsGetHeaderAttributes</strong></a></td>
<td>Populates a ULONG parameter with the <a href="/windows/win32/api/webservices/ne-webservices-ws_xml_text_type"><strong>WS_HEADER_ATTRIBUTES</strong></a> from the header element on which the reader is positioned.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsgetmessageproperty"><strong>WsGetMessageProperty</strong></a></td>
<td>Retrieves a specified Message object property.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsinitializemessage"><strong>WsInitializeMessage</strong></a></td>
<td>Initializes the headers for the message in preparation for processing.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsmarkheaderasunderstood"><strong>WsMarkHeaderAsUnderstood</strong></a></td>
<td>Marks a header as understood by the application.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsreadbody"><strong>WsReadBody</strong></a></td>
<td>Deserializes a value from the XML Reader of the message.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsreadenvelopeend"><strong>WsReadEnvelopeEnd</strong></a></td>
<td>Reads the closing elements of a message.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsreadenvelopestart"><strong>WsReadEnvelopeStart</strong></a></td>
<td>Reads the headers of the message and prepares to read the body elements.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsremovecustomheader"><strong>WsRemoveCustomHeader</strong></a></td>
<td>Removes a custom header from the message.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsremoveheader"><strong>WsRemoveHeader</strong></a></td>
<td>Removes the standard <a href="/windows/desktop/api/WebServices/ne-webservices-ws_header_type"><strong>WS_HEADER_TYPE</strong></a> object from a message.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wsresetmessage"><strong>WsResetMessage</strong></a></td>
<td>Sets the Message state back to <strong>WS_MESSAGE_STATE_EMPTY</strong>.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wssetheader"><strong>WsSetHeader</strong></a></td>
<td>Adds or replaces the specified standard header in the message.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wswritebody"><strong>WsWriteBody</strong></a></td>
<td>Writes a value in the body of a message.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wswriteenvelopeend"><strong>WsWriteEnvelopeEnd</strong></a></td>
<td>Writes the closing elements of a message.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/nf-webservices-wswriteenvelopestart"><strong>WsWriteEnvelopeStart</strong></a></td>
<td>Writes the start of the message including the current set of headers of the message and prepares to write the body elements.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<table>
<thead>
<tr>
<th>Handle</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="ws-message.html">WS_MESSAGE</a></td>
<td>The opaque type used to reference a message object.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<table>
<thead>
<tr>
<th>Structure</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/WebServices/ns-webservices-ws_fault"><strong>WS_FAULT</strong></a></td>
<td>A fault value carried in the body of a message which indicates a processing failure.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/ns-webservices-ws_fault_code"><strong>WS_FAULT_CODE</strong></a></td>
<td>Represents a fault code.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/ns-webservices-ws_fault_reason"><strong>WS_FAULT_REASON</strong></a></td>
<td>Contains an explanation of the fault.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/ns-webservices-ws_message_properties"><strong>WS_MESSAGE_PROPERTIES</strong></a></td>
<td>Specifies a set of <a href="/windows/desktop/api/WebServices/ns-webservices-ws_message_property"><strong>WS_MESSAGE_PROPERTY</strong></a> structures.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WebServices/ns-webservices-ws_message_property"><strong>WS_MESSAGE_PROPERTY</strong></a></td>
<td>Specifies a message specific setting.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
