<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>PacketMonitorAddSingleDataSourceToSession function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: PacketMonitorAddSingleDataSourceToSession
description: Adds a DataSource to a PacketMonitor Session.
ms.topic: reference
ms.date: 07/03/2024
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_type:</li>
<li>DllExport
api_location:</li>
<li>Pktmonapi.dll
api_name:</li>
<li>PacketMonitorAddSingleDataSourceToSession</li>
</ul>
<hr />
<h1>PacketMonitorAddSingleDataSourceToSession function</h1>
<h2>Description</h2>
<p>This function adds a DataSource to a PacketMonitor Session. It tells Packet Monitor to only capture packets from the specified data source for the corresponding session. Multiple instances of this API call can be used to add a subset of Data Source list previously retrieved from â€˜PacketMonitorEnumDataSourcesâ€™.</p>
<h2>Syntax</h2>
<pre lang="cpp"><code>HRESULT
WINAPI
PacketMonitorAddSingleDataSourceToSession(
    _In_ PACKETMONITOR_SESSION session,
    _In_ PACKETMONITOR_DATA_SOURCE_SPECIFICATION const* dataSource
    );
</code></pre>
<h2>Parameters</h2>
<h3>[in] session</h3>
<p>Packet Monitor Session to which this Data Source will be applied as filter for Packet Monitoring. The session object can be retrieved by calling PacketMonitorCreateLiveSession.</p>
<h3>[in] dataSource</h3>
<p>Pointer to a PACKETMONITOR_DATA_SOURCE_SPECIFICATION having information about a Data Source which reports packets to the pktmon driver.
This Data Source information is a subset from the Data Source list obtained by calling the function â€˜PacketMonitorEnumDataSourcesâ€™.</p>
<h2>Returns</h2>
<p>If the function succeeds, it returns S_OK. Otherwise, it returns an HRESULT error code.</p>
<h2>Remarks</h2>
<p>â€˜PacketMonitorEnumDataSourcesâ€™ should be called prior to this function. Multiple Data Sources can be added to the session by calling this function each time.</p>
<p>The API can be called either before or after activating the session.</p>
<h2>See also</h2>
<p><a href="../pktmon-reference.html">Packet Monitor (Pktmon) reference</a></p>
</body>
