<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Best Practices for Minimizing Unresponsive Services</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Best Practices for Minimizing Unresponsive Services
ms.assetid: 51df3fb9-416d-46b8-b3a7-0281401fb390
title: Best Practices for Minimizing Unresponsive Services
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Best Practices for Minimizing Unresponsive Services</h1>
<h2>Affected Platform</h2>
<p><strong>Clients</strong> â€“ Windows Vista | Windows 7</p>
<h2>Description</h2>
<p>Unresponsive services can result in timeouts, terminated sessions, and even lost data. Employing best practices can greatly reduce the occurrence of unresponsive services.</p>
<h2>Best Practices</h2>
<p>Make sure your applications and all of their dependent services and drivers respond to system power and shutdown notifications.</p>
<ul>
<li>All applications should respond promptly and appropriately to shutdown messages such as WM_QUERYENDSESSION and WM_ENDSESSION that indicate a shutdown is in progress.</li>
<li>All services should promptly respond to SCM shutdown notifications. If they fail to do so, the machine treats them as unresponsive and initiates a 20-second time-out and stops them, opening up the possibility of lost data. This also adds 20 seconds to the shutdown time of a machine shutdown.</li>
<li>All services that have kernel device driver dependencies should respond promptly and appropriately to IRP_MJ_SHUTDOWN notification in their DispatchShutdown routines.</li>
</ul>
<h2>Links to Other Resources</h2>
<!-- raw HTML omitted -->
<p><a href="https://www.microsoft.com/whdc/system/sysperf/perftools.mspx">Windows Performance Toolkit</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
