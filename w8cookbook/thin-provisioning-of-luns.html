<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Thin provisioning of logical units</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Thin provisioning of logical units
description: Thin provisioning of logical units
ms.assetid: D64ECA7B-62AC-4C14-BE4B-84DA2E20C16B
keywords:</p>
<ul>
<li>LUN</li>
<li>LBA
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Thin provisioning of logical units</h1>
<h2>Platforms</h2>
<p><strong>Clients</strong> â€“ WindowsÂ 8<br />
<strong>Servers</strong> â€“ Windows ServerÂ 2012</p>
<h2>Description</h2>
<p>Windows Thin Provisioning is an interface to the end-to-end storage provisioning solution. To deliver a highly available, scalable and user-friendly storage provisioning service requires robust implementations from the server host to the storage target device. The Windows thin provisioning feature provides a synchronous view of the thin provisioning storage devices to the system administrator, IT manager, and storage administrator through the thinly provisioned logical unitâ€™s (LUNâ€™s) identification, threshold notification, resource exhaustion handling, space reclamation, and logical block addressing (LBA) state retrieval. The Windows thin provisioning feature presents a robust storage provisioning service model that can be applied to client-server storage systems, virtualization storage, and cloud storage services. Microsoft will ensure the high quality of the thin provisioning feature by enforcing the Windows Thin Provisioning Hardware Certification Kit requirements for storage array products.</p>
<p>The Windows Thin Provisioning storage solution:</p>
<ul>
<li>Allows storage administrators to create a larger LUN with fewer physical disk resources</li>
<li>Adds or removes physical disk resource without interrupting the storage provisioning service</li>
<li>Alerts users to the storage volume usage through the threshold setting</li>
<li>Supports storage provisioning through the shared storage pool configuration</li>
<li>Increases or decreases the size of the storage pool according to the demand and usage of storage space</li>
</ul>
<p>Summary of the Windows Thin Provisioning features:</p>
<ul>
<li>Thin Provisioning LUN identification</li>
<li>Handles for threshold notification, temporary resource exhaustion, and permanent resource exhaustion</li>
<li>Storage space reclamation</li>
<li>Mapping state queries of logical blocks</li>
</ul>
<h2>Manifestation</h2>
<p>Without the proper understanding of the Windows handles for thin provisioning LUN, the app could fail with unexpected behavior or for an unknown cause.</p>
<h2>Using thin provisioning LUNs</h2>
<p>To use thinly provisioned LUNs in Windows 8 or Windows Server 2012, system and storage administrators should be aware of these matters:</p>
<ul>
<li>Thin provisioning LUN identification; system administrators or end users can use Defrag and the Storage Optimizer utility to identify the media type of the storage device</li>
<li>When a threshold or a permanent resource exhaustion event is hit, Windows will log a system event to alert the system administrator</li>
<li>Storage space reclamation can be performed manually or automatically by file delete notification or the scheduler of the storage optimizer</li>
<li>Storage administrator should implement the threshold notification to alert system administrator or end user and avoid any unexpected storage service interruption</li>
</ul>
<h2>Tests</h2>
<ul>
<li>Storage array must receive Windows 8 Thin Provisioning certificate to support Windows Thin Provisioning features</li>
<li>Windows Thin Provisioning Hardware Certification Kit for storage array will be a useful test tool to verify storage arrayâ€™s capability for Windows Thin Provisioning feature support</li>
<li>Windows expects the Thin Provisioning LUN and Full Provisioning LUN to work in the same system without any issue</li>
</ul>
<h2>Resources</h2>
<ul>
<li><a href="https://www.t10.org/cgi-bin/ac.pl?t=f&amp;f=sbc3r27.pdf">T10 SCSI Block Command Spec (SBC3r27)</a></li>
<li><a href="/windows-hardware/drivers/dashboard/">Hardware Dashboard Services</a></li>
</ul>
<p>Â </p>
<p>Â </p>
</body>
