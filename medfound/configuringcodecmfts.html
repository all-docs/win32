<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Configuring Codec MFTs</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Configuring Codec MFTs
ms.assetid: 0de0cb2e-67bc-4db5-879a-95879f16b98d
title: Configuring Codec MFTs
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Configuring Codec MFTs</h1>
<p>This topic describes the process of configuring the codec MFTs. Each codec has specific procedures, but the information common to all is described here.</p>
<h2>Configuring MFT Inputs and Outputs</h2>
<p>Every MFT supports specific input and output types. You can retrieve supported input types by repeatedly calling <a href="/windows/desktop/api/mftransform/nf-mftransform-imftransform-getinputavailabletype"><strong>IMFTransform::GetInputAvailableType</strong></a>, incrementing the type index with each call. When you find an appropriate type, set the input type by calling <a href="/windows/desktop/api/mftransform/nf-mftransform-imftransform-setinputtype"><strong>IMFTransform::SetInputType</strong></a>. You can then repeat the process for the output type using the calls <a href="/windows/desktop/api/mftransform/nf-mftransform-imftransform-getoutputavailabletype"><strong>IMFTransform::GetOutputAvailableType</strong></a> and <a href="/windows/desktop/api/mftransform/nf-mftransform-imftransform-setoutputtype"><strong>IMFTransform::SetOutputType</strong></a>. You must query or set the available output types only after setting the input type.</p>
<h2>Configuring the Codec MFTs for Encoding</h2>
<p>All of the Windows Media Audio and Video codecs support a variety of encoding features. These features are generally configured by setting properties on the MFT by using the methods of the <strong>IPropertyStore</strong> interface. Some properties are configured using specialized codec interfaces. These interfaces are listed for each codec in the section <a href="codecobjects.html">Codec Objects</a>.</p>
<p>The general order of operations for configuring an encoding MFT is as follows:</p>
<ol>
<li>Configure codec features as desired by using the methods of <strong>IPropertyStore</strong>.</li>
<li>Use the codec MFT interfaces to configure additional features, if needed.</li>
<li>Configure the input and output types. The order in which the types should be configured varies for individual codecs. For more information, see <a href="workingwithaudio.html">Working with Audio</a> and <a href="workingwithvideo.html">Working with Video</a>.</li>
</ol>
<h2>Configuring the Codec MFTs for Decoding</h2>
<p>Decoding is simpler than encoding, as fewer decoder features are supported.</p>
<p>The general order of operations for configuring a decoding MFT is as follows:</p>
<ol>
<li>Configure decoder features as desired by using the methods of <strong>IPropertyStore</strong>.</li>
<li>Set the input type to the type used for the encoder output.</li>
<li>Configure the output type. The supported output types are different for different inputs.</li>
</ol>
<blockquote>
<p>[!Note]<br />
It is important to use the same media type for the decoder input as was used for the encoder output. This is because the Windows Media Audio and Video codecs use media formats with extra data. Without the extended format data, you cannot decode the compressed content.</p>
</blockquote>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="workingwithcodecmfts.html">Working with Codec MFTs</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
