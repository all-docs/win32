<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Writing a Custom MFT</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: This section describes how to write a custom Media Foundation Transform (MFT).
ms.assetid: a95828d3-afc5-4f6b-aedd-5b6a72621e0e
title: Writing a Custom MFT
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Writing a Custom MFT</h1>
<p>This section describes how to write a custom Media Foundation Transform (MFT).</p>
<h2>MFT Checklist</h2>
<p>When you implement a custom MFT, use the following checklist to determine the requirements:</p>
<table>
<thead>
<tr>
<th>MFT</th>
<th>Requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td>All MFTs</td>
<td>All MFTs must implement <!-- raw HTML omitted --><!-- raw HTML omitted -->IMFTransform<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --> The following topics give more information about implementing this interface:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Basic MFT Processing Model<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Time Stamps and Durations<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Handling Stream Changes<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Encoders and decoders</td>
<td>Requirements: See <!-- raw HTML omitted -->Implementing a Codec MFT<!-- raw HTML omitted -->.<!-- raw HTML omitted --> Recommended: Implement <!-- raw HTML omitted --><!-- raw HTML omitted -->IMFQualityAdvise<!-- raw HTML omitted --><!-- raw HTML omitted --> or <!-- raw HTML omitted --><!-- raw HTML omitted -->IMFQualityAdvise2<!-- raw HTML omitted --><!-- raw HTML omitted -->, to support quality-of-service (QoS) notifications.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Video decoders and video processors</td>
<td>Optional: Support DirectX Video Acceleration.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Direct3D-Aware MFTs<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Supporting DXVA 2.0 in Media Foundation<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Hardware codecs</td>
<td>See <!-- raw HTML omitted -->Hardware MFTs<!-- raw HTML omitted -->.</td>
</tr>
<tr>
<td>To make your MFT discoverable by applications...</td>
<td>See <!-- raw HTML omitted -->Registering and Enumerating MFTs<!-- raw HTML omitted -->.</td>
</tr>
<tr>
<td>Asynchronous data processing</td>
<td>The default MFT model uses synchronous (blocking) calls to process data. For some MFTs, asynchronous processing can be more efficient. However, it is also more complex to implement.<!-- raw HTML omitted --> For more information, see <!-- raw HTML omitted -->Asynchronous MFTs<!-- raw HTML omitted -->.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Rate control, trick mode, or reverse playback</td>
<td>See <!-- raw HTML omitted -->Implementing Rate Control<!-- raw HTML omitted -->.</td>
</tr>
<tr>
<td>If your MFT creates threads...</td>
<td>Implement the <!-- raw HTML omitted --><!-- raw HTML omitted -->IMFRealTimeClient<!-- raw HTML omitted --><!-- raw HTML omitted --> interface.</td>
</tr>
<tr>
<td>If your MFT has licensing restrictions...</td>
<td>Consider using the field-of-use mechanism. See <!-- raw HTML omitted -->Field of Use Restrictions<!-- raw HTML omitted -->.</td>
</tr>
<tr>
<td>If you are porting an existing DirectX Media Object (DMO)...</td>
<td>See <!-- raw HTML omitted -->Comparison of MFTs and DMOs<!-- raw HTML omitted -->.</td>
</tr>
</tbody>
</table>
<p>This section contains the following topics:</p>
<ul>
<li><a href="time-stamps-and-durations.html">Time Stamps and Durations</a></li>
<li><a href="handling-stream-changes.html">Handling Stream Changes</a></li>
<li><a href="implementing-a-codec-mft.html">Implementing a Codec MFT</a></li>
<li><a href="direct3d-aware-mfts.html">Direct3D-Aware MFTs</a></li>
<li><a href="hardware-mfts.html">Hardware MFTs</a></li>
<li><a href="codec-merit.html">Codec Merit</a></li>
</ul>
<h2>Related topics</h2>
<ul>
<li><a href="media-foundation-transforms.html">Media Foundation Transforms</a></li>
</ul>
</body>
