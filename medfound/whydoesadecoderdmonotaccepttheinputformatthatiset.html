<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Why does a decoder not accept the input format that I set?</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Why does a decoder not accept the input format that I set?
ms.assetid: 19aa5677-bc3f-41d7-ad64-7c75021d907b
title: Why does a decoder not accept the input format that I set?
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Why does a decoder not accept the input format that I set?</h1>
<p>There are many reasons why a decoder might reject a format. The most common is missing or incorrect extended format data. The extended format data is codec-specific information that is appended to the structure describing the media type.</p>
<p>When you enumerate an output type using an encoder object, the <strong>pbFormat</strong> member of the <a href="/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type"><strong>DMO_MEDIA_TYPE</strong></a> structure will point to a <strong>WAVEFORMATEX</strong> structure. This structure has extended format data appended to it, and the size of that data is stored in the <strong>WAVEFORMATEX.cbSize</strong> member. Regardless of the container used to store the compressed data, you must persist the <strong>WAVEFORMATEX</strong> structure and use it in the input type for the decoder. Without the extended format data, the decoder cannot decompress the content.</p>
<p>For video formats, you must manually retrieve the extended format data and append it to the <strong>VIDEOINFOHEADER</strong> structure. For more information, see <a href="usingvideocodecprivatedata.html">Using Video Codec Private Data</a>.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="frequentlyaskedquestions.html">Frequently Asked Questions</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
