<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Media Source Object Model</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Media Source Object Model
ms.assetid: 88373028-8a34-4bf1-8300-d1a7e4c7dd75
title: Media Source Object Model
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Media Source Object Model</h1>
<p>This topic describes the object model for media sources in Microsoft Media Foundation. A media source must implement two objects:</p>
<ul>
<li>A presentation descriptor, which describes the contents of the source, including the number of streams and the format of each stream. For more information about presentation descriptors, see <a href="presentation-descriptors.html">Presentation Descriptors</a>.</li>
<li>One or more media streams, which generate the source data.</li>
</ul>
<p>The source does not create the streams until playback starts.</p>
<h2>Media Source Interfaces</h2>
<p>A media source must expose the following interfaces through <strong>QueryInterface</strong>.</p>
<table>
<thead>
<tr>
<th>Interface</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/mfidl/nn-mfidl-imfmediasource"><strong>IMFMediaSource</strong></a></td>
<td>Required for all media sources.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator"><strong>IMFMediaEventGenerator</strong></a></td>
<td>Required for all media sources. The <a href="/windows/desktop/api/mfidl/nn-mfidl-imfmediasource"><strong>IMFMediaSource</strong></a> interface inherits this interface.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Optionally, a media source can implement the <a href="/windows/desktop/api/mfidl/nn-mfidl-imfgetservice"><strong>IMFGetService</strong></a> interface and implement any of the following interfaces as services:</p>
<table>
<thead>
<tr>
<th>Service interface</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/mfidl/nn-mfidl-imfratecontrol"><strong>IMFRateControl</strong></a></td>
<td>Controls the playback rate.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/mfidl/nn-mfidl-imfratesupport"><strong>IMFRateSupport</strong></a></td>
<td>Reports the range of playback rates that are supported.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/mfidl/nn-mfidl-imfqualityadvise"><strong>IMFQualityAdvise</strong></a></td>
<td>Enables the quality manager to adjust the audio or video quality.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/mfidl/nn-mfidl-imfmetadataprovider"><strong>IMFMetadataProvider</strong></a></td>
<td>Provides metadata.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>If the media source can play at rates other than normal speed (1.0), it should expose the rate control service (<a href="/windows/desktop/api/mfidl/nn-mfidl-imfratecontrol"><strong>IMFRateControl</strong></a> and <a href="/windows/desktop/api/mfidl/nn-mfidl-imfratesupport"><strong>IMFRateSupport</strong></a>). Otherwise, it is assumed that the source only supports playback at normal speed. For more information, see <a href="implementing-rate-control.html">Implementing Rate Control</a>.</p>
<p>For more information about service interfaces and <a href="/windows/desktop/api/mfidl/nn-mfidl-imfgetservice"><strong>IMFGetService</strong></a>, see <a href="service-interfaces.html">Service Interfaces</a>.</p>
<h2>Media Stream Interfaces</h2>
<p>Media streams must implement the following interfaces.</p>
<table>
<thead>
<tr>
<th>Interface</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/mfidl/nn-mfidl-imfmediastream"><strong>IMFMediaStream</strong></a></td>
<td>Required for all media streams.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator"><strong>IMFMediaEventGenerator</strong></a></td>
<td>Required for all media streams. The <a href="/windows/desktop/api/mfidl/nn-mfidl-imfmediastream"><strong>IMFMediaStream</strong></a> interface inherits this interface.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Currently no service interfaces are defined for media streams.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="media-sources.html">Media Sources</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
