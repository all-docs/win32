<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>MPEG-4 Part 2 Video Decoder</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The MPEG4 Part 2 Video decoder decodes video streams that were encoded according to the MPEG4 Part 2 standard.
ms.assetid: 56e32d3c-9bd0-41fe-bb22-e4ff37b7cc5c
title: MPEG-4 Part 2 Video Decoder (Wmcodecdsp.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>MPEG-4 Part 2 Video Decoder</h1>
<p>The MPEG4 Part 2 Video decoder decodes video streams that were encoded according to the MPEG4 Part 2 standard.</p>
<p>You can create an instance of the MPEG4 Part 2 Video decoder by calling <strong>CoCreateInstance</strong>. To create an instance of the decoder that behaves as a DirectX Media Object (DMO), use the class identifier <strong>CLSID_CMpeg4sDecMediaObject</strong>. To create an instance of the decoder that behaves as a Media Foundation Transform (MFT), use the class identifier <strong>CLSID_CMpeg4sDecMFT</strong>.</p>
<h2>Input Types</h2>
<p>The MPEG4 Part 2 Video decoder supports the following input media types.</p>
<ul>
<li>MEDIASUBTYPE_M4S2</li>
<li>MEDIASUBTYPE_m4s2</li>
<li>MEDIASUBTYPE_MP4V</li>
<li>MEDIASUBTYPE_mp4v</li>
<li>MEDIASUBTYPE_MP4S (deprecated)</li>
<li>MEDIASUBTYPE_mp4s (deprecated)</li>
</ul>
<h2>Output Types</h2>
<p>The MPEG4 Part 2 Video decoder supports the following output media subtypes when it is acting as a DMO.</p>
<ul>
<li>MEDIASUBTYPE_YV12</li>
<li>MEDIASUBTYPE_NV12</li>
<li>MEDIASUBTYPE_YUY2</li>
<li>MEDIASUBTYPE_UYVY</li>
<li>MEDIASUBTYPE_YVYU</li>
<li>MEDIASUBTYPE_NV11</li>
<li>MEDIASUBTYPE_RGB32</li>
<li>MEDIASUBTYPE_RGB24</li>
<li>MEDIASUBTYPE_ RGB565</li>
<li>MEDIASUBTYPE_RGB555</li>
<li>MEDIASUBTYPE_RGB8</li>
</ul>
<p>The MPEG4 Part 2 Video decoder supports the following output media subtypes when it is acting as an MFT.</p>
<ul>
<li>MEDIASUBTYPE_NV12</li>
<li>MEDIASUBTYPE_YV12</li>
</ul>
<h2>Formats</h2>
<p>The MPEG4 Part 2 Video decoder accepts the following formats.</p>
<ul>
<li><a href="/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader"><strong>VIDEOINFOHEADER</strong></a></li>
<li><a href="/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2"><strong>VIDEOINFOHEADER2</strong></a> (VIH2)</li>
<li><a href="/windows/desktop/api/mfobjects/ns-mfobjects-mfvideoinfo"><strong>MFVideoInfo</strong></a></li>
<li><a href="/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-mpeg2videoinfo"><strong>MPEG2VIDEOINFO</strong></a> (Only the VIH2 portion of the header is used.)</li>
</ul>
<h2>Interfaces for the DMO</h2>
<p>If you create an instance of the MPEG4 Part 2 Video decoder as a DMO, the decoder exposes the following interfaces.</p>
<ul>
<li><a href="/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediaobject"><strong>IMediaObject</strong></a></li>
<li><a href="/windows/win32/api/strmif/nn-strmif-icodecapi"><strong>ICodecAPI</strong></a></li>
</ul>
<p>You can obtain an <a href="/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediaobject"><strong>IMediaObject</strong></a> interface by calling <strong>CoCreateInstance</strong>, and you can obtain an <a href="/windows/win32/api/strmif/nn-strmif-icodecapi"><strong>ICodecAPI</strong></a> interface by calling <strong>QueryInterface</strong>.</p>
<h2>Interfaces for the MFT</h2>
<p>If you create an instance of the MPEG2 Part 2 Video decoder as an MFT, the decoder exposes the following interfaces.</p>
<ul>
<li><a href="/windows/desktop/api/mftransform/nn-mftransform-imftransform"><strong>IMFTransform</strong></a></li>
<li><a href="/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes"><strong>IMFAttributes</strong></a></li>
<li><a href="/windows/desktop/api/mfidl/nn-mfidl-imfqualityadvise"><strong>IMFQualityAdvise</strong></a></li>
<li><a href="/windows/desktop/api/mfidl/nn-mfidl-imfqualityadvise2"><strong>IMFQualityAdvise2</strong></a></li>
<li><a href="/windows/desktop/api/mfidl/nn-mfidl-imfratecontrol"><strong>IMFRateControl</strong></a></li>
<li><a href="/windows/desktop/api/mfidl/nn-mfidl-imfratesupport"><strong>IMFRateSupport</strong></a></li>
</ul>
<p>You can obtain a pointer to the <a href="/windows/desktop/api/mftransform/nn-mftransform-imftransform"><strong>IMFTransform</strong></a> interface by calling <strong>CoCreateInstance</strong>, and you can obtain a pointer to the <a href="/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes"><strong>IMFAttributes</strong></a> interface by calling <a href="/windows/desktop/api/mftransform/nf-mftransform-imftransform-getattributes"><strong>IMFTransform::GetAttributes</strong></a>. You can obtain a pointer to the <a href="/windows/desktop/api/mfidl/nn-mfidl-imfqualityadvise"><strong>IMFQualityAdvise</strong></a> or <a href="/windows/desktop/api/mfidl/nn-mfidl-imfqualityadvise2"><strong>IMFQualityAdvise2</strong></a> interface by calling <strong>QueryInterface</strong> on the MFT. You can obtain a pointer to the <a href="/windows/desktop/api/mfidl/nn-mfidl-imfratecontrol"><strong>IMFRateControl</strong></a> or <a href="/windows/desktop/api/mfidl/nn-mfidl-imfratesupport"><strong>IMFRateSupport</strong></a> interface by calling <a href="/windows/desktop/api/mfidl/nf-mfidl-mfgetservice"><strong>MFGetService</strong></a> and passing the service identifier <strong>MF_RATE_CONTROL_SERVICE</strong>.</p>
<h2>Profiles and Levels</h2>
<p>The MPEG4 specification defines several profiles, each of which specifies the tools that an encoder can use to generate an encoded stream. The MPEG4 Part2 Video Decoder supports two of those profiles: Simple Visual Profile and Advanced Simple Profile. In other words, the MPEG4 Part 2 Video decoder can decode streams that were encoded according to either the Simple Visual Profile or the Advanced Simple Profile.</p>
<p>The Simple Visual Profile supports basic transmission of low bit-rate video in progressive mode. It supports only Intra and Prediction pictures. It also supports the short header mode, which is backward compatible with the H.263 baseline profile. Starting with WindowsÂ 10, the MPEG-4 Part 2 Video Decoder also supports H.263v2 (H.263+) which supports custom picture sizes.</p>
<p>The Advanced Simple Profile supports all the tools of the Simple Visual Profile and, in addition, supports interlaced video, B-frames, quarter-pel motion compensation, additional quantization tables, and global motion compensation.</p>
<p>The MPEG4 specification also defines several levels, each of which specifies constraints on the output stream generated by an encoder.</p>
<p>The following table shows the profiles and levels, along with typical resolutions, supported by the MPEG4 Part 2 Video decoder.</p>
<table>
<thead>
<tr>
<th>Profile</th>
<th>Level</th>
<th>Typical Resolution</th>
</tr>
</thead>
<tbody>
<tr>
<td>Simple Visual</td>
<td>0</td>
<td>176 x 144</td>
</tr>
<tr>
<td>Simple Visual</td>
<td>1</td>
<td>176 x 144</td>
</tr>
<tr>
<td>Simple Visual</td>
<td>2</td>
<td>352 x 288</td>
</tr>
<tr>
<td>Simple Visual</td>
<td>3</td>
<td>352 x 288</td>
</tr>
<tr>
<td>SimpleVisual</td>
<td>4a</td>
<td>640 x 480</td>
</tr>
<tr>
<td>Simple Visual</td>
<td>5</td>
<td>720 x 576</td>
</tr>
<tr>
<td>Advanced Simple</td>
<td>0</td>
<td>176 x 144</td>
</tr>
<tr>
<td>Advanced Simple</td>
<td>1</td>
<td>176 x 144</td>
</tr>
<tr>
<td>Advanced Simple</td>
<td>2</td>
<td>352 x 288</td>
</tr>
<tr>
<td>Advanced Simple</td>
<td>3</td>
<td>352 x 288</td>
</tr>
<tr>
<td>Advanced Simple</td>
<td>3b</td>
<td>352 x 288</td>
</tr>
<tr>
<td>Advanced Simple</td>
<td>4</td>
<td>352 x 756</td>
</tr>
<tr>
<td>Advanced Simple</td>
<td>5</td>
<td>720 x 576</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>For more information about profiles and levels, see the MPEG4 Part 2 specification (ISO/IEC 14496-2): Information technology -- Coding of audio-visual objects -- Part 2: Visual.</p>
<h2>Decoder Properties</h2>
<p>To set properties on the MPEG4 Part 2 Video decoder, use the <a href="/windows/win32/api/strmif/nn-strmif-icodecapi"><strong>ICodecAPI</strong></a> interface or the <a href="/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes"><strong>IMFAttributes</strong></a> interface.</p>
<p>The MPEG4 Part 2 Video decoder supports the following properties.</p>
<!-- raw HTML omitted -->
<p>Â </p>
<h2>Remarks</h2>
<p>The globally unique identifiers (GUIDs) for RGB media subtypes differ depending on whether a decoder is acting as a DMO or an MFT. The GUIDs for non-RGB media subtypes are the same, regardless of whether a decoder is acting as a DMO or an MFT. For information about the GUIDs that represent media subtypes, see <a href="media-types.html">Media Types</a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ 7 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2008Â R2 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Wmcodecdsp.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->MP4SDecd.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="codecobjects.html">Codec Objects</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
