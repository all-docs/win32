<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>MFT_MESSAGE_NOTIFY_END_OF_STREAM</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Notifies a Media Foundation transform (MFT) that an input stream has ended.
ms.assetid: 2d6cdf45-1bb4-4915-bd27-efa041089100
title: MFT_MESSAGE_NOTIFY_END_OF_STREAM (Mftransform.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>MFT_MESSAGE_NOTIFY_END_OF_STREAM</h1>
<p>Notifies a Media Foundation transform (MFT) that an input stream has ended.</p>
<h2>Message Parameter</h2>
<p>The <em>ulParam</em> parameter contains the identifier of the input stream, specified as a <strong>DWORD</strong> value. In 64-bit applications, place this value in the lower 32-bits of the <strong>ULONG_PTR</strong>.</p>
<h2>Remarks</h2>
<p>To send this message, call <a href="/windows/desktop/api/mftransform/nf-mftransform-imftransform-processmessage"><strong>IMFTransform::ProcessMessage</strong></a>.</p>
<p>The client is not required to send this message.</p>
<p>After a stream ends, the client may call <a href="/windows/desktop/api/mftransform/nf-mftransform-imftransform-processinput"><strong>ProcessInput</strong></a> again to send new data for that stream. If so, the client must set the discontinuity attribute (<a href="mfsampleextension-discontinuity-attribute.html"><strong>MFSampleExtension_Discontinuity</strong></a> attribute) on the first input sample after the stream ends. (The client should always set this attribute on the first new sample after a stream ends, regardless of whether the client sent the <strong>MFT_MESSAGE_NOTIFY_END_OF_STREAM</strong> message. For more information about handling discontinuities, see <a href="basic-mft-processing-model.html">Basic MFT Processing Model</a>.)</p>
<p>After sending this message for every input stream, the client typically sends an <strong>MFT_MESSAGE_COMMAND_DRAIN</strong> command and then collects the remaining output. However, the client is not required to drain the MFT. If the client does not drain the MFT, the MFT will typically discard any unprocessed data on the next call to <a href="/windows/desktop/api/mftransform/nf-mftransform-imftransform-processinput"><strong>ProcessInput</strong></a>, when it detects the stream discontinuity. Alternatively, the client might flush the MFT before calling <strong>ProcessInput</strong>.</p>
<p>This message does not remove the input stream or reset the media type.</p>
<h3>Implementation</h3>
<p>An MFT is not required to respond to this message.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2008 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Mftransform.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/mftransform/ne-mftransform-mft_message_type"><strong>MFT_MESSAGE_TYPE</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
