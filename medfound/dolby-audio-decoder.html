<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Dolby Audio Decoder</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The Dolby audio decoder is an MFT that decodes Dolby Digital (AC-3) and Dolby Digital Plus.
ms.assetid: A968914A-E4C5-4472-8776-C73F5910089A
title: Dolby Audio Decoder
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>Dolby Audio Decoder</h1>
<p>The Dolby audio decoder is a <a href="media-foundation-transforms.html">Media Foundation transform</a> (MFT) that decodes the following stream types:</p>
<ul>
<li>Dolby Digital, also called Dolby AC-3</li>
<li>Dolby Digital Plus, also called Enhanced AC-3 (E-AC-3)</li>
</ul>
<blockquote>
<p>[!IMPORTANT]
For versions of Windows prior to WindowsÂ 8, the Microsoft implementation of the Dolby Digital technology is restricted under terms of the Dolby Digital licensing program to use by Microsoft applications.</p>
</blockquote>
<p>Â </p>
<p>For more information about these formats, refer to Advanced Television Systems Committee (ATSC) document <em>Digital Audio Compression Standard (AC-3, E-AC-3) Revision B</em>.</p>
<p>The decoder can also convert a Dolby Digital Plus stream to Dolby Digital format for AC-3 S/PIDF output, or format a Dolby Digital Plus stream for HDMI digital output.</p>
<h2>Class Identifier</h2>
<p>The class identifier (CLSID) of the Dolby audio decoder is <strong>CLSID_CMSDDPlusDecMFT</strong>, defined in the header file wmcodecdsp.h.</p>
<h2>Input Types</h2>
<p>The Dolby audio decoder supports the following input subtypes.</p>
<table>
<thead>
<tr>
<th>Subtype</th>
<th>Description</th>
<th>Header</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>MEDIASUBTYPE_DOLBY_AC3</strong></td>
<td>Dolby Digital audio.</td>
<td>mfapi.h</td>
</tr>
<tr>
<td><strong>MEDIASUBTYPE_DVM</strong></td>
<td>Dolby Digital audio; see <a href="../directshow/audio-subtypes.html"><strong>Audio Subtypes</strong></a>. This subtype can be used interchangeably with <strong>MEDIASUBTYPE_DOLBY_AC3</strong>.<!-- raw HTML omitted --></td>
<td>wmcodecdsp.h</td>
</tr>
<tr>
<td><strong>MFAudioFormat_Dolby_Digital_Plus</strong></td>
<td>Dolby Digital Plus audio.</td>
<td>mfapi.h</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The following table lists the requires and optional attributes for the input media type.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted -->MF_MT_MAJOR_TYPE<!-- raw HTML omitted --></td>
<td>Major type.</td>
<td>Required. Must be <!-- raw HTML omitted -->MFMediaType_Audio<!-- raw HTML omitted -->.</td>
</tr>
<tr>
<td><!-- raw HTML omitted -->MF_MT_SUBTYPE<!-- raw HTML omitted --></td>
<td>Audio subtype.</td>
<td>Required. See the previous table for details.</td>
</tr>
<tr>
<td><a href="mf-mt-audio-samples-per-second-attribute.html">MF_MT_AUDIO_SAMPLES_PER_SECOND</a></td>
<td>Sample rate, in samples per second.</td>
<td>Optional. Valid values are: 48000, 44100, 32000, 24000, 22050, and 16000. If this attribute is not set, the default value is 48000. <!-- raw HTML omitted --> <strong>Note:</strong> Dolby AC-3 streams are limited to the three highest rates in this list.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted -->MF_MT_AUDIO_NUM_CHANNELS<!-- raw HTML omitted --></td>
<td>Number of channels, including the low frequency (LFE) channel, if present.</td>
<td>Optional. Valid values are in the range 1 (mono) to 8 (7.1 channel configuration). If this attribute is not set, the default value is 2 (stereo).</td>
</tr>
<tr>
<td><!-- raw HTML omitted -->MF_MT_AUDIO_CHANNEL_MASK<!-- raw HTML omitted --></td>
<td>Specifies the assignment of audio channels to speaker positions.</td>
<td>Optional. If specified, the value must be consistent with the number of audio channels. If the attribute is not set, the decoder uses a default channel mask, based on the number of channels.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The following table lists the supported Dolby channel configurations.</p>
<table>
<thead>
<tr>
<th>Channel configuration</th>
<th>Number of channels</th>
<th>Channel masks</th>
</tr>
</thead>
<tbody>
<tr>
<td>1/0 (mono)</td>
<td>1</td>
<td>0x4 (<!-- raw HTML omitted -->SPEAKER_FRONT_CENTER<!-- raw HTML omitted -->)</td>
</tr>
<tr>
<td>2/0 (stereo) or 1+1 (dual mono)</td>
<td>2</td>
<td>0x3 (<!-- raw HTML omitted -->SPEAKER_FRONT_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_RIGHT<!-- raw HTML omitted -->)</td>
</tr>
<tr>
<td>3/0</td>
<td>3</td>
<td>0x7 (<!-- raw HTML omitted -->SPEAKER_FRONT_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_RIGHT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_CENTER<!-- raw HTML omitted -->)</td>
</tr>
<tr>
<td>2/1</td>
<td>3</td>
<td>0x103 (<!-- raw HTML omitted -->SPEAKER_FRONT_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_RIGHT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_BACK_CENTER<!-- raw HTML omitted -->)</td>
</tr>
<tr>
<td>3/1</td>
<td>4</td>
<td>0x107 (<!-- raw HTML omitted -->SPEAKER_FRONT_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_RIGHT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_CENTER<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_BACK_CENTER<!-- raw HTML omitted -->)</td>
</tr>
<tr>
<td>2/2</td>
<td>4</td>
<td>0x33 (<!-- raw HTML omitted -->SPEAKER_FRONT_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_RIGHT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_BACK_LEFT<!-- raw HTML omitted -->  <!-- raw HTML omitted -->SPEAKER_BACK_RIGHT<!-- raw HTML omitted -->)<!-- raw HTML omitted --> or<!-- raw HTML omitted --> 0x603 (<!-- raw HTML omitted -->SPEAKER_FRONT_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_RIGHT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_SIDE_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_SIDE_RIGHT<!-- raw HTML omitted -->) <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>3/2</td>
<td>5</td>
<td>0x37 (<!-- raw HTML omitted -->SPEAKER_FRONT_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_RIGHT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_CENTER<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_BACK_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_BACK_RIGHT<!-- raw HTML omitted -->)<!-- raw HTML omitted --> or<!-- raw HTML omitted --> 0x607 (<!-- raw HTML omitted -->SPEAKER_FRONT_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_RIGHT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_CENTER<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_SIDE_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_SIDE_RIGHT<!-- raw HTML omitted -->) <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>3/2 + LFE</td>
<td>6</td>
<td>0x3F (<!-- raw HTML omitted -->SPEAKER_FRONT_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_RIGHT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_CENTER<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_LOW_FREQUENCY<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_BACK_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_BACK_RIGHT<!-- raw HTML omitted -->)<!-- raw HTML omitted --> or<!-- raw HTML omitted --> 0x60F (<!-- raw HTML omitted -->SPEAKER_FRONT_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_RIGHT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_FRONT_CENTER<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_LOW_FREQUENCY<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_SIDE_LEFT<!-- raw HTML omitted --> <!-- raw HTML omitted -->SPEAKER_SIDE_RIGHT<!-- raw HTML omitted -->)<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>3/2/2 + LFE <strong>Note:</strong> Dolby Digital Plus only.<!-- raw HTML omitted --></td>
<td>8</td>
<td>0x63F (<strong>SPEAKER_FRONT_LEFT</strong> <strong>SPEAKER_FRONT_RIGHT</strong> <strong>SPEAKER_FRONT_CENTER</strong> <strong>SPEAKER_LOW_FREQUENCY</strong> <strong>SPEAKER_BACK_LEFT</strong> <strong>SPEAKER_BACK_RIGHT</strong> <strong>SPEAKER_SIDE_LEFT</strong> <strong>SPEAKER_SIDE_RIGHT</strong>)</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>In addition, channel configurations 1/0, 2/0, 3/0, 2/1, 3/1, and 2/2 may also appear with an LFE channel.</p>
<h2>Output Types</h2>
<p>The Dolby audio decoder supports the following output subtypes.</p>
<table>
<thead>
<tr>
<th>Subtype</th>
<th>Description</th>
<th>Header</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>MFAudioFormat_Dolby_AC3_SPDIF</strong></td>
<td>Dolby AC-3 audio formatted for S/PDIF digital output.</td>
<td>mfapi.h</td>
</tr>
<tr>
<td><strong>KSDATAFORMAT_SUBTYPE_IEC61937_DOLBY_DIGITAL_PLUS</strong></td>
<td>Dolby Digital Plus audio formatted for HDMI digital output.</td>
<td>ksmedia.h</td>
</tr>
<tr>
<td><strong>MFAudioFormat_Float</strong></td>
<td>IEEE 32-bit floating-point PCM audio<!-- raw HTML omitted --> <strong>WindowsÂ 10</strong>: stereo, 5.1, 7.1<!-- raw HTML omitted --> <strong>Previous versions</strong>: stereo, 5.1<!-- raw HTML omitted --></td>
<td>mfapi.h</td>
</tr>
<tr>
<td><strong>MFAudioFormat_PCM</strong></td>
<td>16-bit PCM audio<!-- raw HTML omitted --> <strong>WindowsÂ 10</strong>: stereo, 5.1, 7.1<!-- raw HTML omitted --> <strong>Previous versions</strong>: stereo, 5.1<!-- raw HTML omitted --></td>
<td>mfapi.h</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The following table lists the required and optional attributes for the output media type.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted -->MF_MT_MAJOR_TYPE<!-- raw HTML omitted --></td>
<td>Major type.</td>
<td>Required. Must be <!-- raw HTML omitted -->MFMediaType_Audio<!-- raw HTML omitted -->.</td>
</tr>
<tr>
<td><!-- raw HTML omitted -->MF_MT_SUBTYPE<!-- raw HTML omitted --></td>
<td>Audio subtype.</td>
<td>Required. See the previous table for details.</td>
</tr>
<tr>
<td><!-- raw HTML omitted -->MF_MT_AUDIO_SAMPLES_PER_SECOND<!-- raw HTML omitted --></td>
<td>Sample rate, in samples per second.</td>
<td>Required. Valid values are: 48000, 44100, 32000, 24000, 22050, and 16000. The output sample rate must be identical to the input sample rate. The decoder cannot change the sampling rate of the stream.</td>
</tr>
<tr>
<td><!-- raw HTML omitted -->MF_MT_AUDIO_NUM_CHANNELS<!-- raw HTML omitted --></td>
<td>Number of channels, including the low frequency (LFE) channel, if present.</td>
<td>Required for PCM output. <!-- raw HTML omitted --> Not needed for digital output. <!-- raw HTML omitted --> If the input type is mono, stereo, or dual-mono (all without LFE channel), the only valid value is 2, for stereo output. Otherwise, the value can be: <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->2 for stereo downmix<!-- raw HTML omitted --><!-- raw HTML omitted -->6 for 5.1 channel configurations<!-- raw HTML omitted --><!-- raw HTML omitted -->8 for 7.1 channel configurations<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted -->MF_MT_AUDIO_CHANNEL_MASK<!-- raw HTML omitted --></td>
<td>Specifies the assignment of audio channels to speaker positions.</td>
<td>Required for PCM output if the number of channels is greater than 2. The value must be:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0x3 for stereo output<!-- raw HTML omitted --><!-- raw HTML omitted -->0x3F for 5.1 channel output<!-- raw HTML omitted --><!-- raw HTML omitted -->0x63F for 7.1 channel output<!-- raw HTML omitted --><!-- raw HTML omitted -->Not needed for digital output. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted -->MF_MT_AUDIO_BITS_PER_SAMPLE<!-- raw HTML omitted --></td>
<td>Number of bits per audio sample.</td>
<td>Required for PCM output. The value must be 32 for <!-- raw HTML omitted -->MFAudioFormat_Float<!-- raw HTML omitted -->, and 16 for <!-- raw HTML omitted -->MFAudioFormat_PCM<!-- raw HTML omitted -->.<!-- raw HTML omitted --> Not needed for digital output.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted -->MF_MT_AUDIO_VALID_BITS_PER_SAMPLE<!-- raw HTML omitted --></td>
<td>Number of valid bits of audio data in each audio sample.</td>
<td>Optional for PCM output. If set, the value must be identical to <!-- raw HTML omitted -->MF_MT_AUDIO_BITS_PER_SAMPLE<!-- raw HTML omitted -->.<!-- raw HTML omitted --> Not needed for the digital output subtypes.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted -->MF_MT_AUDIO_BLOCK_ALIGNMENT<!-- raw HTML omitted --></td>
<td>Block alignment, in bytes.</td>
<td>Optional for PCM output. Not needed for digital output.</td>
</tr>
<tr>
<td><!-- raw HTML omitted -->MF_MT_AUDIO_AVG_BYTES_PER_SECOND<!-- raw HTML omitted --></td>
<td>Average number of bytes per second.</td>
<td>Optional for PCM output. Not needed for digital output.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Transform Attributes</h2>
<p>The Dolby audio decoder implements the <a href="/windows/desktop/api/mftransform/nf-mftransform-imftransform-getattributes"><strong>IMFTransform::GetAttributes</strong></a> method. The application can use this method to get or set the following attributes.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../directshow/avdecaudiodualmono-property.html">CODECAPI_AVDecAudioDualMono</a></td>
<td>Specifies whether a 2-channel Dolby audio stream is encoded as stereo or dual-mono. Before the first Dolby frame is decoded, the value is <strong>eAVDecAudioDualMono_UnSpecified</strong>. After decoding begins, the value reflects the most recent Dolby frame.<!-- raw HTML omitted --> Read-only. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="../directshow/avdecaudiodualmonorepromode-property.html">CODECAPI_AVDecAudioDualMonoReproMode</a></td>
<td>Specifies how the decoder reproduces dual-mono audio. The default value is <strong>eAVDecAudioDualMonoReproMode_LEFT_MONO</strong>. The application can set this property at any time.<!-- raw HTML omitted --> Read/write.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="../directshow/avdeccommonmeanbitrate.html">CODECAPI_AVDecCommonMeanBitRate</a></td>
<td>For Dolby Digital (AC-3) streams, specifies the bit rate of the input stream in bits per second. For Dolby Digital Plus (E-AC3), the value is always zero.<!-- raw HTML omitted --> Read only.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="../directshow/avdecdddynamicrangescalehigh-property.html">CODECAPI_AVDecDDDynamicRangeScaleHigh</a></td>
<td>The high-level cut when the decoder performs dynamic range control.<!-- raw HTML omitted --> Read/write.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="../directshow/avdecdddynamicrangescalelow-property.html">CODECAPI_AVDecDDDynamicRangeScaleLow</a></td>
<td>The low-level boost when the decoder performs dynamic range control.<!-- raw HTML omitted --> Read/write.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="../directshow/avdecddoperationalmode-property.html">CODECAPI_AVDecDDOperationalMode</a></td>
<td>The compression control mode.<!-- raw HTML omitted --> Read/write.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="codecapi-avdecddstereodownmixmode.html">CODECAPI_AVDecDDStereoDownMixMode</a></td>
<td>The type of stereo downmix. This property applies when the input is a multichannel stream and the output is a stereo stream.<!-- raw HTML omitted --> Read/write.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="mft-support-dynamic-format-change-attribute.html">MFT_SUPPORT_DYNAMIC_FORMAT_CHANGE</a></td>
<td>This attribute returns <strong>FALSE</strong>, indicating that the decoder must be drained before a new input type is set.<!-- raw HTML omitted --> Read/write.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Remarks</h2>
<p>The decoder accepts only raw Dolby streams, as defined by A/52B. Payloads such as Packetized Elementary Streams (PES) are not supported. For Dolby Digital Plus, the decoder decodes up to 5.1 channels. On WindowsÂ 10, 7.1 channel streams are decoded without downmix. On previous OS versions, if the stream is 7.1 channels, only the 5.1 channel downmix will be decoded. If the stream is Dolby Digital Plus with more than one independent substream, only independent substream 0 is decoded. The decoder skips other independent substreams. In addition, the decoder skips all dependent substreams. The decoder supports decryption and decoding of streams that are protected by Digital Rights Management (DRM) technology.</p>
<p>If the input media type has a channel configuration other than mono, stereo, or dual-mono (all without LFE channel), the decoder provides two options for the output channel configurations:</p>
<ul>
<li>8-channel output (7.1 channel configuration)</li>
<li>6-channel output (5.1 channel configuration)</li>
<li>Stereo downmix</li>
</ul>
<p>If stereo downmix is selected, the type of downmix can be set on the MFT by using the <a href="codecapi-avdecddstereodownmixmode.html">CODECAPI_AVDecDDStereoDownMixMode</a> property.</p>
<p>If the output type is <strong>MFAudioFormat_Dolby_AC3_SPDIF</strong>, each output buffer contains 6,144 bytes. The buffer starts with an 8-byte S/PDIF header, followed by a compressed AC-3 frame, followed by zero padding to 6,144 bytes.</p>
<p>If the output type is <strong>KSDATAFORMAT_SUBTYPE_IEC61937_DOLBY_DIGITAL_PLUS</strong>, each output buffer contains 24,576 bytes. The buffer starts with an 8-byte S/PDIF header, followed by 1â€“6 compressed Dolby Digital Plus frames corresponding to 1,536 PCM samples, followed by zero padding to 24,576 bytes. For HDMI output, only independent substream 0 is packed.</p>
<p>The decoder MFT is registered with the flag <strong>MFT_ENUM_FLAG_FIELDOFUSE</strong>, which indicates that the MFT that must be unlocked by the application before use. For more information, see <a href="field-of-use-restrictions.html">Field of Use Restrictions</a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ 8 [desktop apps | UWP apps]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>None supported<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Msauddecmft.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="codecobjects.html">Codec Objects</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
