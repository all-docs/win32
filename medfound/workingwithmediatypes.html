<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Working with DMO Media Types</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Working with DMO Media Types
ms.assetid: 1aaf7554-1a5f-439a-afb1-a031607e1a1e
title: Working with DMO Media Types
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Working with DMO Media Types</h1>
<p>The input and output media types that are used by the codec DMOs are defined using the <a href="/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type"><strong>DMO_MEDIA_TYPE</strong></a> structure. This structure is identical to both <a href="/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wm_media_type"><strong>WM_MEDIA_TYPE</strong></a>, which is defined in the Windows Media Format SDK, and <a href="/windows/win32/api/strmif/ns-strmif-am_media_type"><strong>AM_MEDIA_TYPE</strong></a>, which is defined in Microsoft DirectShowÂ®. Depending upon your application, you may use variables defined as any one of these three types. It is safe to cast a pointer to one of the media type structures as another. For example:</p>
<pre><code>    DMO_MEDIA_TYPE MediaType;
    WM_MEDIA_TYPE* pMedia = NULL;
    pMedia = (WM_MEDIA_TYPE*)&amp;MediaType;
</code></pre>
<p>The format types that are used by the codecs are generally limited to those described by the <strong>VIDEOINFOHEADER</strong> and <strong>WAVEFORMATEX</strong> structures. For convenience, constants for these format types are included in the wmcodecconst.h header file. The constant names are WMCFORMAT_VideoInfo and WMCFORMAT_WaveFormatEx respectively. The audio codecs can work with the <strong>WAVEFORMATEXTENSIBLE</strong> structure in some circumstances, and must use it in others. However, <strong>DMO_MEDIA_TYPE.formattype</strong> is set to the same value as it is for <strong>WAVEFORMATEX</strong>. For more information about using <strong>WAVEFORMATEXTENSIBLE</strong>, see <a href="usinghighdefinitionaudio.html">Using High-Definition Audio</a>.</p>
<blockquote>
<p>[!Note]<br />
Â Â Â You must include the format type structure used as the encoder output in whatever container you use to store the compressed data. The decoders require the original format structure to decompress the content. In addition to the members of the structure, compressed Windows Media Audio and Video types require additional format information, which is appended to the structure. For more information, see <a href="workingwithaudio.html">Working with Audio</a> and <a href="workingwithvideo.html">Working with Video</a>.</p>
</blockquote>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="workingwithcodecdmos.html">Working with Codec DMOs</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
