<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Using High-Definition Audio (Microsoft Media Foundation)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Using High-Definition Audio
ms.assetid: 5e21943f-363c-4831-bc09-aadf6f4a0ad5
title: Using High-Definition Audio (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Using High-Definition Audio (Microsoft Media Foundation)</h1>
<p>High-definition audio, in the context of the Windows Media Audio codecs, is any audio type with more than two channels or more than 16 bits per sample. High-definition audio is supported by the Professional and Lossless categories of the <a href="windowsmediaaudioencoder.html">Windows Media Audio Encoder</a>.</p>
<p>Uncompressed high-definition audio types are defined using the <a href="/previous-versions/windows/desktop/legacy/dd390971(v=vs.85)"><strong>WAVEFORMATEXTENSIBLE</strong></a> structure. <strong>WAVEFORMATEXTENSIBLE</strong> is a structured extension of the <a href="/previous-versions/dd757713(v=vs.85)"><strong>WAVEFORMATEX</strong></a> structure. When you are using DMOs, the <strong>formattype</strong> member of the <a href="/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type"><strong>DMO_MEDIA_TYPE</strong></a> structure that describes a high-definition audio type must be set to WMCFORMAT_WaveFormatEx, just as it is for normal audio; there is no special format identifier for <strong>WAVEFORMATEXTENSIBLE</strong>. If a format uses <strong>WAVEFORMATEXTENSIBLE</strong> , you must set the <strong>cbSize</strong> member of the <strong>WAVEFORMATEX</strong> structure to 22.</p>
<p>When using Media Foundation, you can construct the correct media type from a <a href="/previous-versions/windows/desktop/legacy/dd390971(v=vs.85)"><strong>WAVEFORMATEXTENSIBLE</strong></a> structure by using the function <a href="/windows/desktop/api/mfapi/nf-mfapi-mfinitmediatypefromwaveformatex"><strong>MFInitMediaTypeFromWaveFormatEx</strong></a>.</p>
<p>The multi-channel output types supported by the Windows Media Audio 10 Professional codec do not use <a href="/previous-versions/windows/desktop/legacy/dd390971(v=vs.85)"><strong>WAVEFORMATEXTENSIBLE</strong></a>, but report the correct number of channels and bits per sample in the <a href="/previous-versions/dd757713(v=vs.85)"><strong>WAVEFORMATEX</strong></a> structure. As with all audio types describing compressed Windows Media Audio content, there is additional information appended to the <strong>WAVEFORMATEX</strong> structure that is used by the decoder for decompression.</p>
<h2>Decoding High-Definition Audio</h2>
<p>To decode high-definition audio, you must set the <a href="mfpkey-wmadec-hiresoutputproperty.html">MFPKEY_WMADEC_HIRESOUTPUT</a> property to VARIANT_TRUE. If this property is not set, the decoder will deliver stereo content with a maximum of 16 bits per sample, regardless of the compressed format.</p>
<blockquote>
<p>[!Note]<br />
High-definition audio is supported only for WindowsÂ XP, WindowsÂ Vista and later. On earlier versions of Windows, Windows Media Audio content encoded with high definition is rendered as two-channel audio with a maximum of 16 bits per sample.</p>
</blockquote>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="workingwithaudio.html">Working with Audio</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
