<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>MF_SA_BUFFERS_PER_SAMPLE attribute</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Specifies how many buffers the video-sample allocator creates for each video sample.
ms.assetid: A782BF8A-822A-407D-A30A-F2045BBB0BC0
title: MF_SA_BUFFERS_PER_SAMPLE attribute (Mftransform.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>MF_SA_BUFFERS_PER_SAMPLE attribute</h1>
<p>Specifies how many buffers the video-sample allocator creates for each video sample.</p>
<h2>Data type</h2>
<p><strong>UINT32</strong></p>
<h2>Remarks</h2>
<p>If you use the <a href="/windows/desktop/api/mfidl/nn-mfidl-imfvideosampleallocatorex"><strong>IMFVideoSampleAllocatorEx</strong></a> interface to allocate video samples, you can use this attribute to create video samples that contain multiple buffers. For example, if the attribute value is 2, the allocator creates two video buffers for each video sample. Set the attribute in the <em>pAttributes</em> parameter of the <a href="/windows/desktop/api/mfidl/nf-mfidl-imfvideosampleallocatorex-initializesampleallocatorex"><strong>IMFVideoSampleAllocatorEx::InitializeSampleAllocatorEx</strong></a> method.</p>
<p>The default value is 1. If the attribute is not set, the allocator creates video samples that contain a single buffer per sample.</p>
<p>This attribute is primarily intended for Media Foundation transforms (MFTs) that support stereo 3D output, in the following situation:</p>
<ul>
<li>The MFT supports Microsoft DirectX Graphics Infrastructure (DXGI).</li>
<li>The MFT allocates its own output samples.</li>
<li>The MFT uses the <a href="/windows/desktop/api/mfidl/nn-mfidl-imfvideosampleallocatorex"><strong>IMFVideoSampleAllocatorEx</strong></a> interface to allocate the output samples.</li>
<li>The 3D video format uses a separate buffer for each view.</li>
</ul>
<p>If all of these criteria are true, the MFT should set the attribute value to 2 (one buffer per view).</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ 8 [desktop apps | UWP apps]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2012 [desktop apps | UWP apps]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Mftransform.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="alphabetical-list-of-media-foundation-attributes.html">Alphabetical List of Media Foundation Attributes</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
