<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>OPM_SET_HDCP_SRM</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Updates the system renewability message (SRM) for High-Bandwidth Digital Content Protection (HDCP).
ms.assetid: ea18baba-0e03-4471-af0e-a588773c98d2
title: OPM_SET_HDCP_SRM (Opmapi.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>OPM_SET_HDCP_SRM</h1>
<p>Updates the system renewability message (SRM) for High-Bandwidth Digital Content Protection (HDCP).</p>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command GUID</td>
<td>OPM_SET_HDCP_SRM</td>
</tr>
<tr>
<td>Input data</td>
<td>An <a href="/windows/desktop/api/opmapi/ns-opmapi-opm_set_hdcp_srm_parameters"><strong>OPM_SET_HDCP_SRM_PARAMETERS</strong></a> structure</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The <em>pbAdditionalParameters</em> parameter of <a href="/windows/desktop/api/opmapi/nf-opmapi-iopmvideooutput-configure"><strong>IOPMVideoOutput::Configure</strong></a> must point to a buffer that contains the SRM. The format of an HDCP SRM is documented in the HDCP specification. Set the <em>ulAdditionalParametersSize</em> parameter equal to the size of the buffer, in bytes.</p>
<h2>Remarks</h2>
<p>SRMs are used to update the list of revoked HDCP devices. SRMs are delivered with the video content.</p>
<p>This command updates the video output's current SRM. If HDCP is enabled at the time of the command, the video output uses the new SRM to check whether any of the connected HDCP devices are revoked. If the video output detects a revoked device, it stops displaying video. If you send this command while HDCP is disabled, the video output validates the SRM and stores it. Later, if the application enables HDCP, the video output uses the new SRM to check the device's revocation status.</p>
<p>This command can cause the <strong>Configure</strong> method to return any of the following error codes.</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ERROR_GRAPHICS_OPM_INVALID_SRM</td>
<td>The SRM is not valid.</td>
</tr>
<tr>
<td>ERROR_GRAPHICS_OPM_OUTPUT_DOES_NOT_SUPPORT_HDCP</td>
<td>The video output does not support HDCP.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>This command is not supported when the <strong>IOPMVideoOutput</strong> interface emulates Certified Output Protection Protocol (COPP). When COPP semantics are used, the application is responsible for parsing SRMs and checking the revocation status of the HDCP device. Use the <a href="opm-get-connected-hdcp-device-information.html">OPM_GET_CONNECTED_HDCP_DEVICE_INFORMATION</a> status request to get the device's key selection vector (KSV), which is needed to check the revocation status. For more information about SRMs, refer to the HDCP specification.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2008 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Opmapi.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/opmapi/nf-opmapi-iopmvideooutput-configure"><strong>IOPMVideoOutput::Configure</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="opm-commands.html">OPM Commands</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
