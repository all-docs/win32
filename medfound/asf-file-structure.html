<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ASF File Structure</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: This topic describes the structure of an Advanced Systems Format (ASF) file.
ms.assetid: 4a817efa-5452-46bf-8921-2ba199c21949
title: ASF File Structure
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>ASF File Structure</h1>
<p>This topic describes the structure of an Advanced Systems Format (ASF) file.</p>
<p>For detailed information about ASF files, download the <a href="https://en.wikipedia.org/wiki/Advanced_Systems_Format">ASF Specification</a>.</p>
<p>The base unit of organization for ASF files is called an <em>object</em>. An ASF file object contains the following data.</p>
<table>
<thead>
<tr>
<th>Data</th>
<th>Size</th>
</tr>
</thead>
<tbody>
<tr>
<td>A GUID that identifies the object.</td>
<td>128 bits</td>
</tr>
<tr>
<td>The size of the object.</td>
<td>64-bits.</td>
</tr>
<tr>
<td>Object data. The object data can contain other ASF objects.</td>
<td>Varies.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>[!Note]<br />
An ASF file object is simply a chunk of data. It is not an object in the computer programming sense.</p>
</blockquote>
<p>An ASF file contains three types of top-level file objects.</p>
<table>
<thead>
<tr>
<th>ASF File Object</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> Header Object<!-- raw HTML omitted --></td>
<td>Contains information about the ASF file.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Data Object<!-- raw HTML omitted --></td>
<td>Contains packets of media data.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> Index Object(s)<!-- raw HTML omitted --></td>
<td>Contains one or more indexes. (Optional.)<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>The following diagram shows the ASF file structure.</p>
<p><img src="images/asf-components04.png" alt="diagram showing the asf file structure, including items within the header, data, and index" /></p>
<p>This diagram is not drawn to scale; typically the Data Object comprises most of the file.</p>
<h3>Header Object</h3>
<p>The Header Object is mandatory and appears at the beginning of every ASF file. It contains global file attributes and information about the streams in the ASF file. This information is used to interpret and play the data in the file.</p>
<p>The Header Object contains several madatory sub-objects:</p>
<ul>
<li>The File Properties Object describes global attributes of the file, such as the file size, play duration, number of data packets, minimum and maximum packet size, and maximum bit rate.</li>
<li>The Header Extension Object enables additional functionality to be added to an ASF file while maintaining backward compatibility.</li>
<li>The Stream Properties Object describes one stream in the file. An ASF file must contain at least one stream, and therefore at least one Stream Properties Object.</li>
</ul>
<p>The Header Object can contain additional optional information, including metadata about the file (such as title and author), a list of the codecs used to encode the file, and content protection information.</p>
<h3>Data Object</h3>
<p>The ASF Data Object contains all of the media data for the ASF file. This object is mandatory and must follow the ASF Header Object.</p>
<p>The Data Object is divided into data <em>packets</em>. Each packet contains data for one or several streams in the file. A data packet contains a data packet header that provides packet parsing information, followed by the payload data the actual digital media data. All of the data packets have a presentation time associated with it and are arranged in the order received.</p>
<p>Information about the contents of the Data Object, such as the packet size and packet count, is stored in the Header Object.</p>
<h3>Index Object</h3>
<p>The Index Object is optional and is the last object in the ASF file. An ASF file can contain more than one Index Object. The Index Object provides time-based random access into the ASF Data Object.</p>
<p>A Simple Index Object is another type of index.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="asf-support-in-media-foundation.html">ASF Support in Media Foundation</a></p>
<!-- raw HTML omitted -->
</body>
