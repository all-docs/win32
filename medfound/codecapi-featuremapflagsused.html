<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>CODECAPI_FeatureMapFlagsUsed property</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Provides the encoder a hint as to what feature map capabilities will be used during the encode sequence.
title: CODECAPI_FeatureMapFlagsUsed property (Codecapi.h)
ms.topic: reference
ms.date: 03/29/2024</h2>
<h1>CODECAPI_FeatureMapFlagsUsed property</h1>
<p>Provides the encoder a hint as to what feature map capabilities will be used during the encode sequence.</p>
<h2>Data type</h2>
<p><strong>UINT32</strong></p>
<h2>Property GUID</h2>
<p><strong>CODECAPI_FeatureMapFlagsUsed</strong></p>
<h2>Property value</h2>
<p>A bitwise OR combination of any of the flag values that are valid to set on the <em>flags</em> field in the MACROBLOCK_DATA structure.</p>
<h2>Remarks</h2>
<p><strong>CODECAPI_FeatureMapFlagsUsed</strong> is a UINT32 property that can be set on an encoder MFT using the <a href="/windows/win32/api/strmif/nf-strmif-icodecapi-setvalue">ICodecAPI::SetValue</a> method to provide the encoder a hint as to what feature map capabilities will be used during the encode sequence. In this context, â€œsequenceâ€ means all frames processed between <a href="/windows/win32/api/mftransform/ne-mftransform-mft_message_type">MFT_MESSAGE_NOTIFY_BEGIN_STREAMING</a> and <a href="/windows/win32/api/mftransform/ne-mftransform-mft_message_type">MF_MESSAGE_NOTIFY_END_STREAMING</a>. This enables encoders that support the property to make stream level optimizations based on the specified set of unused capabilities, if any.</p>
<p>The encoder MFT should assume that any flag specified this way may be used in the feature map passed to the encoder, and alternately, any flag not present will never appear in the feature map.  If <strong>CODECAPI_FeatureMapFlagsUsed</strong> is not set, then the encoder will use the default value, 0xFFFFFFFF, and  assume that all feature map flags may be used.</p>
<p><a href="/windows/win32/api/strmif/nf-strmif-icodecapi-getparametervalues">ICodecAPI::GetParameterValues</a> can be used with <strong>CODECAPI_FeatureMapFlagsUsed</strong> to query which feature map flags are supported by an encoder. Any values present in the returned UINT32-type VARIANT are values for the <em>flags</em> field in the <strong>MACROBLOCK_DATA</strong> structure that the encoder is capable of processing.</p>
<p><a href="/windows/win32/api/strmif/nf-strmif-icodecapi-issupported">ICodecAPI::IsSupported</a> can be used with CODECAPI_FeatureMapFlagsUsed to determine if the encoder recognizes the new property.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 10 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2016 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Codecapi.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="media-foundation-properties.html">Media Foundation Properties</a></p>
<!-- raw HTML omitted -->
</body>
