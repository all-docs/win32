<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>MF_NALU_LENGTH_INFORMATION attribute</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Indicates the lengths of NALUs in the sample. This is a MF BLOB that is set on compressed H.264 or H.265 samples.
ms.assetid: 09F54504-A6CF-4385-BDD7-8D23B1D0125C
title: MF_NALU_LENGTH_INFORMATION attribute (Mfidl.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>MF_NALU_LENGTH_INFORMATION attribute</h1>
<p>Indicates the lengths of NALUs in the sample. This is a MF <strong>BLOB</strong> that is set on compressed H.264 or H.265 samples.</p>
<h2>Data type</h2>
<p><strong>BLOB</strong></p>
<h2>Remarks</h2>
<p>In order for this attribute to be present on a compressed sample, <a href="mf-nalu-length-set.html">MF_NALU_<em>LENGTH</em>_SET</a> must be set appropriately for the corresponding encoder or decoder MFT.</p>
<p>Set MF_NALU_LENGTH_INFORMATION as a <strong>BLOB</strong> on the sample, with one DWORD for each NALU in the sample. For example, if there are AUD (9 bytes), SPS (25 bytes), PPS (10 bytes), IDR slice1 (50 k), IDR slice 2 (60 k), then there should be 5 DWORDs with values 9, 25, 10, 50 k, 60 k in the <strong>BLOB</strong>.</p>
<p>Here some code that sets the <strong>BLOB</strong>, where <strong>rgdwNALULengthInfo</strong> is an array of type DWORD and <strong>uiNaluLengthIdx</strong> is the valid NALU lengths set to the <strong>BLOB</strong>.</p>
<pre lang="C++"><code>m_spSample-&gt;SetBlob( MF_NALU_LENGTH_INFORMATION, 
                    (UINT8*) m_wpParent-&gt;m_pdwNALULengthInfo, 
                    sizeof(DWORD)*uiNaluLengthIdx ), 
                    done );
</code></pre>
<p>When MF_NALU_LENGTH_INFORMATION is provided as input to a decoder, the decoder will use the NALU lengths to improve performance and reduce decode latency.</p>
<p>When MF_NALU_LENGTH_INFORMATION is emitted from an encoder, the NALU lengths can be used to improve the performance of a mux operation or subsequent decode.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ 8 [desktop apps | UWP apps]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2012 [desktop apps | UWP apps]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Mfidl.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="alphabetical-list-of-media-foundation-attributes.html">Alphabetical List of Media Foundation Attributes</a></p>
<!-- raw HTML omitted -->
<p><a href="media-type-attributes.html">Media Type Attributes</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
