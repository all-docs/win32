<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>MF_MT_DEPTH_MEASUREMENT attribute</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: A value that defines the measurement system for a depth value in a video frame.
ms.assetid: 7BFA846B-E614-4117-A196-298E065CB7F8
title: MF_MT_DEPTH_MEASUREMENT attribute (Mfapi.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>MF_MT_DEPTH_MEASUREMENT attribute</h1>
<p>[Some information relates to pre-released product which may be substantially modified before it's commercially released. Microsoft makes no warranties, express or implied, with respect to the information provided here.]</p>
<p>A value that defines the measurement system for a depth value in a video frame.</p>
<h2>Data type</h2>
<p><strong>UINT32</strong></p>
<h2>Remarks</h2>
<p>This value is a member of the <a href="/windows/win32/api/mfapi/ne-mfapi-mfdepthmeasurement"><strong>_MFDepthMeasurement</strong></a> enumeration</p>
<p>If this attribute is not present it is assumed to be <strong>DistanceToFocalPlane</strong>. The distance to focal plane is typically easier to consume in a 3D Euclidean coordinate system.</p>
<p><img src="images/distance-to-focal-plane.png" alt="illustration of distancetofocalplane" /></p>
<p>The distance to focal center format is typically raw data from sensor such as time of flight cameras.</p>
<p><img src="images/distance-to-optical-center.png" alt="illustration of distancetoopticalcenter" /></p>
<p>Depth cameras cannot sense the depth of all pixels. When the confidence of a pixel is low, because of material, occlusion, or out of range etc, the depth value on that pixel can be invalid.</p>
<p>When a depth pixel value is 0, the pixel is invalid.</p>
<p>Some depth cameras attach bitmask metadata for each pixel in addition to the depth value to represent the reason why the depth of pixel is invalid, due to material, occlusion or out of range etc. We recommend that you avoid attaching such metadata as bits in depth value, because it will typically lead to difficulty when using such values in pixel shader. Instead. we recommend that you use a separate 8bit image buffer with same resolution and attach it as attribute of the <a href="/windows/desktop/api/mfobjects/nn-mfobjects-imfsample"><strong>IMFSample</strong></a>. Such metadata varies for each camera vendor and is not standardized by the platform. We recommend using full 16 bits for the depth value for easier processing downstream and using a fixed value such as 0 for invalidation.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ 10, version 1709 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server, version 1709 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Mfapi.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Â </p>
</body>
