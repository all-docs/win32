<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Video Resizer DSP</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Resizes a video stream.
ms.assetid: 4acd6366-1abf-43f3-b6c9-4ea17a335cec
title: Video Resizer DSP (Wmcodecdsp.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>Video Resizer DSP</h1>
<p>Resizes a video stream.</p>
<h2>CLSID</h2>
<p>CLSID_CResizerDMO</p>
<h2>Interfaces</h2>
<ul>
<li><a href="/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediaobject"><strong>IMediaObject</strong></a></li>
<li><a href="/windows/desktop/api/mfidl/nn-mfidl-imfrealtimeclient"><strong>IMFRealTimeClient</strong></a></li>
<li><a href="/windows/desktop/api/mftransform/nn-mftransform-imftransform"><strong>IMFTransform</strong></a></li>
<li><a href="/windows/win32/api/propsys/nn-propsys-ipropertystore"><strong>IPropertyStore</strong></a></li>
<li><a href="/windows/desktop/api/wmcodecdsp/nn-wmcodecdsp-iwmresizerprops"><strong>IWMResizerProps</strong></a></li>
</ul>
<h2>Formats</h2>
<p>The Video Resizer DSP supports the following input/output media subtypes when it is acting as a DirectX Media Object (DMO).</p>
<ul>
<li>MEDIASUBTYPE_IYUV</li>
<li>MEDIASUBTYPE_YUY2</li>
<li>MEDIASUBTYPE_UYVY</li>
<li>MEDIASUBTYPE_I420</li>
<li>MEDIASUBTYPE_RGB32</li>
<li>MEDIASUBTYPE_RGB24</li>
<li>MEDIASUBTYPE_RGB565</li>
<li>MEDIASUBTYPE_RGB8</li>
<li>MEDIASUBTYPE_RGB555</li>
<li>MEDIASUBTYPE_AYUV</li>
<li>MEDIASUBTYPE_V216</li>
<li>MEDIASUBTYPE_YV12</li>
</ul>
<p>The Video Resizer DSP supports the following input/output media subtypes when it is acting as a Media Foundation Transform (MFT).</p>
<ul>
<li>MFVideoFormat_IYUV</li>
<li>MFVideoFormat_YUY2</li>
<li>MFVideoFormat_UYVY</li>
<li>MFVideoFormat_I420</li>
<li>MFVideoFormat_RGB32</li>
<li>MFVideoFormat_RGB24</li>
<li>MFVideoFormat_RGB565</li>
<li>MFVideoFormat_RGB8</li>
<li>MFVideoFormat_RGB555</li>
<li>MFVideoFormat_AYUV</li>
<li>MFVideoFormat_V216</li>
<li>MFVideoFormat_YV12</li>
</ul>
<h2>Properties</h2>
<ul>
<li><a href="mfpkey-resize-src-left.html">MFPKEY_RESIZE_SRC_LEFT</a></li>
<li><a href="mfpkey-resize-src-top.html">MFPKEY_RESIZE_SRC_TOP</a></li>
<li><a href="mfpkey-resize-src-width.html">MFPKEY_RESIZE_SRC_WIDTH</a></li>
<li><a href="mfpkey-resize-src-height.html">MFPKEY_RESIZE_SRC_HEIGHT</a></li>
<li><a href="mfpkey-resize-dst-left.html">MFPKEY_RESIZE_DST_LEFT</a></li>
<li><a href="mfpkey-resize-dst-top.html">MFPKEY_RESIZE_DST_TOP</a></li>
<li><a href="mfpkey-resize-dst-width.html">MFPKEY_RESIZE_DST_WIDTH</a></li>
<li><a href="mfpkey-resize-dst-height.html">MFPKEY_RESIZE_DST_HEIGHT</a></li>
<li><a href="mfpkey-resize-quality.html">MFPKEY_RESIZE_QUALITY</a></li>
<li><a href="mfpkey-resize-interlace.html">MFPKEY_RESIZE_INTERLACE</a></li>
<li><a href="mfpkey-resize-geomapx.html">MFPKEY_RESIZE_GEOMAPX</a></li>
<li><a href="mfpkey-resize-geomapy.html">MFPKEY_RESIZE_GEOMAPY</a></li>
<li><a href="mfpkey-resize-geomapwidth.html">MFPKEY_RESIZE_GEOMAPWIDTH</a></li>
<li><a href="mfpkey-resize-geomapheight.html">MFPKEY_RESIZE_GEOMAPHEIGHT</a></li>
<li><a href="mfpkey-resize-minapx.html">MFPKEY_RESIZE_MINAPX</a></li>
<li><a href="mfpkey-resize-minapy.html">MFPKEY_RESIZE_MINAPY</a></li>
<li><a href="mfpkey-resize-minapwidth.html">MFPKEY_RESIZE_MINAPWIDTH</a></li>
<li><a href="mfpkey-resize-minapheight.html">MFPKEY_RESIZE_MINAPHEIGHT</a></li>
<li><a href="mfpkey-resize-panscanapx.html">MFPKEY_RESIZE_PANSCANAPX</a></li>
<li><a href="mfpkey-resize-panscanapy.html">MFPKEY_RESIZE_PANSCANAPY</a></li>
<li><a href="mfpkey-resize-panscanapwidth.html">MFPKEY_RESIZE_PANSCANAPWIDTH</a></li>
<li><a href="mfpkey-resize-panscanapheight.html">MFPKEY_RESIZE_PANSCANAPHEIGHT</a></li>
<li><a href="mfpkey-pixelaspectratio.html">MFPKEY_PIXELASPECTRATIO</a></li>
</ul>
<h2>Remarks</h2>
<p>The Video Resizer DSP is implemented as a COM object that can act as a DMO or an MFT. The object has a single class identifier (CLSID) regardless of whether it acts as a DMO or an MFT. For information about when a DSP acts as a DMO or an MFT, see <a href="windowsmediadigitalsignalprocessors.html">Digital Signal Processors</a>.</p>
<p>The globally unique identifiers (GUIDs) for RGB media subtypes differ depending on whether a DSP is acting as a DMO or an MFT. The GUIDs for non-RGB media subtypes are the same, regardless of whether a DSP is acting as a DMO or an MFT. For information about the GUIDs that represent media subtypes, see <a href="video-subtype-guids.html">Video Subtype GUIDs</a>.</p>
<p>This DSP can perform both cropping and scaling on the video image. The format of the output type must match the format of the input type. The DSP does not perform color-space conversions.</p>
<p>Before setting the output type, you can define any of the following regions by using the properties listed in this table.</p>
<table>
<thead>
<tr>
<th>Region</th>
<th>Properties</th>
</tr>
</thead>
<tbody>
<tr>
<td>Source rectangle</td>
<td>MFPKEY_RESIZE_SRC_LEFT<!-- raw HTML omitted --> MFPKEY_RESIZE_SRC_TOP<!-- raw HTML omitted --> MFPKEY_RESIZE_SRC_WIDTH<!-- raw HTML omitted --> MFPKEY_RESIZE_SRC_HEIGHT<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Destination rectangle</td>
<td>MFPKEY_RESIZE_DST_LEFT<!-- raw HTML omitted --> MFPKEY_RESIZE_DST_TOP<!-- raw HTML omitted --> MFPKEY_RESIZE_DST_WIDTH<!-- raw HTML omitted --> MFPKEY_RESIZE_DST_HEIGHT<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Geometric aperture</td>
<td>MFPKEY_RESIZE_GEOMAPX<!-- raw HTML omitted --> MFPKEY_RESIZE_GEOMAPY<!-- raw HTML omitted --> MFPKEY_RESIZE_GEOMAPWIDTH<!-- raw HTML omitted --> MFPKEY_RESIZE_GEOMAPHEIGHT<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum display aperture</td>
<td>MFPKEY_RESIZE_MINAPX<!-- raw HTML omitted --> MFPKEY_RESIZE_MINAPY<!-- raw HTML omitted --> MFPKEY_RESIZE_MINAPWIDTH<!-- raw HTML omitted --> MFPKEY_RESIZE_MINAPHEIGHT<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Pan/scan region</td>
<td>MFPKEY_RESIZE_PANSCANAPX<!-- raw HTML omitted --> MFPKEY_RESIZE_PANSCANAPY<!-- raw HTML omitted --> MFPKEY_RESIZE_PANSCANAPWIDTH<!-- raw HTML omitted --> MFPKEY_RESIZE_PANSCANAPHEIGHT<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>In each case, you must set all of the associated properties for the setting to take effect.</p>
<p>The DSP copies the portion of the source image defined by source rectangle, and stretches or compresses it onto the destination rectangle on the output buffer. The source and destination rectangles do not need to be the same size. The frame size in the output media type must be large enough to hold the destination rectangle.</p>
<p>The geometric aperture, minimum display aperture, and pan/scan region do not affect how the DSP resizes the video. However, they might affect how the downstream component interprets the video frame. In particular, the enhanced video renderer (EVR) uses these values when it calculates the picture aspect ratio and the display area.</p>
<p>If you are using Media Foundation media types, you can set the geometric aperture, minimum display aperture, and pan/scan regions directly in the output media type. Otherwise, if you are using DMO media types, set them using the properties.</p>
<p>For more information, see the following topics:</p>
<ul>
<li><a href="mf-mt-geometric-aperture-attribute.html"><strong>MF_MT_GEOMETRIC_APERTURE</strong></a></li>
<li><a href="mf-mt-minimum-display-aperture-attribute.html"><strong>MF_MT_MINIMUM_DISPLAY_APERTURE</strong></a></li>
<li><a href="mf-mt-pan-scan-aperture-attribute.html"><strong>MF_MT_PAN_SCAN_APERTURE</strong></a></li>
</ul>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2008 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Wmcodecdsp.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Vidreszr.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="windowsmediadigitalsignalprocessors.html">Digital Signal Processors</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
