<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Creating Topologies</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Creating Topologies
ms.assetid: afd1e646-9bb6-4265-a225-6aaaf1a7bb2a
title: Creating Topologies
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Creating Topologies</h1>
<p>This section describes some of the general procedures for creating a topology.</p>
<p>The general steps for creating a topology are as follows:</p>
<ol>
<li>
<p>Create a new topology object by calling <a href="/windows/desktop/api/mfidl/nf-mfidl-mfcreatetopology"><strong>MFCreateTopology</strong></a>. This function returns a pointer to the topology's <a href="/windows/desktop/api/mfidl/nn-mfidl-imftopology"><strong>IMFTopology</strong></a> interface.</p>
</li>
<li>
<p>Initially, the topology does not contain any nodes. To create nodes for the topology, call <a href="/windows/desktop/api/mfidl/nf-mfidl-mfcreatetopologynode"><strong>MFCreateTopologyNode</strong></a>. This function returns a pointer to the node's <a href="/windows/desktop/api/mfidl/nn-mfidl-imftopologynode"><strong>IMFTopologyNode</strong></a> interface. You must specify the node type when you create the node:</p>
<ul>
<li>
<p>Source node.</p>
</li>
<li>
<p>Transform node.</p>
</li>
<li>
<p>Output node.</p>
</li>
<li>
<p>Tee node.</p>
</li>
</ul>
</li>
<li>
<p>Initialize each node. The initialization process depends on the node type, as described in the topics that follow.</p>
</li>
<li>
<p>Add each node to the topology by calling <a href="/windows/desktop/api/mfidl/nf-mfidl-imftopology-addnode"><strong>IMFTopology::AddNode</strong></a>.</p>
</li>
<li>
<p>Connect the nodes. To connect a node, call <a href="/windows/desktop/api/mfidl/nf-mfidl-imftopologynode-connectoutput"><strong>IMFTopologyNode::ConnectOutput</strong></a> on the upstream node, and pass in a pointer to the downstream node.</p>
</li>
</ol>
<p>The following topics give the specific steps for each node type.</p>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="creating-source-nodes.html">Creating Source Nodes</a></td>
<td>How to create a source node.</td>
</tr>
<tr>
<td><a href="creating-transform-nodes.html">Creating Transform Nodes</a></td>
<td>How to create a transform node.</td>
</tr>
<tr>
<td><a href="creating-output-nodes.html">Creating Output Nodes</a></td>
<td>How to create an output node.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="topologies.html">Topologies</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
