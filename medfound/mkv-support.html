<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Matroska Media Container (MKV) support</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: This section describes the Media Foundation support for Matroska Media Container (MKV) files.
title: Matroska Media Container (MKV) support
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Matroska Media Container (MKV) support</h1>
<p>This section describes the Media Foundation support for Matroska Media Container (MKV) files.</p>
<p>The MKV format can support multiple video and audio codecs, such as H.264 and AAC audio. In general, containers describe how video and audio data is laid out and what supplementary information is used to describe those A/V streams. Containers can also include data that complements A/V streams, such as the title, languages of the audio streams, subtitle or caption tracks, fonts for those subtitles, images, chapter information, and menus. MKV is a highly flexible format that supports many of these container features. For more info about the MKV format, see <a href="https://matroska.org/">https://matroska.org</a></p>
<h2>MKV container feature support</h2>
<p>MKV container features are supported on the by Media Foundation in the following ways:</p>
<ul>
<li>If one or more video tracks are present, the first track will be played.</li>
<li>If one or more audio tracks are present, the first track will be played.</li>
<li>Caption tracks are supported, but are not selected (played) by default.</li>
<li>If one or more fonts or images are present, captions and images wonâ€™t render, although the file will load and play.</li>
<li>Menu information is not supported and wonâ€™t be displayed, but the file will load and play.</li>
<li>If files with chapters refer to supplemental files, the supplemental files wonâ€™t play.</li>
<li>Thumbnail images are available when browsing for files on USB drives using the file browser.</li>
</ul>
<p>This set of features should allow playback of most MKV files if they contain supported codecs.
MKV files that contain video and audio tracks encoded with the codecs listed in the following section are supported.</p>
<h2>Supported MKV codecs</h2>
<h3>Video codec support for MKV</h3>
<p>Matroska ID: V_MPEG4/ISO/AVC</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_H264</li>
<li>Description: H.264 video</li>
<li>FourCC or WAV identifiers: H264</li>
</ul>
<p>Matroska ID: V_MPEG2</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_MPEG2</li>
<li>Description: MPEG-2 video</li>
</ul>
<p>Matroska ID: V_MPEG1</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_MPG1</li>
<li>Description: MPEG-1 video</li>
<li>FourCC or WAV identifiers: MPG1</li>
</ul>
<p>Matroska ID: V_MPEG4/MS/V3</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_MP43</li>
<li>Description: Microsoft MPEG 4 codec version 3</li>
<li>FourCC or WAV identifiers: MP43</li>
</ul>
<p>Matroska ID: V_MPEG4/ISO/ASP</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_MP4V</li>
<li>Description: MPEG-4 part 2 video</li>
<li>FourCC or WAV identifiers: MP4V</li>
</ul>
<p>Matroska ID: V_MS/VFW/FOURCC</p>
<ul>
<li>Description: Maps to several codecs usually supported in the AVI format that are available on the console.</li>
</ul>
<p>Matroska ID: V_THEORA</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_Theora</li>
<li>Description: Theora</li>
<li>FourCC or WAV identifiers: theo</li>
</ul>
<p>Matroska ID: V_MPEG4/ISO/SP</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_MP4V</li>
<li>Description: MPEG4 ISO simple profile (DivX4)</li>
<li>FourCC or WAV identifiers: MP4V</li>
</ul>
<p>Matroska ID: V_MPEG4/ISO/AP</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_MP4V</li>
<li>Description: MPEG4 ISO advanced simple profile (DivX5, XviD, FFMPEG)</li>
<li>FourCC or WAV identifiers: MP4V</li>
</ul>
<p>Matroska ID: V_MPEGH/ISO/HEVC</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_HEVC</li>
<li>Description: HEVC/H.265</li>
<li>FourCC or WAV identifiers:</li>
</ul>
<p>Matroska ID: V_VP8</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_VP80</li>
<li>Description: VP8 Codec format</li>
<li>FourCC or WAV identifiers: VP80</li>
</ul>
<p>Matroska ID: V_VP9</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_VP90</li>
<li>Description: VP9 Codec format</li>
<li>FourCC or WAV identifiers: VP90</li>
</ul>
<p>Matroska ID: V_MJPEG</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_MJPG</li>
<li>Description: Motion JPEG</li>
<li>FourCC or WAV identifiers: MJPG</li>
</ul>
<p>Matroska ID: V_AV1</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFVideoFormat_AV1</li>
<li>Description: AOMedia Video 1</li>
<li>FourCC or WAV identifiers: AV01</li>
</ul>
<h3>Audio codec support for MKV</h3>
<p>Matroska ID: A_AAC</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_AAC</li>
<li>Description: Advanced Audio Coding (AAC)</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_MPEG_HEAAC</li>
</ul>
<p>Matroska ID: A_AC3</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_Dolby_AC3</li>
<li>Description: Dolby AC3</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_DOLBY_AC3_SPDIF</li>
</ul>
<p>Matroska ID: A_MPEG/L3</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_MP3</li>
<li>Description: MPEG Audio Layer-3 (MP3)</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_MPEGLAYER3</li>
</ul>
<p>Matroska ID: A_MPEG/L1</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_MPEG</li>
<li>Description: MPEG-1 audio payload</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_MPEG</li>
</ul>
<p>Matroska ID: A_PCM/INT/BIG</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_PCM</li>
<li>Description: Uncompressed PCM audio</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_PCM</li>
</ul>
<p>Matroska ID: A_PCM/INT/LIT</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_PCM</li>
<li>Description: Uncompressed PCM audio</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_PCM</li>
</ul>
<p>Matroska ID: A_PCM/FLOAT/IEEE</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_Float</li>
<li>Description: Uncompressed IEEE floating-point audio</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_IEEE_FLOAT</li>
</ul>
<p>Matroska ID: A_ALAC</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_ALAC</li>
<li>Description: Apple Lossless Audio Codec</li>
<li>FourCC or WAV identifiers:</li>
</ul>
<p>Matroska ID: A_MPEG/L2</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_MPEG</li>
<li>Description: MPEG Audio 1, 2 Layer II</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_MPEG</li>
</ul>
<p>Matroska ID: A_DTS</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MEDIASUBTYPE_DTS_HD</li>
<li>Description: Digital Theatre System</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_DTS</li>
</ul>
<p>Matroska ID: A_OPUS</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_Opus</li>
<li>Description: Opus</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_OPUS</li>
</ul>
<p>Matroska ID: A_VORBIS</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_Vorbis</li>
<li>Description: Vorbis</li>
<li>FourCC or WAV identifiers:</li>
</ul>
<p>Matroska ID: A_FLAC</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_FLAC</li>
<li>Description: Free Lossless Audio Codec</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_FLAC</li>
</ul>
<p>Matroska ID: A_AAC/MAIN</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_AAC</li>
<li>Description: Advanced Audio Coding (AAC)</li>
<li>FourCC or WAV identifiers: WAVE_FORMAT_MPEG_HEAAC</li>
</ul>
<p>Matroska ID: A_EAC3</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFAudioFormat_Dolby_DDPlus</li>
<li>Description: Enhanced AC-3</li>
<li>FourCC or WAV identifiers:</li>
</ul>
<p>Matroska ID: A_TRUEHD</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MEDIASUBTYPE_DOLBY_TRUEHD</li>
<li>Description: Dolby TrueHD</li>
<li>FourCC or WAV identifiers:</li>
</ul>
<p>Matroska ID: A_MS/ACM</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: Maps to several WAVE_FORMAT audio types defined in mmreg.h</li>
</ul>
<h3>Subtitles codec support for MKV</h3>
<p>Matroska ID: S_TEXT/ASCII</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFSubtitleFormat_SRT</li>
<li>Description: ASCII text</li>
</ul>
<p>Matroska ID: S_TEXT/UTF8</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFSubtitleFormat_SRT</li>
<li>Description: UTF-8 Plain Text</li>
</ul>
<p>Matroska ID: S_TEXT/SSA</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFSubtitleFormat_SSA</li>
<li>Description: Subtitles Format</li>
</ul>
<p>Matroska ID: S_TEXT/ASS</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFSubtitleFormat_SSA</li>
<li>Description: Advanced Subtitles Format</li>
</ul>
<p>Matroska ID: S_VOBSUB</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFSubtitleFormat_VobSub</li>
<li>Description: VobSub subtitles</li>
</ul>
<p>Matroska ID: S_HDMV/PGS</p>
<ul>
<li>MSFT Media Foundation MF_MT_SUBTYPE: MFSubtitleFormat_PGS</li>
<li>Description: HDMV presentation graphics subtitles (PGS)</li>
</ul>
<h2>Technical details regarding codecs</h2>
<p>See the following for technical details regarding codecs.</p>
<ul>
<li><a href="http://www.matroska.org/technical/specs/codecid/index.html">Matroska Codec Specs</a></li>
<li><a href="audio-subtype-guids.html">Audio Subtype GUIDs</a></li>
<li><a href="video-subtype-guids.html">Video Subtype GUIDs</a></li>
</ul>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="supported-media-formats-in-media-foundation.html">Supported Media Formats in Media Foundation</a></p>
<!-- raw HTML omitted -->
<p><a href="media-foundation-programming-guide.html">Media Foundation Programming Guide</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
