<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WM_XBUTTONUP message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: WM_XBUTTONUP message (Winuser.h)
description: Posted when the user releases the first or second X button while the cursor is in the client area of a window.
ms.assetid: ad726859-368a-4603-bffa-4e639bc69a6a
keywords:</p>
<ul>
<li>WM_XBUTTONUP message Keyboard and Mouse Input
topic_type:</li>
<li>apiref
api_name:</li>
<li>WM_XBUTTONUP
api_location:</li>
<li>Winuser.h
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.date: 08/23/2019</li>
</ul>
<hr />
<h1>WM_XBUTTONUP message</h1>
<p>Posted when the user releases the first or second X button while the cursor is in the client area of a window. If the mouse is not captured, the message is posted to the window beneath the cursor. Otherwise, the message is posted to the window that has captured the mouse.</p>
<p>A window receives this message through its <a href="/windows/win32/api/winuser/nc-winuser-wndproc"><strong>WindowProc</strong></a> function.</p>
<pre lang="C++"><code>#define WM_XBUTTONUP                    0x020C
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>The low-order word indicates whether various virtual keys are down. It can be one or more of the following values.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>MK_CONTROL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0008<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The CTRL key is down.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>MK_LBUTTON</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0001<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The left mouse button is down.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>MK_MBUTTON</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0010<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The middle mouse button is down.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>MK_RBUTTON</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0002<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The right mouse button is down.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>MK_SHIFT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0004<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The SHIFT key is down.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>MK_XBUTTON1</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0020<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The first X button is down.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>MK_XBUTTON2</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0040<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The second X button is down.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>The high-order word indicates which button was released. It can be one of the following values:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>XBUTTON1</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0001<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The first X button was released.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>XBUTTON2</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0002<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The second X button was released.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>The low-order word specifies the x-coordinate of the cursor. The coordinate is relative to the upper-left corner of the client area.</p>
<p>The high-order word specifies the y-coordinate of the cursor. The coordinate is relative to the upper-left corner of the client area.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>If an application processes this message, it should return <strong>TRUE</strong>. For more information about processing the return value, see the Remarks section.</p>
<h2>Remarks</h2>
<p>Use the following code to get the information in the <em>wParam</em> parameter:</p>
<pre><code>fwKeys = GET_KEYSTATE_WPARAM (wParam); 
fwButton = GET_XBUTTON_WPARAM (wParam); 
</code></pre>
<p>Use the following code to obtain the horizontal and vertical position:</p>
<pre><code>xPos = GET_X_LPARAM(lParam); 
yPos = GET_Y_LPARAM(lParam); 
</code></pre>
<p>As noted above, the x-coordinate is in the low-order <strong>short</strong> of the return value; the y-coordinate is in the high-order <strong>short</strong> (both represent <em>signed</em> values because they can take negative values on systems with multiple monitors). If the return value is assigned to a variable, you can use the <a href="/windows/desktop/api/wingdi/nf-wingdi-makepoints"><strong>MAKEPOINTS</strong></a> macro to obtain a <a href="/windows/win32/api/windef/ns-windef-points"><strong>POINTS</strong></a> structure from the return value. You can also use the <a href="/windows/desktop/api/windowsx/nf-windowsx-get_x_lparam"><strong>GET_X_LPARAM</strong></a> or <a href="/windows/desktop/api/windowsx/nf-windowsx-get_y_lparam"><strong>GET_Y_LPARAM</strong></a> macro to extract the x- or y-coordinate.</p>
<blockquote>
<p>[!IMPORTANT]
Do not use the <a href="../winmsg/loword.html"><strong>LOWORD</strong></a> or <a href="../winmsg/hiword.html"><strong>HIWORD</strong></a> macros to extract the x- and y- coordinates of the cursor position because these macros return incorrect results on systems with multiple monitors. Systems with multiple monitors can have negative x- and y- coordinates, and <strong>LOWORD</strong> and <strong>HIWORD</strong> treat the coordinates as unsigned quantities.</p>
</blockquote>
<p>Unlike the <a href="wm-lbuttonup.html"><strong>WM_LBUTTONUP</strong></a>, <a href="wm-mbuttonup.html"><strong>WM_MBUTTONUP</strong></a>, and <a href="wm-rbuttonup.html"><strong>WM_RBUTTONUP</strong></a> messages, an application should return <strong>TRUE</strong> from this message if it processes it. Doing so will allow software that simulates this message on Windows systems earlier than Windows 2000 to determine whether the window procedure processed the message or called <a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a> to process it.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 2000 Professional [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows 2000 Server [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Winuser.h (include Windowsx.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><strong>Reference</strong></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/winuser/nf-winuser-get_keystate_wparam"><strong>GET_KEYSTATE_WPARAM</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/windowsx/nf-windowsx-get_x_lparam"><strong>GET_X_LPARAM</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/winuser/nf-winuser-get_xbutton_wparam"><strong>GET_XBUTTON_WPARAM</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/windowsx/nf-windowsx-get_y_lparam"><strong>GET_Y_LPARAM</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/winuser/nf-winuser-getcapture"><strong>GetCapture</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/winuser/nf-winuser-setcapture"><strong>SetCapture</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="wm-xbuttondblclk.html"><strong>WM_XBUTTONDBLCLK</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="wm-xbuttondown.html"><strong>WM_XBUTTONDOWN</strong></a></p>
<!-- raw HTML omitted -->
<p><strong>Conceptual</strong></p>
<!-- raw HTML omitted -->
<p><a href="mouse-input.html">Mouse Input</a></p>
<!-- raw HTML omitted -->
<p><strong>Other Resources</strong></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/wingdi/nf-wingdi-makepoints"><strong>MAKEPOINTS</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/windef/ns-windef-points"><strong>POINTS</strong></a></p>
<!-- raw HTML omitted -->
</body>
