<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Design Considerations for Custom Devices</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Design Considerations for Custom Devices
description: This topic describes design considerations that can help you determine whether your device needs a custom driver.
ms.assetid: 8AADE304-4841-41E2-968B-DFCB5B954FF1
ms.topic: article
ms.date: 02/11/2020</h2>
<h1>Design Considerations for Custom Devices</h1>
<p>This topic describes design considerations that can help you determine whether your device needs a custom driver.</p>
<ul>
<li><a href="#determining-the-type-of-driver-to-implement">Determining the type of driver to implement</a></li>
<li><a href="#security-considerations">Security considerations</a></li>
<li><a href="#related-topics">Related topics</a></li>
</ul>
<h2>Determining the type of driver to implement</h2>
<p>This table describes when you should develop a custom driver for your device and communicate with it by using the Device Access API, and when you should use Windows-provided device stacks instead.</p>
<table>
<thead>
<tr>
<th align="left">To support</th>
<th align="left">Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Well-known devices, including: <!-- raw HTML omitted --><!-- raw HTML omitted -->Sensor<!-- raw HTML omitted --><!-- raw HTML omitted -->Location<!-- raw HTML omitted --><!-- raw HTML omitted -->Webcam<!-- raw HTML omitted --><!-- raw HTML omitted -->Proximity<!-- raw HTML omitted --><!-- raw HTML omitted -->Short message service (SMS)<!-- raw HTML omitted --><!-- raw HTML omitted -->Mobile broadband<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td align="left">For many types of well-known devices, you don't need a custom driver, because Windows includes APIs and class-extension device driver interfaces (DDIs) that manage the communication between the driver and Windows. Sensor, location, and Windows Portable Device (WPD) devices are some examples of device classes that have this support. If you build a driver that uses one of these Windows-provided DDIs to send and receive data and commands, there's no need for your Windows Store app to use the Device Access API to broker access or send input/output (I/O) control codes directly to the driver. <!-- raw HTML omitted --> When a Windows Store app requests access to a well-known device by using the Windows Runtime API for its device class, Windows 8 will handle device access based on the type of device. Apps will always get access to some well-known types of devices (such as accelerometers) that don't reveal any personally identifiable information. Other types of well-known devices must be declared in the application manifest before an app can access them. The user must grant permission for an app to access devices that reveal sensitive information, like location, webcam, and microphone devices, or can cost the user money, like mobile broadband devices. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left">A WPD device that implements MTP services.<!-- raw HTML omitted --></td>
<td align="left">You can use the MTP class driver, or you can build a driver by using the WPD DDI.<!-- raw HTML omitted --> Windows 8 provides support for MTP device services.And an app can use the <a href="/uwp/api/Windows.Devices.Portable">Windows.Devices.Portable</a> Windows Runtime API, the Portable Device Component Object Model (COM) API, or WPD Automation to access the device. Your app doesn't need to use the Device Access API.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left">A device that doesn't have a Windows-provided class extension or class driver.<!-- raw HTML omitted --></td>
<td align="left">In this case, consult the <a href="/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices">UWP device apps for internal devices</a> for specialized devices to determine whether you must implement custom driver access by using the Device Access API.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Security considerations</h2>
<p>The following articles provide guidance for writing secure C++ code:</p>
<ul>
<li><a href="/cpp/security/security-best-practices-for-cpp">Security Best Practices for C++</a></li>
<li>[Patterns &amp; Practices Security Guidance for Applications]/previous-versions/msp-n-p/ff650760(v=pandp.10))</li>
</ul>
<h2>Related topics</h2>
<p><a href="https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Custom%20driver%20access%20sample">Custom Driver Access Sample</a>, <a href="/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices">UWP device apps for internal devices</a>, <a href="/windows-hardware/drivers/">Hardware Dev Center</a></p>
</body>
