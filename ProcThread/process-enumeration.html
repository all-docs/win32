<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Process Enumeration</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: All users have read access to the list of processes in the system and there are a number of different functions that enumerate the active processes. The function you should use will depend on factors such as desired platform support.
ms.assetid: 4c73fb10-7ee8-4d8a-9cdb-a2ae59aef5bd
title: Process Enumeration
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Process Enumeration</h1>
<p>All users have read access to the list of processes in the system and there are a number of different functions that enumerate the active processes. The function you should use will depend on factors such as desired platform support.</p>
<p>The following functions are used to enumerate processes.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/win32/api/psapi/nf-psapi-enumprocesses"><strong>EnumProcesses</strong></a></td>
<td>Retrieves the process identifier for each process object in the system.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/tlhelp32/nf-tlhelp32-process32first"><strong>Process32First</strong></a></td>
<td>Retrieves information about the first process encountered in a system snapshot.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/tlhelp32/nf-tlhelp32-process32next"><strong>Process32Next</strong></a></td>
<td>Retrieves information about the next process recorded in a system snapshot.</td>
</tr>
<tr>
<td><a href="/windows/win32/api/wtsapi32/nf-wtsapi32-wtsenumerateprocessesa"><strong>WTSEnumerateProcesses</strong></a></td>
<td>Retrieves information about the active processes on the specified terminal server.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The toolhelp functions and <a href="/windows/win32/api/psapi/nf-psapi-enumprocesses"><strong>EnumProcesses</strong></a> enumerate all process. To list the processes that are running in a specific user account, use <a href="/windows/win32/api/wtsapi32/nf-wtsapi32-wtsenumerateprocessesa"><strong>WTSEnumerateProcesses</strong></a> and filter on the user SID. You can filter on the session ID to hide processes running in other terminal server sessions.</p>
<p>You can also filter processes by user account, regardless of the enumeration function, by calling <a href="/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess"><strong>OpenProcess</strong></a>, <a href="/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken"><strong>OpenProcessToken</strong></a>, and <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation"><strong>GetTokenInformation</strong></a> with <strong>TokenUser</strong>. However, you cannot open a process that is protected by a security descriptor unless you have been granted access.</p>
<p>Â </p>
<p>Â </p>
</body>
