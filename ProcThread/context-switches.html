<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Context Switches</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The scheduler maintains a queue of executable threads for each priority level.
ms.assetid: 82463d71-9cef-4608-b997-25dc9c1e1c0a
title: Context Switches
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Context Switches</h1>
<p>The scheduler maintains a queue of executable threads for each priority level. These are known as <em>ready threads</em>. When a processor becomes available, the system performs a <em>context switch</em>. The steps in a context switch are:</p>
<ol>
<li>Save the context of the thread that just finished executing.</li>
<li>Place the thread that just finished executing at the end of the queue for its priority.</li>
<li>Find the highest priority queue that contains ready threads.</li>
<li>Remove the thread at the head of the queue, load its context, and execute it.</li>
</ol>
<p>The following classes of threads are not ready threads.</p>
<ul>
<li>Threads created with the CREATE_SUSPENDED flag</li>
<li>Threads halted during execution with the <a href="/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread"><strong>SuspendThread</strong></a> or <a href="/windows/win32/api/processthreadsapi/nf-processthreadsapi-switchtothread"><strong>SwitchToThread</strong></a> function</li>
<li>Threads waiting for a synchronization object or input.</li>
</ul>
<p>Until threads that are suspended or blocked become ready to run, the scheduler does not allocate any processor time to them, regardless of their priority.</p>
<p>The most common reasons for a context switch are:</p>
<ul>
<li>The time slice has elapsed.</li>
<li>A thread with a higher priority has become ready to run.</li>
<li>A running thread needs to wait.</li>
</ul>
<p>When a running thread needs to wait, it relinquishes the remainder of its time slice.</p>
<p>Â </p>
<p>Â </p>
</body>
