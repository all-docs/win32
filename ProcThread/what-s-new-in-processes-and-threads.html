<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>What's New in Processes and Threads</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: WindowsÂ 7 and Windows ServerÂ 2008Â R2 include the following new programming elements for processes and threads.
ms.assetid: 69cd8713-b40c-4fec-a256-9c2ee3d73da5
title: What's New in Processes and Threads
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>What's New in Processes and Threads</h1>
<p>WindowsÂ 7 and Windows ServerÂ 2008Â R2 include the following new programming elements for processes and threads.</p>
<h2>New Capabilities</h2>
<p>The 64-bit versions of WindowsÂ 7 and Windows ServerÂ 2008Â R2 support more than 64 logical processors on a single computer. For more information, see <a href="processor-groups.html">Processor Groups</a>.</p>
<p>User-mode scheduling (UMS) is a lightweight mechanism that applications can use to schedule their own threads. For more information, see <a href="user-mode-scheduling.html">User-Mode Scheduling</a>.</p>
<h2>New Functions</h2>
<p>The following new functions are used with processors and processor groups.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethreadex"><strong>CreateRemoteThreadEx</strong></a><!-- raw HTML omitted --></td>
<td>Creates a thread that runs in the virtual address space of another process and optionally specifies extended attributes such as processor group affinity.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-getactiveprocessorcount"><strong>GetActiveProcessorCount</strong></a><!-- raw HTML omitted --></td>
<td>Returns the number of active processors in a processor group or in the system.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-getactiveprocessorgroupcount"><strong>GetActiveProcessorGroupCount</strong></a><!-- raw HTML omitted --></td>
<td>Returns the number of active processor groups in the system.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocessornumberex"><strong>GetCurrentProcessorNumberEx</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the processor group and number of the logical processor in which the calling thread is running.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/sysinfoapi/nf-sysinfoapi-getlogicalprocessorinformationex"><strong>GetLogicalProcessorInformationEx</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves information about the relationships of logical processors and related hardware.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-getmaximumprocessorcount"><strong>GetMaximumProcessorCount</strong></a><!-- raw HTML omitted --></td>
<td>Returns the maximum number of logical processors that a processor group or the system can have.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-getmaximumprocessorgroupcount"><strong>GetMaximumProcessorGroupCount</strong></a><!-- raw HTML omitted --></td>
<td>Returns the maximum number of processor groups that the system can have. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-getnumaavailablememorynodeex"><strong>GetNumaAvailableMemoryNodeEx</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the amount of memory that is available in the specified node as a USHORT value.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-getnumanodenumberfromhandle"><strong>GetNumaNodeNumberFromHandle</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the NUMA node associated with the underlying device for a file handle.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/systemtopologyapi/nf-systemtopologyapi-getnumanodeprocessormaskex"><strong>GetNumaNodeProcessorMaskEx</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the processor mask for the specified NUMA node as a USHORT value.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-getnumaprocessornodeex"><strong>GetNumaProcessorNodeEx</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the node number of the specified logical processor as a USHORT value.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/systemtopologyapi/nf-systemtopologyapi-getnumaproximitynodeex"><strong>GetNumaProximityNodeEx</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the node number as a USHORT value for the specified proximity identifier.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/processtopologyapi/nf-processtopologyapi-getprocessgroupaffinity"><strong>GetProcessGroupAffinity</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the processor group affinity of the specified process.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/sysinfoapi/nf-sysinfoapi-getprocessorsystemcycletime"><strong>GetProcessorSystemCycleTime</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the cycle time each processor in the specified group spent executing deferred procedure calls (DPCs) and interrupt service routines (ISRs).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/processtopologyapi/nf-processtopologyapi-getthreadgroupaffinity"><strong>GetThreadGroupAffinity</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the processor group affinity of the specified thread.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadidealprocessorex"><strong>GetThreadIdealProcessorEx</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the processor number of the ideal processor for the specified thread.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/realtimeapiset/nf-realtimeapiset-queryidleprocessorcycletimeex"><strong>QueryIdleProcessorCycleTimeEx</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the accumulated cycle time for the idle thread on each logical processor in the specified processor group. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/processtopologyapi/nf-processtopologyapi-setthreadgroupaffinity"><strong>SetThreadGroupAffinity</strong></a><!-- raw HTML omitted --></td>
<td>Sets the processor group affinity for the specified thread.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadidealprocessorex"><strong>SetThreadIdealProcessorEx</strong></a><!-- raw HTML omitted --></td>
<td>Sets the ideal processor for the specified thread and optionally retrieves the previous ideal processor.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The following new functions are used with thread pools.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/win32/api/threadpoolapiset/nf-threadpoolapiset-querythreadpoolstackinformation"><strong>QueryThreadpoolStackInformation</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the stack reserve and commit sizes for threads in the specified thread pool.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-setthreadpoolcallbackpersistent"><strong>SetThreadpoolCallbackPersistent</strong></a><!-- raw HTML omitted --></td>
<td>Specifies that the callback should run on a persistent thread.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-setthreadpoolcallbackpriority"><strong>SetThreadpoolCallbackPriority</strong></a><!-- raw HTML omitted --></td>
<td>Specifies the priority of a callback function relative to other work items in the same thread pool.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/win32/api/threadpoolapiset/nf-threadpoolapiset-setthreadpoolstackinformation"><strong>SetThreadpoolStackInformation</strong></a><!-- raw HTML omitted --></td>
<td>Sets the stack reserve and commit sizes for new threads in the specified thread pool. <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The following new functions are used with UMS.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-createumscompletionlist"><strong>CreateUmsCompletionList</strong></a><!-- raw HTML omitted --></td>
<td>Creates a UMS completion list.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-createumsthreadcontext"><strong>CreateUmsThreadContext</strong></a><!-- raw HTML omitted --></td>
<td>Creates a UMS thread context to represent a UMS worker thread.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-deleteumscompletionlist"><strong>DeleteUmsCompletionList</strong></a><!-- raw HTML omitted --></td>
<td>Deletes the specified UMS completion list. The list must be empty.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-deleteumsthreadcontext"><strong>DeleteUmsThreadContext</strong></a><!-- raw HTML omitted --></td>
<td>Deletes the specified UMS thread context. The thread must be terminated.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-dequeueumscompletionlistitems"><strong>DequeueUmsCompletionListItems</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves UMS worker threads from the specified UMS completion list.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-enterumsschedulingmode"><strong>EnterUmsSchedulingMode</strong></a><!-- raw HTML omitted --></td>
<td>Converts the calling thread into a UMS scheduler thread.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-executeumsthread"><strong>ExecuteUmsThread</strong></a><!-- raw HTML omitted --></td>
<td>Runs the specified UMS worker thread.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-getcurrentumsthread"><strong>GetCurrentUmsThread</strong></a><!-- raw HTML omitted --></td>
<td>Returns the UMS thread context of the calling UMS thread.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-getnextumslistitem"><strong>GetNextUmsListItem</strong></a><!-- raw HTML omitted --></td>
<td>Returns the next UMS thread context in a list of UMS thread contexts.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-getumscompletionlistevent"><strong>GetUmsCompletionListEvent</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves a handle to the event associated with the specified UMS completion list.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-queryumsthreadinformation"><strong>QueryUmsThreadInformation</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves information about the specified UMS worker thread.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-setumsthreadinformation"><strong>SetUmsThreadInformation</strong></a><!-- raw HTML omitted --></td>
<td>Sets application-specific context information for the specified UMS worker thread.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinNT/nc-winnt-rtl_ums_scheduler_entry_point"><em>UmsSchedulerProc</em></a><!-- raw HTML omitted --></td>
<td>The application-defined UMS scheduler entry point function associated with a UMS completion list. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/nf-winbase-umsthreadyield"><strong>UmsThreadYield</strong></a><!-- raw HTML omitted --></td>
<td>Yields control to the UMS scheduler thread on which the calling UMS worker thread is running.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>New Structures</h2>
<table>
<thead>
<tr>
<th>Structure</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/WinNT/ns-winnt-cache_relationship"><strong>CACHE_RELATIONSHIP</strong></a><!-- raw HTML omitted --></td>
<td>Describes cache attributes. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinNT/ns-winnt-group_affinity"><strong>GROUP_AFFINITY</strong></a><!-- raw HTML omitted --></td>
<td>Contains a processor group-specific affinity, such as the affinity of a thread.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinNT/ns-winnt-group_relationship"><strong>GROUP_RELATIONSHIP</strong></a><!-- raw HTML omitted --></td>
<td>Contains information about processor groups. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinNT/ns-winnt-numa_node_relationship"><strong>NUMA_NODE_RELATIONSHIP</strong></a><!-- raw HTML omitted --></td>
<td>Contains information about a NUMA node in a processor group. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinNT/ns-winnt-processor_group_info"><strong>PROCESSOR_GROUP_INFO</strong></a><!-- raw HTML omitted --></td>
<td>Contains the number and affinity of processors in a processor group.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinNT/ns-winnt-processor_number"><strong>PROCESSOR_NUMBER</strong></a><!-- raw HTML omitted --></td>
<td>Represents a logical processor in a processor group.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinNT/ns-winnt-processor_relationship"><strong>PROCESSOR_RELATIONSHIP</strong></a><!-- raw HTML omitted --></td>
<td>Contains information about affinity within a processor group.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinNT/ns-winnt-system_logical_processor_information_ex"><strong>SYSTEM_LOGICAL_PROCESSOR_INFORMATION_EX</strong></a><!-- raw HTML omitted --></td>
<td>Contains information about the relationships of logical processors and related hardware.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinNT/ns-winnt-ums_create_thread_attributes"><strong>UMS_CREATE_THREAD_ATTRIBUTES</strong></a><!-- raw HTML omitted --></td>
<td>Specifies attributes for a UMS worker thread. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/WinBase/ns-winbase-ums_scheduler_startup_info"><strong>UMS_SCHEDULER_STARTUP_INFO</strong></a><!-- raw HTML omitted --></td>
<td>Specifies attributes for a UMS scheduler thread<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
