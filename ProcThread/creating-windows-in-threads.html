<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Creating Windows in Threads</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Any thread can create a window.
ms.assetid: 27f04f9f-52d9-46d6-8e06-9b032682b7c7
title: Creating Windows in Threads
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Creating Windows in Threads</h1>
<p>Any thread can create a window. The thread that creates the window owns the window and its associated message queue. Therefore, the thread must provide a message loop to process the messages in its message queue. In addition, you must use <a href="/windows/desktop/api/winuser/nf-winuser-msgwaitformultipleobjects"><strong>MsgWaitForMultipleObjects</strong></a> or <a href="/windows/desktop/api/winuser/nf-winuser-msgwaitformultipleobjectsex"><strong>MsgWaitForMultipleObjectsEx</strong></a> in that thread, rather than the other <a href="/windows/desktop/Sync/wait-functions">wait functions</a>, so that it can process messages. Otherwise, the system can become deadlocked when the thread is sent a message while it is waiting.</p>
<p>The <a href="/windows/desktop/api/Winuser/nf-winuser-attachthreadinput"><strong>AttachThreadInput</strong></a> function can be used to allow a set of threads to share the same input state. By sharing input state, the threads share their concept of the active window. By doing this, one thread can always activate another thread's window. This function is also useful for sharing focus state, mouse capture state, keyboard state, and window Z-order state among windows created by different threads whose input state is shared.</p>
<p>For information about creating windows, see <a href="../winmsg/window-classes.html">Windows Classes</a>.</p>
<p>Â </p>
<p>Â </p>
</body>
