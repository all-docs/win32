<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WM_CTLCOLORDLG message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: WM_CTLCOLORDLG message (Winuser.h)
description: Sent to a dialog box before the system draws the dialog box. By responding to this message, the dialog box can set its text and background colors using the specified display device context handle.
ms.assetid: 5b90ab3f-b751-486f-a0fa-33f791c31a26
keywords:</p>
<ul>
<li>WM_CTLCOLORDLG message Dialog Boxes
topic_type:</li>
<li>apiref
api_name:</li>
<li>WM_CTLCOLORDLG
api_location:</li>
<li>Winuser.h
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>WM_CTLCOLORDLG message</h1>
<p>Sent to a dialog box before the system draws the dialog box. By responding to this message, the dialog box can set its text and background colors using the specified display device context handle.</p>
<pre lang="C++"><code>#define WM_CTLCOLORDLG                  0x0136
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>A handle to the device context for the dialog box.</p>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>A handle to the dialog box.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>If an application processes this message, it must return a handle to a brush. The system uses the brush to paint the background of the dialog box.</p>
<h2>Remarks</h2>
<p>By default, the <a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a> function selects the default system colors for the dialog box.</p>
<p>The system does not automatically destroy the returned brush. It is the application's responsibility to destroy the brush when it is no longer needed.</p>
<p>The <strong>WM_CTLCOLORDLG</strong> message is never sent between threads. It is sent only within one thread.</p>
<p>Note that the <strong>WM_CTLCOLORDLG</strong> message is sent to the dialog box itself; all of the other <strong>WM_CTLCOLOR*</strong> messages are sent to the owner of the control.</p>
<p>If a dialog box procedure handles this message, it should cast the desired return value to an <strong>INT_PTR</strong> and return the value directly. If the dialog box procedure returns <strong>FALSE</strong>, then default message handling is performed. The <strong>DWL_MSGRESULT</strong> value set by the <a href="/windows/desktop/api/winuser/nf-winuser-setwindowlonga"><strong>SetWindowLong</strong></a> function is ignored.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 2000 Professional [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows 2000 Server [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Winuser.h (include Windows.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><strong>Reference</strong></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/winuser/nf-winuser-setwindowlonga"><strong>SetWindowLong</strong></a></p>
<!-- raw HTML omitted -->
<p><strong>Conceptual</strong></p>
<!-- raw HTML omitted -->
<p><a href="dialog-boxes.html">Dialog Boxes</a></p>
<!-- raw HTML omitted -->
<p><strong>Other Resources</strong></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/wingdi/nf-wingdi-realizepalette"><strong>RealizePalette</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/wingdi/nf-wingdi-selectpalette"><strong>SelectPalette</strong></a></p>
<!-- raw HTML omitted -->
</body>
