<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Device vs. Design Units</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: An application can retrieve font metrics for a physical font only after the font has been selected into a device context.
ms.assetid: 3eaabc8b-e244-4b65-918b-a20043afa535
title: Device vs. Design Units
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Device vs. Design Units</h1>
<p>An application can retrieve font metrics for a physical font only after the font has been selected into a device context. When a font is selected into a device context, it is scaled for the device. The font metrics specific to the device are known as device units.</p>
<p>Portable metrics in fonts are known as design units. To apply to a specified device, design units must be converted to device units. Use the following formula to convert design units to device units.</p>
<p><em>DeviceUnits</em> = (<em>DesignUnits</em>/<em>unitsPerEm</em>) * (<em>PointSize</em>/72) * <em>DeviceResolution</em></p>
<p>The variables in this formula have the following meanings.</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>DeviceUnits</em></td>
<td>Specifies the <em>DesignUnits</em> font metric converted to device units. This value is in the same units as the value specified for <em>DeviceResolution</em>.</td>
</tr>
<tr>
<td><em>DesignUnits</em></td>
<td>Specifies the font metric to be converted to device units. This value can be any font metric, including the width of a character or the ascender value for an entire font.</td>
</tr>
<tr>
<td><em>unitsPerEm</em></td>
<td>Specifies the em square size for the font.</td>
</tr>
<tr>
<td><em>PointSize</em></td>
<td>Specifies size of the font, in points. (One point equals 1/72 of an inch.)</td>
</tr>
<tr>
<td><em>DeviceResolution</em></td>
<td>Specifies number of device units (pixels) per inch. Typical values might be 300 for a laser printer or 96 for a VGA screen.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>This formula should not be used to convert device units back to design units. Device units are always rounded to the nearest pixel. The propagated round-off error can become very large, especially when an application is working with screen sizes.</p>
<p>To request design units, create a logical font whose height is specified as <em>unitsPerEm</em>. Applications can retrieve the value for <em>unitsPerEm</em> by calling the <a href="/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa"><strong>EnumFontFamilies</strong></a> function and checking the <strong>ntmSizeEM</strong> member of the <a href="/windows/win32/api/wingdi/ns-wingdi-newtextmetrica"><strong>NEWTEXTMETRIC</strong></a> structure.</p>
<p>Â </p>
<p>Â </p>
</body>
