<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Desktop Security and Access Rights</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Desktop Security and Access Rights
description: Security enables you to control access to desktop objects. For more information about security, see Access-Control Model.
ms.assetid: 6512d128-3b0c-4ba7-8709-2fd225389a40
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Desktop Security and Access Rights</h1>
<p>Security enables you to control access to desktop objects. For more information about security, see <a href="/windows/desktop/SecAuthZ/access-control-model">Access-Control Model</a>.</p>
<p>You can specify a <a href="/windows/desktop/SecAuthZ/security-descriptors">security descriptor</a> for a desktop object when you call the <a href="/windows/win32/api/winuser/nf-winuser-createdesktopa"><strong>CreateDesktop</strong></a> or <a href="/windows/win32/api/winuser/nf-winuser-createdesktopexa"><strong>CreateDesktopEx</strong></a> function. If you specify NULL, the desktop gets a default security descriptor. The ACLs in the default security descriptor for a desktop come from its parent window station.</p>
<p>To get or set the security descriptor of a window station object, call the <a href="/windows/desktop/api/aclapi/nf-aclapi-getsecurityinfo"><strong>GetSecurityInfo</strong></a> and <a href="/windows/desktop/api/aclapi/nf-aclapi-setsecurityinfo"><strong>SetSecurityInfo</strong></a> functions.</p>
<p>When you call the <a href="/windows/win32/api/winuser/nf-winuser-opendesktopa"><strong>OpenDesktop</strong></a> or <a href="/windows/win32/api/winuser/nf-winuser-openinputdesktop"><strong>OpenInputDesktop</strong></a> function, the system checks the requested access rights against the object's security descriptor.</p>
<p>The valid access rights for desktop objects include the <a href="/windows/desktop/SecAuthZ/standard-access-rights">standard access rights</a> and some object-specific access rights. The following table lists the standard access rights used by all objects.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>DELETE (0x00010000L)</td>
<td>Required to delete the object.</td>
</tr>
<tr>
<td>READ_CONTROL (0x00020000L)</td>
<td>Required to read information in the security descriptor for the object, not including the information in the SACL. To read or write the SACL, you must request the ACCESS_SYSTEM_SECURITY access right. For more information, see <a href="/windows/desktop/SecAuthZ/sacl-access-right">SACL Access Right</a>.</td>
</tr>
<tr>
<td>SYNCHRONIZE (0x00100000L)</td>
<td>Not supported for desktop objects.</td>
</tr>
<tr>
<td>WRITE_DAC (0x00040000L)</td>
<td>Required to modify the DACL in the security descriptor for the object.</td>
</tr>
<tr>
<td>WRITE_OWNER (0x00080000L)</td>
<td>Required to change the owner in the security descriptor for the object.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The following table lists the object-specific access rights.</p>
<table>
<thead>
<tr>
<th>Access right</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DESKTOP_CREATEMENU (0x0004L)</td>
<td>Required to create a menu on the desktop.</td>
</tr>
<tr>
<td>DESKTOP_CREATEWINDOW (0x0002L)</td>
<td>Required to create a window on the desktop.</td>
</tr>
<tr>
<td>DESKTOP_ENUMERATE (0x0040L)</td>
<td>Required for the desktop to be enumerated.</td>
</tr>
<tr>
<td>DESKTOP_HOOKCONTROL (0x0008L)</td>
<td>Required to establish any of the window hooks.</td>
</tr>
<tr>
<td>DESKTOP_JOURNALPLAYBACK (0x0020L)</td>
<td>Required to perform journal playback on a desktop.</td>
</tr>
<tr>
<td>DESKTOP_JOURNALRECORD (0x0010L)</td>
<td>Required to perform journal recording on a desktop.</td>
</tr>
<tr>
<td>DESKTOP_READOBJECTS (0x0001L)</td>
<td>Required to read objects on the desktop.</td>
</tr>
<tr>
<td>DESKTOP_SWITCHDESKTOP (0x0100L)</td>
<td>Required to activate the desktop using the <a href="/windows/win32/api/winuser/nf-winuser-switchdesktop"><strong>SwitchDesktop</strong></a> function.</td>
</tr>
<tr>
<td>DESKTOP_WRITEOBJECTS (0x0080L)</td>
<td>Required to write objects on the desktop.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The following are the <a href="/windows/desktop/SecAuthZ/generic-access-rights">generic access rights</a> for a desktop object contained in the interactive window station of the user's logon session.</p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>You can request the ACCESS_SYSTEM_SECURITY access right to a desktop object if you want to read or write the object's SACL. For more information, see <a href="/windows/desktop/SecAuthZ/access-control-lists">Access-Control Lists (ACLs)</a> and <a href="/windows/desktop/SecAuthZ/sacl-access-right">SACL Access Right</a>.</p>
<p>Â </p>
<p>Â </p>
</body>
