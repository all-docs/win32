<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Using MIDL</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Using MIDL
description: Creating and compiling a Microsoft Interface Definition Language (MIDL) interface and Remote Procedure Call (RPC).
ms.assetid: 2594e3d6-d44a-4e12-8286-b9700e67702e
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Using MIDL</h1>
<p>All interfaces for programs using RPC must be defined in Microsoft Interface Definition Language (MIDL) and compiled with the MIDL compiler. The following topics present a brief overview of creating and compiling a MIDL interface:</p>
<ul>
<li><a href="#defining-an-interface-with-midl">Defining an Interface with MIDL</a></li>
<li><a href="#compiling-a-midl-file">Compiling a MIDL File</a></li>
</ul>
<p>For a detailed discussion of these topics, see <a href="the-idl-and-acf-files.html">The IDL and ACF Files</a>.</p>
<h2>Defining an Interface with MIDL</h2>
<p>MIDL files are text files that you can create and edit with a text editor. If you generate a UUID for your interface, you will typically store the output in a template MIDL file. For more information on UUIDs, see <a href="generating-interface-uuids.html">Generating Interface UUIDs</a>.</p>
<p>All interfaces in MIDL follow the same format. They begin with a header that contains a list of interface attributes and the interface name. The attributes are enclosed in square brackets. The interface header is followed by its body, which is enclosed in curly brackets. A simple interface is shown in the following example:</p>
<pre lang="syntax"><code>[
  uuid(ba209999-0c6c-11d2-97cf-00c04f8eea45),
  version(1.0)
]
interface MyInterface
{
  const unsigned short INT_ARRAY_LEN = 100;

  void MyRemoteProc( 
      [in] int param1,
      [out] int outArray[INT_ARRAY_LEN]
  );
}
</code></pre>
<p>Some of the attributes that typically appear in a MIDL interface definition are the UUID and the interface version number. The body of the interface definition must contain the procedure declarations of all of the remote procedures in the interface. It can also contain the declarations of data types and constants required by the interface.</p>
<p>All parameters in the remote procedure declarations must be declared as [<a href="/windows/desktop/Midl/in"><strong>in</strong></a>], [<a href="/windows/desktop/Midl/out-idl"><strong>out</strong></a>], or [<strong>in</strong>, <strong>out</strong>]. These declarations specify that the client program passes data into a remote procedure, gets data out of a remote procedure, or both. For more detailed information about interface parameter declarations, see <a href="the-idl-interface-body.html">The IDL Interface Body</a>.</p>
<h2>Compiling a MIDL File</h2>
<p>The MIDL compiler is a command-line tool that is automatically installed with the Platform Software Development Kit (SDK). Invoke it in a command window by typing the command <strong>midl</strong>, followed by the name of a MIDL file, at the command line. Make sure that the directory containing the MIDL compiler is in your path. The following example illustrates its use:</p>
<p><strong>midl MyApp.idl</strong></p>
<p>Note that you do not have to include the extension if the file name has the .idl extension. You can also use the MIDL compiler <a href="/windows/desktop/Midl/midl-command-line-reference">command-line switches</a> by inserting them between the <strong>midl</strong> command and the file name. This is demonstrated in the following example:</p>
<p><strong>midl /acf MyApp.acf MyApp.idl</strong></p>
<p>In this example, the MIDL compiler is executed using the file MyApp.idl as the input file. The command line switch <strong>/acf</strong> instructs the compiler to use an application configuration file (ACF) for input as well. Application configuration files are discussed more thoroughly in <a href="the-idl-and-acf-files.html">The IDL and ACF Files</a>.</p>
<p>For more detailed information on using the MIDL compiler, see the <a href="/windows/desktop/Midl/midl-start-page">Microsoft Interface Definition Language (MIDL)</a>, which contains information on the following topics:</p>
<ul>
<li><a href="/windows/desktop/Midl/c-preprocessor-requirements-for-midl">C-Preprocessor Requirements for MIDL</a></li>
<li><a href="/windows/desktop/Midl/c-c-compiler-considerations">C/C++-Compiler Considerations</a></li>
<li><a href="/windows/desktop/Midl/files-generated-for-an-rpc-interface">Files Generated for an RPC Interface</a></li>
<li><a href="/windows/desktop/Midl/midl-command-line-reference">MIDL Command-line Reference</a></li>
<li><a href="/windows/desktop/Midl/midl-language-reference">MIDL Language Reference</a></li>
<li><a href="/windows/desktop/Midl/midl-compiler-errors-and-warnings">MIDL Compiler Errors and Warnings</a></li>
</ul>
<p>Â </p>
<p>Â </p>
</body>
