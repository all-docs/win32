<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>The type_UserFree Function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: The type_UserFree Function
description: The type _UserFree function is a helper function for the \ wire_marshal\ and \ user_marshal\ attributes.
ms.assetid: cc83a074-ea6c-432a-92fe-6397a6dc3c3c
keywords:</p>
<ul>
<li>type_UserFree
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>The type_UserFree Function</h1>
<p>The <strong>&lt;type&gt;_UserFree</strong> function is a helper function for the [ <a href="/windows/desktop/Midl/wire-marshal">wire_marshal</a>] and [ <a href="/windows/desktop/Midl/user-marshal">user_marshal</a>] attributes. The stubs call this function to free the data on the server side. The function is defined as:</p>
<pre lang="syntax"><code>void __RPC_USER  &lt;type&gt;_UserFree(
    unsigned long __RPC_FAR * pFlags,
    &lt;type_name&gt;  __RPC_FAR *  pMyObj );
</code></pre>
<p>The &lt;type&gt; in the function name means the userm-type specified in the <strong>[wire_marshal]</strong> or <strong>[user_marshal]</strong> type definition.</p>
<p>The <em>pFlags</em> parameter is a pointer to an <strong>unsigned long</strong> flag field. The upper word of the flag contains NDR data representation flags as defined by OSF DCE for floating point, byte order, and character representations. The lower word contains a marshaling context flag as defined by the COM channel. The exact layout of the flags within the field is described in <a href="the-type-usersize-function.html">The type_UserSize Function</a>.</p>
<p>The <em>pMyObj</em> parameter is a pointer to a user type object. The NDR engine frees the top-level object. You are responsible for freeing any objects to which the top-level object may point.</p>
<p>Exceptions must be caught and handled locally, exceptions must not be allowed to propigated up the call stack.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="marshaling-rules-for-user-marshal-and-wire-marshal.html">Marshaling Rules for user_marshal and wire_marshal</a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/Midl/wire-marshal">wire_marshal</a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/Midl/user-marshal">user_marshal</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
