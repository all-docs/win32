<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Procedure Serialization</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Procedure Serialization
description: When you use procedure serialization, a procedure is labeled with the \ encode\ or \ decode\ attribute. Instead of generating the usual remote stub, the compiler generates a serialization stub for the routine.
ms.assetid: 98367b00-696b-44c4-a747-92ecac34ba1e
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Procedure Serialization</h1>
<p>When you use procedure serialization, a procedure is labeled with the [<a href="/windows/desktop/Midl/encode"><strong>encode</strong></a>] or [<a href="/windows/desktop/Midl/decode"><strong>decode</strong></a>] attribute. Instead of generating the usual remote stub, the compiler generates a serialization stub for the routine.</p>
<p>Just as a remote procedure must use a binding handle to make a remote call, a serialization procedure must use a serialization handle to use serialization services. If a serialization handle is not specified, a default implicit handle is used to direct the call. On the other hand, if the serialization handle is specified, either as an explicit <a href="/windows/desktop/Midl/handle-t"><strong>handle_t</strong></a> argument of the routine or by using the [<a href="/windows/desktop/Midl/explicit-handle"><strong>explicit_handle</strong></a>] attribute, you must pass a valid handle as an argument of the call. For additional information on how to create a valid serialization handle, see <a href="serialization-handles.html">Serialization Handles</a>, <a href="fixed-buffer-serialization.html">Examples of Fixed Buffer Encoding</a>, and <a href="examples-of-incremental-encoding.html">Examples of Incremental Encoding</a>.</p>
<blockquote>
<p>[!Note]
Microsoft RPC allows remote and serialization procedures to be mixed in one interface. However, use caution when doing so.</p>
<p>For remote procedures with implicit binding handles, the MIDL compiler generates a global handle variable of type <a href="/windows/desktop/Midl/handle-t"><strong>handle_t</strong></a>. Procedures and types with implicit serialization handles use this same global handle variable.</p>
<p>For implicit handles, the global implicit handle must be set to a valid binding handle before a remote call. The implicit handle must be set to a valid serialization handle before a serialization call. Therefore, a procedure cannot be both remote and serialized. It must be one or the other.</p>
</blockquote>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
