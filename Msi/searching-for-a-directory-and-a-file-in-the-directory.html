<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Searching for a Directory and a File in the Directory</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: During a Windows Installer installation, the installer can search for a directory and a file in that directory.
ms.assetid: ddf624f9-6f85-4ef6-8dfc-8635a25915d0
title: Searching for a Directory and a File in the Directory
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Searching for a Directory and a File in the Directory</h1>
<p><strong>To search for a directory and then a file in that directory</strong></p>
<ol>
<li>
<p>First search for the directory.</p>
<p>AppDir must be defined as the valid signature of the directory. If AppDir is not defined as a valid signature, AppSearch does not have a place to find the file, for example, if the search is for c:\MyDir\MyApp.exe, AppDir should be defined as c:\MyDir. AppDir might be defined by including a record in the <a href="drlocator-table.html">DrLocator Table</a>, or by some other method. No record is included in the <a href="signature-table.html">Signature Table</a> for the directory search. For the file search, list the file signature and name in the Signature Table. The remaining fields in this record can be null to search for any version of MyApp.exe.</p>
<p><a href="signature-table.html">Signature Table</a> (partial)</p>
<table>
<thead>
<tr>
<th>Signature</th>
<th>File Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>AppFile<!-- raw HTML omitted --></td>
<td>MyApp.exe<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
</li>
<li>
<p>Use the <a href="appsearch-table.html">AppSearch Table</a>.</p>
<p>Enter the property that the Installer is to set if the directory with the signature AppDir is installed. If the Installer finds this directory is installed, it sets MYDIR to the directory path. Enter the property that the Installer is to set if MyApp.exe is installed.</p>
<p><a href="appsearch-table.html">AppSearch Table</a> (partial)</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Signature</th>
</tr>
</thead>
<tbody>
<tr>
<td>MYDIR<!-- raw HTML omitted --></td>
<td>AppDir<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>MYAPP<!-- raw HTML omitted --></td>
<td>AppFile<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
</li>
<li>
<p>Use the <a href="drlocator-table.html">DrLocator Table</a>.</p>
<p>Enter in the Parent column the signature, AppDir, that is defined as the path of the directory. Specify in the Depth column the number of subdirectory levels to search in this directory. AppDir must be defined as the directory signature. AppDir may be defined by including a record as shown here or by another method.</p>
<p><a href="drlocator-table.html">DrLocator Table</a></p>
<table>
<thead>
<tr>
<th>Signature</th>
<th>Parent</th>
<th>Path</th>
<th>Depth</th>
</tr>
</thead>
<tbody>
<tr>
<td>AppDir</td>
<td>Â </td>
<td>C:\MyDir</td>
<td>0</td>
</tr>
<tr>
<td>AppFile</td>
<td>AppDir</td>
<td></td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Â </p>
</li>
<li>
<p>Include the AppSearch action in the action sequence.</p>
<p>If MyApp.exe is found to be installed in AppDir, the Installer sets the property MYAPP to the location of file.</p>
</li>
</ol>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="searching-for-existing-applications-files-registry-entries-or--ini-file-entries.html">Searching for Existing Applications, Files, Registry Entries or .ini File Entries</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
