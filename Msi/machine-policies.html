<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Machine Policies</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Machine system policies used with the Windows Installer.
ms.assetid: af47dc84-2190-4e73-9d87-d5ddb0584ce7
title: Machine Policies
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Machine Policies</h1>
<p>The following machine policies can be configured under:</p>
<p><strong>HKEY_LOCAL_MACHINE</strong>\<strong>Software</strong>\<strong>Policies</strong>\<strong>Microsoft</strong>\<strong>Windows</strong>\<strong>Installer</strong></p>
<table>
<thead>
<tr>
<th>Policy</th>
<th>Value data type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="alwaysinstallelevated.html">AlwaysInstallElevated</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value is set to 1 and the corresponding user value is also set, the installer always installs with elevated privileges.<!-- raw HTML omitted --> Otherwise, the installer uses elevated privileges to install managed applications and uses the current user's privilege level for unmanaged applications.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="allowlockdownbrowse.html">AllowLockdownBrowse</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value is set to 1, non-administrative users can browse for new sources while running an installation at elevated privileges. The default is that only administrators can browse for sources during an elevated installation. Setting this policy also enables non-administrative users to run programs at LocalSystem privileges during an elevated installation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="allowlockdownmedia.html">AllowLockdownMedia</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value is set to 1, non-administrative users can use media sources, such as a CD-ROM, while running an installation at elevated privileges. The default is that only administrators can use media sources during an elevated installation. Setting this policy also enables non-administrative users to run programs at LocalSystem privileges during an elevated installation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="allowlockdownpatch.html">AllowLockdownPatch</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this per-machine system policy value is not set, only administrators can patch existing products that were installed at elevated privileges. If this policy value is set to 1, non-administrative users can, in some cases, apply patches to products while running an installation using elevated privileges. With the policy set, the patch can install <a href="minor-upgrades.html">minor upgrades</a> while running an installation using elevated privileges; the patch cannot install <a href="major-upgrades.html">major upgrades</a>. Setting this policy also enables non-administrative users to run programs at LocalSystem privileges during an elevated installation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="debug.html">Debug</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value exists and is set to 1, the installer writes common debugging messages to the debugger using the <a href="/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa"><strong>OutputDebugString</strong></a> function. If this value exists and is set to 2, the installer writes all valid debugging messages to the debugger using the <strong>OutputDebugString</strong> function.<!-- raw HTML omitted --> This policy is for debugging purposes only and may not be supported in future versions of Windows Installer.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="disableautomaticapplicationshutdown.html">DisableAutomaticApplicationShutdown</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value exists and is set to 1, Windows Installer does not interact with <a href="../rstmgr/restart-manager-portal.html">Restart Manager</a> but will use the <a href="filesinuse-dialog.html">FilesInUse Dialog</a> functionality.<!-- raw HTML omitted --> <strong><a href="not-supported-in-windows-installer-version-3-1.html">Windows Installer 3.1 and earlier</a>:</strong> Not supported.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="disablebrowse.html">DisableBrowse</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value exists and is set to 1, users are prevented from browsing to locate installer sources. The <strong>Use feature from</strong> combo box for direct input is locked and the <strong>Browse</strong> button is disabled. For more information about source browsing, see <a href="source-resiliency.html">Source Resiliency</a>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="disableflyweightpatching.html">DisableFlyWeightPatching</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this per-machine system policy value is set to 1, all <a href="patch-optimization.html">Patch Optimization</a> options are turned off during the installation.<!-- raw HTML omitted --> <strong>Windows Installer 2.0:</strong> Not supported.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="disableluapatching.html">DisableLUAPatching</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this per-machine system policy value is set to 1, the installer prevents non-administrators from using least-privileged account (LUA) patching to any application installed on the computer. When this value is not set or 0, non-administrators can apply LUA patches to LUA-enabled application.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="disablemsi.html">DisableMSI</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value is set to 0, is absent, or any number other than 1 or 2, the effect on the Windows Installer depends on the operating system. On Windows ServerÂ 2003, Windows Installer is enabled for managed applications and disabled for unmanaged application installs. On WindowsÂ XP the Windows Installer is enabled for all applications.<!-- raw HTML omitted --> If this policy value is set to 0, Windows Installer is enabled for all applications. All install operations are allowed.<!-- raw HTML omitted --> If this policy value is set to 1, Windows Installer is disabled for unmanaged applications but is still enabled for managed applications. Non-elevated per-user installations are blocked. Per-user elevated and per-machine installs are allowed.<!-- raw HTML omitted --> If this policy value is set to 2, Windows Installer is always disabled for all applications. No installs are allowed including repairs, reinstalls, or on-demand installations.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="disablepatch.html">DisablePatch</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value is set to 1 the installer does not apply patches. This policy can be used to provide security in environments where patching must be restricted.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="disablepatchuninstall.html">DisablePatchUninstall</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value is set to 1, patches cannot be removed from the computer by a user or an administrator. The Windows Installer can still remove patches that are no longer applicable to a product.<!-- raw HTML omitted --> <strong>Windows Installer 2.0:</strong> Not supported.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="disablerollback.html">DisableRollback</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value is set to 1, the installer does not store rollback files during installation, disabling installation rollback. By default, rollback is enabled. Administrators are advised not to use this policy unless it is absolutely essential.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="disablesharedcomponent.html">DisableSharedComponent</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this per-machine <a href="system-policy.html">system policy</a> is set to 1, no package on the system gets the shared component functionality enabled by the <strong>msidbComponentAttributesShared</strong> attribute in the <a href="component-table.html">Component table</a>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="disableuserinstalls.html">DisableUserInstalls</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value is not set, the installer searches the registry for products in the following order: managed products that are registered as per-user, unmanaged products that are registered as per-user, and finally products that are registered as per-machine.<!-- raw HTML omitted --> If this policy value is set to 1, the installer ignores all products that are registered as per-user and only searches for products that are registered as per-machine. An attempt to perform a per-user installation causes the installer to display an error message and stops the installation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="enforceupgradecomponentrules.html">EnforceUpgradeComponentRules</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>Set this policy value to 1 to apply upgrade component rules during <a href="small-updates.html">small updates</a> and <a href="minor-upgrades.html">minor upgrades</a> of all products on the computer.<!-- raw HTML omitted --> <strong>Windows Installer 2.0:</strong> Not supported.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="enableadmintsremote.html">EnableAdminTSRemote</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>Setting this policy enables administrators to perform installations from a client session of a server running the Terminal Server role service.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="enableusercontrol.html">EnableUserControl</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value is set to 1, then the installer can pass all <a href="public-properties.html">public properties</a> to the server side during a managed installation using elevated privileges. Setting this policy has the same effect as setting the <a href="-enableusercontrol.html"><strong>EnableUserControl</strong></a> property.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="limitsystemrestorecheckpointing.html">LimitSystemRestoreCheckpointing</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>This policy turns off the creation of checkpoints by Windows Installer.<!-- raw HTML omitted --> If the policy value is set to 0 or absent, Windows Installer does normal checkpointing for install or uninstall.<!-- raw HTML omitted --> If the policy value is set to 1, Windows Installer creates no checkpoints.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="logging.html">Logging</a><!-- raw HTML omitted --></td>
<td><strong>REG_SZ</strong><!-- raw HTML omitted --></td>
<td>This policy value is used only if logging has not been enabled by the &quot;/L&quot; command-line option or <a href="/windows/desktop/api/Msi/nf-msi-msienableloga"><strong>MsiEnableLog</strong></a>. If a policy is set in this case, a log file is created in the temp directory with the random name: MSI*.LOG. Specify the logging mode by setting the policy value to a string of characters. Use the same characters to specify logging mode policy as used by the &quot;/L&quot; command-line option. For more information, see <a href="command-line-options.html">Command Line Options</a>. Note that you cannot use &quot;+&quot; and &quot;*&quot; for the policy.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="maxpatchcachesize.html">MaxPatchCacheSize</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value is set to a value greater than 0, Windows Installer saves old versions of patched files in a cache. Set the value to the maximum percentage of disk space that can be used for the file cache. For example, a value of 15 and sets the maximum to 15%. Set to 0 to save no files. When this policy is not set, the default is 10%.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="msidisableembeddedui.html">MsiDisableEmbeddedUI</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>To disable embedded UI handlers on the computer, set this policy value to 1.<!-- raw HTML omitted --> <strong><a href="not-supported-in-windows-installer-4-0.html">Windows Installer 4.0 and earlier</a>:</strong> Not supported.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="safeforscripting.html">SafeForScripting</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>If this policy value is set to 1, users are not prompted when scripts use installer automation within a Web page. This may be useful for Web-based tools but can allow silent installations of applications without user knowledge or consent.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="transformssecure-policy.html">TransformsSecure policy</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>Setting the <a href="transformssecure-policy.html">TransformsSecure policy</a> value to 1 informs the installer that transforms are to be cached locally on the user's computer in a location where the user does not have write access.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="disableloggingfrompackage.html">DisableLoggingFromPackage</a><!-- raw HTML omitted --></td>
<td><strong>REG_DWORD</strong><!-- raw HTML omitted --></td>
<td>Set this policy value to 1 to disable the logging specified for the package by the <a href="msilogging.html"><strong>MsiLogging</strong></a> property for all users of the computer.<!-- raw HTML omitted --> <strong>Windows Installer 3.1 and earlier:</strong> Not supported.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="winhttpautologonlevel.html">WinHttpAutoLogonLevel</a><!-- raw HTML omitted --></td>
<td><strong>REG_SZ</strong><!-- raw HTML omitted --></td>
<td>The automatic logon (auto-logon) policy determines when it is acceptable to include the default credentials in a request to the server. <strong>WindowsÂ 8 and Windows ServerÂ 2012:</strong> This policy requires Windows Installer running on the WindowsÂ 8 or Windows ServerÂ 2012 and is unavailable on all earlier versions of Windows.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
