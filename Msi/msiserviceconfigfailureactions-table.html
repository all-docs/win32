<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>MsiServiceConfigFailureActions Table</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The MsiServiceConfigFailureActions table lists operations to be run after a service fails. The operations specified in this table run the next time the system is started.
ms.assetid: 7c450b74-1f91-4a1c-beee-646a407eb8a8
title: MsiServiceConfigFailureActions Table
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>MsiServiceConfigFailureActions Table</h1>
<p>The MsiServiceConfigFailureActions table lists operations to be run after a service fails. The operations specified in this table run the next time the system is started.</p>
<p><strong><a href="not-supported-in-windows-installer-4-5.html">Windows Installer 4.5 or earlier</a>:</strong> Not supported. This table is available beginning with Windows Installer 5.0.</p>
<p>The MsiServiceConfigFailureActions table has the following columns.</p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Key</th>
<th>Nullable</th>
</tr>
</thead>
<tbody>
<tr>
<td>MsiServiceConfigFailureActions</td>
<td><a href="identifier.html">Identifier</a></td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>Name</td>
<td><a href="formatted.html">Formatted</a></td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>Event</td>
<td><a href="integer.html">Integer</a></td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>ResetPeriod</td>
<td><a href="integer.html">Integer</a></td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>RebootMessage</td>
<td><a href="formatted.html">Formatted</a></td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>Command</td>
<td><a href="formatted.html">Formatted</a></td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>Actions</td>
<td><a href="text.html">Text</a></td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>DelayActions</td>
<td><a href="text.html">Text</a></td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>Component_</td>
<td><a href="identifier.html">Identifier</a></td>
<td>N</td>
<td>N</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Columns</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->MsiServiceConfigFailureActions</p>
<!-- raw HTML omitted -->
<p>This is the primary key of this table that identifies a failure action.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Name</p>
<!-- raw HTML omitted -->
<p>This column contains the name of a service that is a part of this package or that is already is installed.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Event</p>
<!-- raw HTML omitted -->
<p>This column specifies when to change the service's configuration. The following values are bit fields that can be combined to represent multiple operations. Any other bit field values are ignored.</p>
<table>
<thead>
<tr>
<th>Constant</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>msidbServiceConfigEventInstall</strong>1<!-- raw HTML omitted --></td>
<td>Change during installation of the component.</td>
</tr>
<tr>
<td><strong>msidbServiceConfigEventUninstall</strong>2<!-- raw HTML omitted --></td>
<td>Change during uninstallation of the component.</td>
</tr>
<tr>
<td><strong>msidbServiceConfigEventReinstall</strong>4<!-- raw HTML omitted --></td>
<td>Change during re-installation of the component.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->ResetPeriod</p>
<!-- raw HTML omitted -->
<p>The reset period in seconds of service's failure count. The <a href="../services/service-control-manager.html">Service Control Manager</a> (SCM) counts the number of times each service has failed since the system was last restarted. The count is reset to zero if the service does not fail for the reset period. When the service fails for the Nth time, the system performs the action specified in the element [N-1] of the array specified in the Actions field.</p>
<p>Leave ResetPeriod field empty to indicate that failure count should never be reset.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->RebootMessage</p>
<!-- raw HTML omitted -->
<p>The message sent to users before restarting the computer in response to a <strong>SC_ACTION_REBOOT</strong> action specified in the Actions column. You can use an empty string, &quot;&quot;, to send the current message unchanged. You can use [~] syntax of the <a href="formatted.html">Formatted</a> data type to delete the current message and send no message.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Command</p>
<!-- raw HTML omitted -->
<p>The command line run by the process created by the <a href="/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa"><strong>CreateProcess</strong></a> function in response to a <strong>SC_ACTION_RUN_COMMAND</strong> action specified in the Actions column. The new process runs under the same account as the service and only if the Action field is <strong>SC_ACTION_RUN_COMMAND</strong>. You can use an empty string, &quot;&quot;, to use the current command line unchanged. You can use [~] syntax of the <a href="formatted.html">Formatted</a> data type to delete the current command line and run no operation when the service fails.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Actions</p>
<!-- raw HTML omitted -->
<p>This field contains an array of integer values that specify the actions taken by the SCM if the service fails. Separate the values in the array by [~]. The integer value in the Nth element of the array specifies the action performed when the service fails for the Nth time. Each member of the array is one of following integer values.</p>
<table>
<thead>
<tr>
<th>Constant</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SC_ACTION_NONE</strong>0<!-- raw HTML omitted --></td>
<td>No action.</td>
</tr>
<tr>
<td><strong>SC_ACTION_REBOOT</strong>2<!-- raw HTML omitted --></td>
<td>Restart the computer.</td>
</tr>
<tr>
<td><strong>SC_ACTION_RESTART</strong>1<!-- raw HTML omitted --></td>
<td>Restart the service.</td>
</tr>
<tr>
<td><strong>SC_ACTION_RUN_COMMAND</strong>3<!-- raw HTML omitted --></td>
<td>Run a command.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->DelayActions</p>
<!-- raw HTML omitted -->
<p>This field contains an array of integer values that specify the time in milliseconds to wait before performing the action specified in the Action column. Separate the values in the array by [~]. The number of elements in the DelayActions array must be equal to the number of elements in the Actions array. The Nth element of the DelayActions array specifies the time delay for the nth element of the Actions array.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Component_</p>
<!-- raw HTML omitted -->
<p>External key to column one of the <a href="component-table.html">Component Table</a>.</p>
<!-- raw HTML omitted -->
<h2>Validation</h2>
<!-- raw HTML omitted -->
<p><a href="ice-102.html">ICE102</a><br />
<a href="ice03.html">ICE03</a><br />
<a href="ice06.html">ICE06</a><br />
<a href="ice32.html">ICE32</a><br />
<a href="ice45.html">ICE45</a><br />
<a href="ice46.html">ICE46</a><br />
<a href="ice69.html">ICE69</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
