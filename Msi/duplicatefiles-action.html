<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>DuplicateFiles Action</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The DuplicateFiles action duplicates files installed by the InstallFiles action. The duplicate files can be copied to the same directory with a different name or to a different directory with the original name.
ms.assetid: 51cc0b3f-aa01-4f4d-9a4d-add832698061
title: DuplicateFiles Action
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>DuplicateFiles Action</h1>
<p>The DuplicateFiles action duplicates files installed by the <a href="installfiles-action.html">InstallFiles</a> action. The duplicate files can be copied to the same directory with a different name or to a different directory with the original name.</p>
<h2>Sequence Restrictions</h2>
<p>The DuplicateFiles action must come after the <a href="installfiles-action.html">InstallFiles action</a>. The DuplicateFiles Action must also come after the <a href="patchfiles-action.html">PatchFiles action</a> to prevent duplicating the unpatched version of the file.</p>
<h2>ActionData Messages</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description of action data</th>
</tr>
</thead>
<tbody>
<tr>
<td>[1]</td>
<td>Identifier of duplicated file.</td>
</tr>
<tr>
<td>[6]</td>
<td>Size of duplicated file.</td>
</tr>
<tr>
<td>[9]</td>
<td>Identifier of directory holding duplicated file.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Remarks</h2>
<p>The DuplicateFiles action processes a <a href="duplicatefile-table.html">DuplicateFile table</a> entry only if the component linked to that entry is being installed locally. For more information, see <a href="component-table.html">Component table</a>.</p>
<p>The string in the DestFolder field is a property name whose value is expected to resolve to a fully qualified path. This property can either be any of the directory entries in the <a href="directory-table.html">Directory</a> table, any pre-defined folder property (<a href="commonfilesfolder.html"><strong>CommonFilesFolder</strong></a>, for example), or a property set by any entry in the <a href="appsearch-table.html">AppSearch</a> table. If the <strong>DestFolder</strong> property does not evaluate to a valid path the DuplicateFiles action does nothing for that entry.</p>
<p>If the name of the destination file in the DestName column of the DuplicateFile table is left blank, the destination file name will be the same as the original file name.</p>
<p>Files installed by the DuplicateFiles action are removed by the <a href="removeduplicatefiles-action.html">RemoveDuplicateFiles</a> action when appropriate.</p>
<p>Â </p>
<p>Â </p>
</body>
