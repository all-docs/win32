<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ICEM12</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: ICEM12 verifies that in a ModuleSequence table, standard actions have sequence numbers and custom actions have BaseAction and After values.
ms.assetid: 1a168629-9865-4412-8317-8af8b9a7b8bd
title: ICEM12
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>ICEM12</h1>
<p>ICEM12 verifies that in a ModuleSequence table, standard actions have sequence numbers and custom actions have BaseAction and After values.</p>
<p>This ICEM is available in the Mergemod.cub file provided in the Windows Installer 2.0 SDK and later. For details, see <a href="platform-sdk-components-for-windows-installer-developers.html">Windows SDK Components for Windows Installer Developers</a>.</p>
<h2>Result</h2>
<p>ICEM12 posts an error in the following cases:</p>
<ul>
<li>It finds the module contains a <a href="standard-actions.html">standard action</a> without a sequence number.</li>
<li>It finds that a standard action has values entered in the BaseAction or After fields of the <a href="moduleadminuisequence-table.html">ModuleAdminUISequence table</a>, <a href="moduleadminexecutesequence-table.html">ModuleAdminExecuteSequence table</a>, <a href="moduleadvtexecutesequence-table.html">ModuleAdvtExecuteSequence table</a>, <a href="moduleinstalluisequence-table.html">ModuleInstallUISequence table</a>, or <a href="moduleinstallexecutesequence-table.html">ModuleInstallExecuteSequence table</a>.</li>
<li>It finds the module contains a <a href="custom-actions.html">custom action</a> without any values entered into the Sequence, BaseAction or After fields of the <a href="moduleadminuisequence-table.html">ModuleAdminUISequence table</a>, <a href="moduleadminexecutesequence-table.html">ModuleAdminExecuteSequence table</a>, <a href="moduleadvtexecutesequence-table.html">ModuleAdvtExecuteSequence table</a>, <a href="moduleinstalluisequence-table.html">ModuleInstallUISequence table</a>, or <a href="moduleinstallexecutesequence-table.html">ModuleInstallExecuteSequence table</a>.</li>
</ul>
<p>ICEM12 posts a warning if it finds a custom action that has a Sequence number specified, but no value in the BaseAction or After fields.</p>
<p>Note that all actions found in the <a href="customaction-table.html">CustomAction table</a> are considered custom actions. All other action are considered standard actions.</p>
<h2>Example</h2>
<p>ICEM12 posts the following error and warning messages for a module that contains the database entries shown below:</p>
<pre lang="syntax"><code>Error. Custom actions should use the BaseAction and After fields and not use the 
Sequence field in the Module Sequence tables. The custom action 'Action1' uses the Sequence field 
and does not use the BaseAction and After fields in the ModuleInstallExecuteSequence table. 
    
Error. Custom actions should not leave the Sequence, BaseAction, and After fields 
of the Module Sequence tables all empty. The custom action 'Action3' leaves the Sequence, 
BaseAction, and After fields empty in the ModuleAdminExecuteSequence table.

Error. Standard actions should not use the BaseAction and After fields in Module 
Sequence tables. The standard action 'Action2' has a values entered in the BaseAction 
or After fields of the ModuleAdminExecuteSequence table.

Error. Standard actions must have a entry in the Sequence field of Module Sequence 
tables. The standard action 'Action2' does not have a Sequence value in the 
ModuleExecuteSequence table.
</code></pre>
<p><a href="customaction-table.html">CustomAction</a></p>
<table>
<thead>
<tr>
<th>Action</th>
<th>Type</th>
<th>Source</th>
<th>Target</th>
</tr>
</thead>
<tbody>
<tr>
<td>Action1</td>
<td>30</td>
<td>source1</td>
<td>target1</td>
</tr>
<tr>
<td>Action3</td>
<td>30</td>
<td>source3</td>
<td>target3</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p><a href="moduleadminexecutesequence-table.html">ModuleAdminExecuteSequence</a></p>
<table>
<thead>
<tr>
<th>Action</th>
<th>Sequence</th>
<th>BaseAction</th>
<th>After</th>
<th>Condition</th>
</tr>
</thead>
<tbody>
<tr>
<td>Action2</td>
<td>Â </td>
<td>Action1</td>
<td>1</td>
<td>true</td>
</tr>
<tr>
<td>Action3</td>
<td>Â </td>
<td>Â </td>
<td>Â </td>
<td>true</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p><a href="moduleinstallexecutesequence-table.html">ModuleInstallExecuteSequence</a></p>
<table>
<thead>
<tr>
<th>Action</th>
<th>Sequence</th>
<th>BaseAction</th>
<th>After</th>
<th>Condition</th>
</tr>
</thead>
<tbody>
<tr>
<td>Action1</td>
<td>1</td>
<td>Â </td>
<td>Â </td>
<td>true</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>To fix these errors try the following:</p>
<ul>
<li>Remove the sequence number for the custom action Action1 and use the BaseAction and After fields instead.</li>
<li>Enter values into the Sequence, BaseAction, or After fields for the custom action Action3. Leave the BaseAction and After fields empty for standard action Action2.</li>
<li>Do not leave the Sequence field empty for standard action Action2.</li>
</ul>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="merge-module-ice-reference.html">Merge Module ICE Reference</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
