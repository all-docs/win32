<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Creating a Patch Creation Properties File</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: To reproduce the sample patch package, you need a software tool capable of creating and editing a Windows Installer patch package.
ms.assetid: 0653d8f6-89b0-4c56-ae51-3c7cb7df2909
title: Creating a Patch Creation Properties File
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Creating a Patch Creation Properties File</h1>
<p>To reproduce the sample patch package, you need a software tool capable of creating and editing a Windows Installer patch package. Several patch package creation tools are available from independent software vendors. The example discussed in the following sections uses a Windows Installer database editor called Orca to author a patch creation properties file (.pcp extension). The .pcp file may be used with the utilities <a href="msimsp-exe.html">Msimsp.exe</a> and <a href="patchwiz-dll.html">Patchwiz.dll</a> to generate a Windows Installer patch package (.msp extension). Orca, Msimsp.exe, and Patchwiz.dll are provided in the <a href="platform-sdk-components-for-windows-installer-developers.html">Windows SDK Components for Windows Installer Developers</a>.</p>
<p>A blank patch creation properties file, template.pcp, is also provided with the SDK. Make a copy of template.pcp and rename this copy MNP2000.pcp. Use Orca or another database editor to enter the following data into the Properties table of MNP2000.pcp. The Properties table contains global settings for the patch package.</p>
<p><a href="properties-table-patchwiz-dll-.html">Properties Table</a></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>AllowProductCodeMismatches</td>
<td>1</td>
</tr>
<tr>
<td>AllowProductVersionMajorMismatches</td>
<td>1</td>
</tr>
<tr>
<td>ApiPatchingSymbolFlags</td>
<td>0x00000000</td>
</tr>
<tr>
<td>DontRemoveTempFolderWhenFinished</td>
<td>1</td>
</tr>
<tr>
<td>IncludeWholeFilesOnly</td>
<td>0</td>
</tr>
<tr>
<td>ListOfPatchGUIDsToReplace</td>
<td></td>
</tr>
<tr>
<td>ListOfTargetProductCodes</td>
<td>*</td>
</tr>
<tr>
<td>PatchGUID</td>
<td>{5406B219-A1AC-4BC4-8695-72292C8195AC}</td>
</tr>
<tr>
<td>PatchOutputPath</td>
<td>c:\output.msp</td>
</tr>
<tr>
<td>PatchSourceList</td>
<td>PatchSourceList</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Use the database editor to enter the following data into the ImageFamilies table of MNP2000.pcp. The ImageFamilies table contains information to be added to the <a href="media-table.html">Media table</a> during patching.</p>
<p><a href="imagefamilies-table-patchwiz-dll-.html">ImageFamilies Table</a></p>
<table>
<thead>
<tr>
<th>Family</th>
<th>MediaSrcPropName</th>
<th>MediaDiskId</th>
<th>FileSequenceStart</th>
<th>DiskPrompt</th>
<th>VolumeLabel</th>
</tr>
</thead>
<tbody>
<tr>
<td>MNPapps</td>
<td>MNPSrcPropName</td>
<td>2</td>
<td>1000</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Enter the following data into the UpgradedImages table of MNP2000.pcp. The UpgradedImages table contains information about the Upgraded image you created in <a href="planning-a-small-update-patch.html">Planning a Small Update Patch</a>.</p>
<p><a href="upgradedimages-table-patchwiz-dll-.html">UpgradedImages Table</a></p>
<table>
<thead>
<tr>
<th>Upgraded</th>
<th>MsiPath</th>
<th>PatchMsiPath</th>
<th>SymbolPaths</th>
<th>Family</th>
</tr>
</thead>
<tbody>
<tr>
<td>MNP_fixed</td>
<td>C:\Note_Installer\Patch\Upgraded\MNP2000.msi</td>
<td></td>
<td></td>
<td>MNPapps</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Enter the following data into the TargetImages table of MNP2000.pcp. The TargetImages table contains information about the Target image.</p>
<p><a href="targetimages-table-patchwiz-dll-.html">TargetImages Table</a></p>
<table>
<thead>
<tr>
<th>Target</th>
<th>MsiPath</th>
<th>SymbolPaths</th>
<th>Upgraded</th>
<th>Order</th>
<th>ProductValidateFlags</th>
<th>IgnoreMissingSrcFiles</th>
</tr>
</thead>
<tbody>
<tr>
<td>MNP_error</td>
<td>C:\Note_Installer\Patch\Target\MNP2000.msi</td>
<td></td>
<td>MNP_fixed</td>
<td>1</td>
<td></td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>For the sample patch package, leave the following tables in MNP2000.pcp blank.</p>
<p><a href="upgradedfiles-optionaldata-table-patchwiz-dll-.html">UpgradedFiles_OptionalData Table</a></p>
<p><a href="familyfileranges-table-patchwiz-dll-.html">FamilyFileRanges Table</a></p>
<p><a href="targetfiles-optionaldata-table-patchwiz-dll-.html">TargetFiles_OptionalData Table</a></p>
<p><a href="externalfiles-table-patchwiz-dll-.html">ExternalFiles Table</a></p>
<p><a href="upgradedfilestoignore-table-patchwiz-dll-.html">UpgradedFilesToIgnore Table</a></p>
<p><a href="generating-a-patch-package.html">Continue</a></p>
<p>Â </p>
<p>Â </p>
</body>
