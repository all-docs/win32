<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ICE81</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: ICE81 validates the MsiDigitalCertificate table, MsiDigitalSignature table, MsiPatchCertificate table, and MsiPackageCertificate Table.
ms.assetid: 83d8bc62-679e-410f-a95c-ffe13952b710
title: ICE81
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>ICE81</h1>
<p>ICE81 validates the <a href="msidigitalcertificate-table.html">MsiDigitalCertificate table</a>, <a href="msidigitalsignature-table.html">MsiDigitalSignature table</a>, <a href="msipatchcertificate-table.html">MsiPatchCertificate table</a>, and <a href="msipackagecertificate-table.html">MsiPackageCertificate Table</a>. This ICE custom action posts warnings for digital certificates that are unused or unreferenced, and it posts an error when the signed object does not exist or when the signed object's cabinet does not point to external data.</p>
<p>Note that ICE03 verifies that the entry in the Table column in the MsiDigitalSignature table is &quot;Media.&quot;</p>
<h2>Result</h2>
<p>ICE81 posts the following warnings for unused or unreferenced Digital Certificates.</p>
<table>
<thead>
<tr>
<th>ICE81 warning</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>No reference to any of the records in the MsiDigitalCertificate table could be found in MsiDigitalSignature, MsiPackageCertificate, or MsiPatchCertificate tables.</td>
<td>This warning is returned if all records are unused.</td>
</tr>
<tr>
<td>No reference to the Digital Certificate [1] could be found in MsiDigitalSignature, MsiPackageCertificate, or MsiPatchCertificate tables.</td>
<td>This warning is returned if some records, but not all, are unused.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>ICE81 posts the following errors.</p>
<table>
<thead>
<tr>
<th>ICE81 error</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Media Table does not exist. Hence all the entries in MsiDigitalSignature are incorrect</td>
<td>The signed object does not exist. This error is returned if the Media table does not exist but MsiDigitalSignature has entries.</td>
</tr>
<tr>
<td>Missing signed object [2] in Media Table</td>
<td>The signed object [2] does not exist. This error is returned if the Media table exists, but this entry in MsiDigitalSignature is not present in Media table.</td>
</tr>
<tr>
<td>The entry in table [1] with key [2] is signed. Hence the cabinet should point to an object outside the package (the value of Cabinet should NOT be prefixed with #)</td>
<td>The signed object's cabinet does not point to external data. [1] is table name. [2] is key in the Media table.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="ice-reference.html">ICE Reference</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
