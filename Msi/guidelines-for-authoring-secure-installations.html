<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Guidelines for Authoring Secure Installations</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: To help maintain a secure environment during software installation, adhere to these guidelines when authoring the Windows Installer package.
ms.assetid: 04d91a9b-0528-4acb-8e11-fc817009db1f
title: Guidelines for Authoring Secure Installations
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Guidelines for Authoring Secure Installations</h1>
<p>Adherence to the following guidelines when authoring a Windows Installer package helps maintain a secure environment during installation:</p>
<ul>
<li>Administrators should install managed applications into a target installation folder for which non-admin users do not have change or modify privileges.</li>
<li>Make any property set by the user a public property. Private properties cannot be changed by the user interacting with the user interface. For information, see <a href="about-properties.html">About Properties</a>.</li>
<li>Do not use properties for passwords or other information that must remain secure. The installer may write the value of a property authored into the <a href="property-table.html">Property table</a>, or created at run time, into a log or the system registry. For additional information, see <a href="preventing-confidential-information-from-being-written-into-the-log-file.html">Preventing Confidential Information from Being Written into the Log File</a>.</li>
<li>When the installation requires the installer to use <a href="e-gly.html"><em>elevated</em></a> privileges, use <a href="restricted-public-properties.html">Restricted Public Properties</a> to restrict the public properties a user can change. Some restrictions are commonly necessary to maintain a secure environment when the installation requires the installer to use <em>elevated</em> privileges.</li>
<li>Avoid installing services that impersonate the privileges of a particular user because this may write security data into a log or the system registry. This creates potential for a security problem, password conflict, or the loss of configuration data when the system is restarted. For details, see <a href="serviceinstall-table.html">ServiceInstall table</a>.</li>
<li>Use the <a href="lockpermissions-table.html">LockPermissions table</a> and <a href="msilockpermissionsex-table.html">MsiLockPermissionsEx table</a> to secure services, files, registry keys, and created folders in a locked-down environment.</li>
<li>Add a digital signatures to the installation to ensure the integrity of the files. For details, see <a href="digital-signatures-and-windows-installer.html">Digital Signatures and Windows Installer</a> and <a href="authoring-a-fully-verified-signed-installation.html">Authoring a Fully Verified Signed Installation</a>.</li>
<li>Author your Windows Installer package such that if the user is denied access to resources, the setup fails in a manner that maintains a secure environment. Check the user's access privileges and determine whether there is sufficient disk space before installation begins. Commonly, the installer should only display a browse dialog box if the current user is an administrator or if the installation does not require <a href="e-gly.html"><em>elevated</em></a> privileges. For details, see <a href="source-resiliency.html">Source Resiliency</a>.</li>
<li>Use <a href="secured-transforms.html">Secured Transforms</a> to store transforms in a secure file system locally on the user's computer. This prevents the user from having write access to the transform.</li>
<li>For information on how to secure media sources of managed applications, see <a href="source-resiliency.html">Source Resiliency</a>.</li>
<li>Use the <a href="security-summary.html"><strong>Security Summary</strong></a> Property to indicate whether the package should be opened as read-only. This property should be set to read-only recommended for an installation database and to read-only enforced for a transform or patch.</li>
<li>The installer runs custom actions with user privileges by default in order to limit the access of custom actions to the system. The installer may run custom actions with <a href="e-gly.html"><em>elevated</em></a> privileges if a managed application is being installed or if the system policy has been specified for elevated privileges. For details, see <a href="custom-action-security.html">Custom Action Security</a>.</li>
<li>Use the <a href="disablepatch.html">DisablePatch</a> policy to provide security in environments where patching must be restricted.</li>
<li>Use the <a href="appid-table.html">AppId table</a> to register common security and configuration settings for DCOM objects.</li>
<li>For related information, see <a href="guidelines-for-securing-custom-actions.html">Guidelines for Securing Custom Actions</a>.</li>
<li>For related information, see <a href="guidelines-for-securing-packages-on-locked-down-computers.html">Guidelines for Securing Packages on Locked-Down Computers</a>.</li>
<li>Starting with Windows Installer 3.0, <a href="user-account-control--uac--patching.html">User Account Control (UAC) Patching</a> enables non-administrator users to patch applications installed in the per-machine context. UAC patching is enabled by providing a signer certificate in the <a href="msipatchcertificate-table.html">MsiPatchCertificate</a> table and signing patches with the same certificate.</li>
<li>The capability of the Windows Installer 5.0 to set access permissions on services, files, created folders, and registry entries can help make installation applications more secure. For information, see <a href="securing-resources-.html">Securing Resources</a>.</li>
</ul>
<p>Â </p>
<p>Â </p>
</body>
