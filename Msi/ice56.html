<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ICE56</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: ICE56 validates that the directory structure of the .msi file has a single root directory, that the root is the TARGETDIR property, and that the SourceDir property value is in the DefaultDir column of the Directory table.
ms.assetid: 6fbb51ff-64fc-40b7-852f-490c93e592c0
title: ICE56
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>ICE56</h1>
<p>ICE56 validates that the directory structure of the .msi file has a single root directory, that the root is the <a href="targetdir.html"><strong>TARGETDIR</strong></a> property, and that the <a href="sourcedir.html"><strong>SourceDir</strong></a> property value is in the DefaultDir column of the <a href="directory-table.html">Directory table</a>.</p>
<p>If a .msi file has multiple roots or specifies a root other than <a href="targetdir.html"><strong>TARGETDIR</strong></a>, an <a href="administrative-installation.html">administrative installation</a> does not create a correct administrative image.</p>
<p>Note that empty directories are not checked by ICE56. The directory structure passes validation with multiple root directories if the extra directories are empty.</p>
<h2>Result</h2>
<p>ICE56 posts an error if the .msi does not have a single root, <a href="targetdir.html"><strong>TARGETDIR</strong></a>, or if <a href="sourcedir.html"><strong>SourceDir</strong></a> is not specified in the DefaultDir column of the <a href="directory-table.html">Directory table</a>.</p>
<h2>Example</h2>
<p>ICE56 reports the following errors for the example shown.</p>
<pre lang="syntax"><code>Directory 'TARGETDIR' has a bad DefaultDir value. 
Directory 'Root2' is an invalid root Directory.
</code></pre>
<p><a href="directory-table.html">Directory Table</a></p>
<table>
<thead>
<tr>
<th>Directory</th>
<th>Directory_Parent</th>
<th>DefaultDir</th>
</tr>
</thead>
<tbody>
<tr>
<td>TARGETDIR</td>
<td></td>
<td>Temp</td>
</tr>
<tr>
<td>Root2</td>
<td>Root2</td>
<td>SourceDir</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>To fix the first error, the <a href="targetdir.html"><strong>TARGETDIR</strong></a> root should have a DefaultDir value of <a href="sourcedir.html"><strong>SourceDir</strong></a>. SOURCEDIR is also accepted. It may be possible to make <strong>TARGETDIR</strong> the parent of the second root, and use the '.' value in the DefaultDir column. See the <a href="directory-table.html">Directory table</a> for more information.</p>
<p>To fix the second error, the Directory structure should have only one root called <a href="targetdir.html"><strong>TARGETDIR</strong></a>.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="ice-reference.html">ICE Reference</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
