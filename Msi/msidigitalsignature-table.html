<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>MsiDigitalSignature Table</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The MsiDigitalSignature table contains the signature information for every digitally signed object in the installation database.
ms.assetid: 63d62152-4f01-454f-bdea-550f2a9f6b14
title: MsiDigitalSignature Table
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>MsiDigitalSignature Table</h1>
<p>The MsiDigitalSignature table contains the signature information for every digitally signed object in the installation database.</p>
<p>The MsiDigitalSignature and <a href="msidigitalcertificate-table.html">MsiDigitalCertificate</a> tables are available starting with Windows Installer version 2.0.</p>
<p>Windows Installer version can use digital signatures as a means to detect corrupted resources. Windows Installer 2.0 can only verify the digital signatures of external cabinets, and only by the use of the MsiDigitalSignature and <a href="msidigitalcertificate-table.html">MsiDigitalCertificate</a> tables.</p>
<p>Beginning with Windows Installer 3.0, the Windows Installer can verify the digital signatures of patches (.msp files) by using the <a href="msipatchcertificate-table.html">MsiPatchCertificate</a> and MsiDigitalCertificate tables. For more information, see <a href="guidelines-for-authoring-secure-installations.html">Guidelines for Authoring Secure Installations</a> and <a href="user-account-control--uac--patching.html">User Account Control (UAC) Patching</a>.</p>
<p>The MsiDigitalSignature table has the following columns.</p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Key</th>
<th>Nullable</th>
</tr>
</thead>
<tbody>
<tr>
<td>Table</td>
<td><a href="identifier.html">Identifier</a></td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>SignObject</td>
<td><a href="text.html">Text</a></td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>DigitalCertificate_</td>
<td><a href="identifier.html">Identifier</a></td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>Hash</td>
<td><a href="binary.html">Binary</a></td>
<td>N</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Columns</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Table</p>
<!-- raw HTML omitted -->
<p>With the Windows Installer version 2.0, the entry in this field must be &quot;Media&quot; for the <a href="media-table.html">Media table</a>. The installer only verifies the digital signatures on external cabinet media entries. This column and the SignObject column together specify the resource that is digitally signed.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SignObject</p>
<!-- raw HTML omitted -->
<p>A foreign key into the primary key of the table specified by the Table column. This column and the Table column together specify the resource that is digitally signed.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->DigitalCertificate_</p>
<!-- raw HTML omitted -->
<p>A foreign key into the <a href="msidigitalcertificate-table.html">MsiDigitalCertificate table</a>. This identifies the certificate that must exist on the file for the associated action to succeed. The resource (or object) is always required to match this certificate in the MsiDigitalCertificate table.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Hash</p>
<!-- raw HTML omitted -->
<p>In this field enter the reference hash of the resource (or object) that is to be checked against the actual hash of the resource (or object) obtained at run-time. If only the certificate needs to be verified, the Hash field may be null. Note that the format of the hash depends on the type of the resource (or object) being signed.</p>
<p>The Hash column contains the binary representation of the hash. The actual content is the <strong>pbData</strong> member of the <a href="/windows/win32/api/dpapi/ns-dpapi-crypt_integer_blob"><strong>CRYPT_HASH_BLOB</strong></a> structure, which is part of the <strong>CRYPTOAPI_BLOB</strong> structure. This may be obtained by calling <a href="/windows/win32/api/wintrust/nf-wintrust-winverifytrust">WinVerifyTrust</a> or <a href="/windows/desktop/api/Msi/nf-msi-msigetfilesignatureinformationa"><strong>MsiGetFileSignatureInformation</strong></a>.</p>
<!-- raw HTML omitted -->
<h2>Validation</h2>
<!-- raw HTML omitted -->
<p><a href="ice03.html">ICE03</a><br />
<a href="ice06.html">ICE06</a><br />
<a href="ice29.html">ICE29</a><br />
<a href="ice32.html">ICE32</a><br />
<a href="ice66.html">ICE66</a><br />
<a href="ice81.html">ICE81</a></p>
<!-- raw HTML omitted -->
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Msi/nf-msi-msigetfilesignatureinformationa"><strong>MsiGetFileSignatureInformation</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="msidigitalcertificate-table.html">MsiDigitalCertificate table</a></p>
<!-- raw HTML omitted -->
<p><a href="digital-signatures-and-windows-installer.html">Digital Signatures and Windows Installer</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
