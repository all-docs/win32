<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Adding a Custom CustomUserAccounts Table</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: A specification of the sample is that user account information be read from a custom table in the installation database and not hard-coded into the custom action.
ms.assetid: 1545b4f1-3ccf-4745-90d8-15f1f79d8455
title: Adding a Custom CustomUserAccounts Table
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Adding a Custom CustomUserAccounts Table</h1>
<p>A specification of the sample is that user account information be read from a custom table in the installation database and not hard-coded into the custom action.</p>
<p>Add a custom table to the sample installation database named CustomUserAccounts to hold user account information. See <a href="examples-of-database-queries-using-sql-and-script.html">Examples of Database Queries Using SQL and Script</a> for an example of how to add a custom table. Use the following schema for the CustomUserAccounts table. See <a href="column-definition-format.html">Column Definition Format</a> for an explanation of the column types.</p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Key</th>
<th>Nullable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UserName</td>
<td>s72</td>
<td>Y</td>
<td>N</td>
<td>Name of user account being created.</td>
</tr>
<tr>
<td>Password</td>
<td>s72</td>
<td></td>
<td>N</td>
<td>Name of property containing the password for the account. This is a <a href="public-properties.html">public property</a> set on the command line or through an <a href="edit-control.html">edit control</a> in the user interface. This edit control should have the <a href="password-control-attribute.html">Password Control Attribute</a>.</td>
</tr>
<tr>
<td>Attributes</td>
<td>i4</td>
<td></td>
<td>Y</td>
<td>Attributes for account. These are defined as the <strong>DWORD</strong> values for the usri1_flags member of the USER_INFO_1 structure.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>After the CustomUserAccounts table has been added to the database you may edit this table using Orca, a table editor provided with the Windows Installer SDK, or another editor. Enter the following record in the CustomUserAccounts table to create a password secured user account for a user called TestUser. Note that 512 is the numeric value for UF_NORMAL_ACCOUNT.</p>
<p>CustomUserAccounts Table</p>
<table>
<thead>
<tr>
<th>UserName</th>
<th>Password</th>
<th>Attributes</th>
</tr>
</thead>
<tbody>
<tr>
<td>TestUser</td>
<td>TESTUSERPASSWORD</td>
<td>512</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Add the following records to the _Validation table for the custom table.</p>
<p><a href="-validation-table.html">_Validation Table</a></p>
<table>
<thead>
<tr>
<th>Table</th>
<th>Column</th>
<th>Nullable</th>
<th>MinValue</th>
<th>MaxValue</th>
<th>KeyTable</th>
<th>KeyColumn</th>
<th>Category</th>
<th>Set</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CustomUserAccounts</td>
<td>UserName</td>
<td>N</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><a href="text.html">Text</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>CustomUserAccounts</td>
<td>Password</td>
<td>N</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><a href="identifier.html">Identifier</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>CustomUserAccounts</td>
<td>Attributes</td>
<td>Y</td>
<td>0</td>
<td>2147483647</td>
<td></td>
<td></td>
<td>null</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Continue to <a href="authoring-the-actiontext-and-error-tables.html">Authoring the ActionText and Error Tables</a>.</p>
<p>Â </p>
<p>Â </p>
</body>
