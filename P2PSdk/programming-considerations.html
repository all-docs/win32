<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Programming Considerations (Peer-to-Peer)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: This topic discusses specific programming considerations when using the Peer Infrastructure.
ms.assetid: 525b0625-ec13-4aba-a741-dbacff3587f9
title: Programming Considerations (Peer-to-Peer)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Programming Considerations (Peer-to-Peer)</h1>
<p>This topic discusses specific programming considerations when using the Peer Infrastructure.</p>
<p>When using the Peer Infrastructure to develop peer applications, you must take the following programming considerations into account:</p>
<ul>
<li>
<p>IPv6</p>
<p>The Peer Infrastructure requires that IPv6 be installed and started to enable peer networking applications to function.</p>
</li>
<li>
<p>Firewall Ports</p>
<p>When a firewall is being used on a network (such as the IPv6 Internet Connection firewall), specific ports must be opened to allow the Peer Infrastructure to function. The following ports must be open:</p>
<p>TCP port 3587 for the Peer Grouping Infrastructure.</p>
<p>UDP port 3540 for the Peer Graphing Infrastructure.</p>
<blockquote>
<p>[!Note]<br />
Applications that use the Peer Graphing Infrastructure over TCP choose their own TCP port when calling <a href="/windows/desktop/api/P2P/nf-p2p-peergraphlisten"><strong>PeerGraphListen</strong></a>.</p>
</blockquote>
<p>Â </p>
</li>
<li>
<p>Socket Option</p>
<p>When attempting to connect to other IPv6 peer nodes directly (without using the Peer Infrastructure), ensure that the socket option IPV6_PROTECTION_LEVEL is set to <strong>PROTECTION_LEVEL_UNRESTRICTED</strong>.</p>
</li>
<li>
<p>Bandwidth</p>
<p>When using PNRP, an application can publish one or more <a href="peer-names.html">peer names</a> that can be resolved. For each peer name registered with PNRP, there is an increase in the network bandwidth that PNRP uses to publish the peer name, and keep it available to be resolved by other nodes.</p>
<p>To prevent using too much bandwidth, applications should avoid registering large numbers of peer names on a computer. For example, an application that publishes pictures should not create a peer name for each picture, but should create one peer name for the service that publishes pictures, and use a different protocol for clients to query the service for specific pictures.</p>
</li>
<li>
<p>Peer Name Registration</p>
<p>Some applications may be required to register the same <a href="peer-names.html">peer name</a> on more than one computer. Typically, this happens if a peer name is associated with a person who uses more than one computer. One method that you can use to register the same peer name on multiple computers is to create a peer group for the person, and connect to that group from all computers. Another method is to create a peer identity and peer name on one computer, export the peer identity from that computer, and import it on other computers. This allows the same secure peer name to be created on all the computers that have imported the peer identity.</p>
</li>
</ul>
<p>Â </p>
<p>Â </p>
</body>
