<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Freeing Peer Data</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: All pointers that the Peer Infrastructure functions return must be freed by using PeerGraphFreeData or PeerFreeData.
ms.assetid: c7669404-2550-4f0d-908e-540d9a34008f
title: Freeing Peer Data
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Freeing Peer Data</h1>
<p>All pointers that the Peer Infrastructure functions return must be freed by using <a href="/windows/desktop/api/P2P/nf-p2p-peergraphfreedata"><strong>PeerGraphFreeData</strong></a> or <a href="/windows/desktop/api/P2P/nf-p2p-peerfreedata"><strong>PeerFreeData</strong></a>. These functions must only be called for structures that are directly returned by a Peer Infrastructure function. Do not call a different FreeData function to free nested pointers, for example, do not call a FreeData function on the pointers in a <a href="/windows/desktop/api/P2P/ns-p2p-peer_record"><strong>PEER_RECORD</strong></a> structure.</p>
<h2>Example of Freeing Data</h2>
<p>The following code snippet shows you how to retrieve the properties associated with a graph, and then free the data that is returned.</p>
<pre lang="C++"><code>PEER_GRAPH_PROPERTIES  * pGraphProperties = NULL;
HRESULT hr = PeerGraphGetProperties(hGraph, &amp;pGraphProperties);
if (SUCCEEDED(hr) &amp;&amp; (NULL != pGraphProperties))
{
  // use pGraphProperties
  wprintf(L&quot;%d\n&quot;, pGraphProperties-&gt;pwzGraphId);

  // release the data
  PeerGraphFreeData(pGraphProperties);
}
</code></pre>
<p>Â </p>
<p>Â </p>
</body>
