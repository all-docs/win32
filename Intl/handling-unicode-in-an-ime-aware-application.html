<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Handling Unicode in an IME-Aware Application</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Handling Unicode in an IME-Aware Application
ms.assetid: fa202c1e-d0af-441f-b878-ed98205a880c
title: Handling Unicode in an IME-Aware Application
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Handling Unicode in an IME-Aware Application</h1>
<p>Two issues are involved with the IMM and its handling of Unicode. The first issue is that the Unicode versions of IMM functions retrieve the size of a buffer in bytes instead of 16-bit Unicode characters. The second issue is that the IMM normally retrieves Unicode characters (instead of DBCS characters) in the <a href="../inputdev/wm-char.html"><strong>WM_CHAR</strong></a> and <a href="wm-ime-char.html"><strong>WM_IME_CHAR</strong></a> messages.</p>
<p>Windows supports a Unicode interface for the IMM, in addition to the ANSI interface originally supported.</p>
<p>Your applications should use <a href="/windows/win32/api/winuser/nf-winuser-registerclassa"><strong>RegisterClassW</strong></a> to cause the <a href="../inputdev/wm-char.html"><strong>WM_CHAR</strong></a> and <a href="wm-ime-char.html"><strong>WM_IME_CHAR</strong></a> messages to retrieve Unicode characters instead of DBCS characters in the <em>wParam</em> parameter.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="using-input-method-manager.html">Using Input Method Manager</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
