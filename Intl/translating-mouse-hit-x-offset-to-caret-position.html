<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Translating Mouse Hit X Offset to Caret Position</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Conventionally, the user can select caret position (cp) by clicking either the trailing half of character &amp;#0034;cp-1&amp;#0034; or the leading half of character &amp;#0034;cp&amp;#0034;.
ms.assetid: 36b6ff00-7ea8-40e5-90f7-917cef117d4a
title: Translating Mouse Hit X Offset to Caret Position
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Translating Mouse Hit X Offset to Caret Position</h1>
<p>Conventionally, the user can select caret position (cp) by clicking either the trailing half of character &quot;cp-1&quot; or the leading half of character &quot;cp&quot;. An application can implement the translation of mouse hit x offset to caret position as follows:</p>
<pre lang="C++"><code>int iCharPos;
int iCaretPos;
int fTrailing;
ScriptXtoCP(iMouseX, cChars, cGlyphs, pwLogClust, psva, piAdvance, psa,
            &amp;iCharPos, &amp;fTrailing);
iCaretPos = iCharPos + fTrailing;
</code></pre>
<p>For scripts that snap the caret to cluster boundaries, a call to <a href="/windows/desktop/api/Usp10/nf-usp10-scriptxtocp"><strong>ScriptXtoCP</strong></a> returns with <em>fTrailing</em> set to either 0 or the width of the cluster in code points.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="using-uniscribe.html">Using Uniscribe</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
