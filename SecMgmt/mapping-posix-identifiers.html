<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Mapping Posix Identifiers</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The Posix subsystem must be able to translate any security identifier (SID) it encounters into a 32-bit value, called a Posix ID.
ms.assetid: cd6c89ef-c3f1-47fe-8183-320b5d24b0dd
title: Mapping Posix Identifiers
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Mapping Posix Identifiers</h1>
<p>The Posix subsystem must be able to translate any <a href="/windows/desktop/SecGloss/s-gly"><em>security identifier</em></a> (SID) it encounters into a 32-bit value, called a <em>Posix ID</em>. Furthermore, it must be able to categorize the ID as either a user ID or a group ID. To understand how this mapping is accomplished, let's first look at the SIDs that must be mapped.</p>
<p>SIDs have two components, the SID of the domain and the relative ID of the account in the domain. For example, in the SID S-1-518364-21-43-8, the last number, 8, is the account's relative ID (RID) and S-1-518364-21-43 is the SID of the domain.</p>
<p>Domain information is stored in <a href="trusteddomain-object.html"><strong>TrustedDomain</strong></a> objects. Part of the information stored in a <strong>TrustedDomain</strong> object is a Posix ID offset to be used for SIDs within that domain. For example, assume that a <strong>TrustedDomain</strong> is defined as follows:</p>
<pre lang="syntax"><code>    Name:    NtPgm
    Sid:    S-1-518364-21-43
    Posix Offset:    0x130000
</code></pre>
<p>Posix IDs for accounts in this domain would be generated by adding 0x130000 to the relative ID of the account. So, the Posix ID corresponding to the SID S-1-518364-21-43-8 would be 0x130008.</p>
<p>Not all Posix ID translations make use of a <a href="trusteddomain-object.html"><strong>TrustedDomain</strong></a> object. The following table shows SIDs that are mapped using well-known offset values.</p>
<table>
<thead>
<tr>
<th>Source</th>
<th>Posix ID offset</th>
</tr>
</thead>
<tbody>
<tr>
<td>SIDs from the built-in domain</td>
<td>0x20000</td>
</tr>
<tr>
<td>SIDs from the account domain</td>
<td>0x30000</td>
</tr>
<tr>
<td>SIDs from the primary domain (on Workstations only)</td>
<td>0x40000</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>And finally, one other set of SIDs, logon SIDs, requires special processing. These values are assigned by the Windows logon process for each logon session and have the form S-1-5-5-X-Y, where X and Y are treated as a single LARGE_INTEGER that is incremented for each logon session. These SIDs are mapped to the constant Posix ID 0xFFF. To map the Posix ID 0xFFF, you may translate whatever <a href="/windows/desktop/SecGloss/l-gly"><em>logon identifier</em></a> best suits the situation, or you may use S-1-5-5-0-0 by default. (For example, if a posix user applies protection to an object and specifies FFFx, it is better to substitute that user's logon identifier than just assigning S-1-5-5-0-0.)</p>
<p>Â </p>
<p>Â </p>
</body>
