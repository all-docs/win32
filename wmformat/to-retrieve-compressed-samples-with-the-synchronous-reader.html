<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>To Retrieve Compressed Samples with the Synchronous Reader</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: To Retrieve Compressed Samples with the Synchronous Reader
description: To Retrieve Compressed Samples with the Synchronous Reader
ms.assetid: 1f6da1aa-c26a-486a-bb44-cc4305c71979
keywords:</p>
<ul>
<li>Advanced Systems Format (ASF),retrieving compressed samples</li>
<li>ASF (Advanced Systems Format),retrieving compressed samples</li>
<li>Advanced Systems Format (ASF),synchronous readers</li>
<li>ASF (Advanced Systems Format),synchronous readers</li>
<li>Advanced Systems Format (ASF),compressed samples</li>
<li>ASF (Advanced Systems Format),compressed samples</li>
<li>synchronous readers,retrieving compressed samples</li>
<li>synchronous readers,compressed samples</li>
<li>compressed samples,retrieving
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>To Retrieve Compressed Samples with the Synchronous Reader</h1>
<p>[The feature associated with this page, <a href="/windows/win32/wmformat/windows-media-format-11-sdk">Windows Media Format 11 SDK</a>, is a legacy feature. It has been superseded by <a href="/windows/win32/medfound/source-reader">Source Reader</a> and <a href="/windows/win32/medfound/sink-writer">Sink Writer</a>. <strong>Source Reader</strong> and <strong>Sink Writer</strong> have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>Source Reader</strong> and <strong>Sink Writer</strong> instead of <strong>Windows Media Format 11 SDK</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>Like the asynchronous reader, the synchronous reader can also retrieve compressed samples. Compressed samples should be used when copying streams from one file to another.</p>
<p>The Windows Media Format SDK does not provide any methods for decoding data after it has been extracted from an ASF file. If you receive compressed samples and later want to decompress them, you will have to provide your own code to do so. One way to get around this limitation is to write the compressed samples to a new ASF file and then re-read them into normal, uncompressed samples.</p>
<p>To receive compressed samples with the synchronous reader, call <a href="/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmsyncreader-setreadstreamsamples"><strong>IWMSyncReader::SetReadStreamSamples</strong></a> before or during playback. Pass true for <em>fCompressed</em>.</p>
<blockquote>
<p>[!Note]<br />
Image streams are not valid for compressed stream delivery. If you copy an image stream from one file to another, it will not work in the new file. To copy an image stream from file to file, retrieve the image stream samples by output number and include them in the new file as if including a new image stream.</p>
</blockquote>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="reading-files-with-the-synchronous-reader.html"><strong>Reading Files with the Synchronous Reader</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
