<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Variable Bit Rate (VBR) Encoding</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Variable Bit Rate (VBR) Encoding
description: Variable Bit Rate (VBR) Encoding
ms.assetid: d3fe0cc6-64d7-44ce-8bb4-dd2eed021345
keywords:</p>
<ul>
<li>Windows Media Format SDK,VBR encoding</li>
<li>Windows Media Format SDK,variable bit rate (VBR)</li>
<li>Windows Media Format SDK,quality-based VBR encoding</li>
<li>Windows Media Format SDK,unconstrained VBR encoding</li>
<li>Windows Media Format SDK,constrained VBR encoding</li>
<li>codecs,VBR encoding</li>
<li>codecs,variable bit rate (VBR)</li>
<li>codecs,quality-based VBR encoding</li>
<li>codecs,unconstrained VBR encoding</li>
<li>codecs,constrained VBR encoding</li>
<li>variable bit rate (VBR),about</li>
<li>VBR (variable bit rate),about</li>
<li>quality-based VBR encoding,about</li>
<li>unconstrained VBR encoding,about</li>
<li>constrained VBR encoding
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>Variable Bit Rate (VBR) Encoding</h1>
<p>[The feature associated with this page, <a href="/windows/win32/wmformat/windows-media-format-11-sdk">Windows Media Format 11 SDK</a>, is a legacy feature. It has been superseded by <a href="/windows/win32/medfound/source-reader">Source Reader</a> and <a href="/windows/win32/medfound/sink-writer">Sink Writer</a>. <strong>Source Reader</strong> and <strong>Sink Writer</strong> have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>Source Reader</strong> and <strong>Sink Writer</strong> instead of <strong>Windows Media Format 11 SDK</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>Variable bit rate (VBR) encoding is an alternative to constant bit rate encoding (CBR) and is supported by some codecs. Where CBR encoding strives to maintain the bit rate of the encoded media, VBR strives to achieve the best possible quality of the encoded media.</p>
<p>The quality of encoded content is determined by the amount of data that is lost when the content is compressed and decompressed. Many factors affect the loss of data in the compression process, but in general, the more complex the original data and the higher the compression ratio, the more detail is lost in the compression process.</p>
<p>There are three types of VBR encoding: quality-based, unconstrained, and constrained.</p>
<h2>Quality-based VBR Encoding</h2>
<p>The first type of VBR encoding is quality-based, which uses one encoding pass. Quality-based VBR encoding enables you to specify a level of quality for a digital media stream instead of a bit rate. The codec will then encode the content so that all samples are of comparable quality.</p>
<p>The main advantage of quality-based VBR encoding is that quality is consistent within a file and from one file to the next. For example, you can write a program to copy songs from CD to ASF files on a computer. In this case, consistent quality is probably more important to the end-user experience than consistent file size. Using quality-based VBR encoding would ensure that all of the songs copied are of the same quality.</p>
<p>The disadvantage of quality-based VBR encoding is that there is really no way to know the size or bandwidth requirements of the encoded media before encoding. This can make quality-based VBR-encoded files inappropriate for circumstances where memory or bandwidth are restricted, such as portable media players, or low-bandwidth Internet connections.</p>
<p>In general, quality-based VBR encoding is well suited for local playback or high bandwidth network connections. In those cases, the consistent quality will provide a better user experience.</p>
<h2>Unconstrained VBR Encoding</h2>
<p>Unconstrained VBR encoding uses two encoding passes. When using unconstrained VBR encoding, you specify a bit rate for the stream, as you would with CBR encoding. However, the codec uses this value only as the average bit rate for the stream and encodes so that the quality is as high as possible while maintaining the average. The actual bit rate at any point in the encoded stream can vary greatly from the average value.</p>
<p>You do not set a buffer window for unconstrained VBR encoding as you would for a CBR-encoded stream. Instead, the codec computes the size of the required buffer window based on the requirements of the encoded samples.</p>
<p>The advantage of unconstrained VBR encoding is that the compressed stream has the highest possible quality while staying within a predictable average bandwidth.</p>
<h2>Constrained VBR Encoding</h2>
<p>Constrained VBR encoding is identical to unconstrained VBR encoding, except that you specify a maximum bit rate and a maximum buffer window in the profile. The codec then uses the maximum values to determine how to compress the data. If you set the maximum values high enough, constrained VBR encoding will produce the same encoded stream as unconstrained VBR encoding.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="choosing-an-encoding-method.html"><strong>Choosing an Encoding Method</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="codec-features.html"><strong>Codec Features</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="configuring-streams.html"><strong>Configuring Streams</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="configuring-vbr-streams.html"><strong>Configuring VBR Streams</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="constant-bit-rate--cbr--encoding.html"><strong>Constant Bit Rate (CBR) Encoding</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="two-pass-encoding.html"><strong>Two-Pass Encoding</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="using-two-pass-encoding.html"><strong>Using Two-Pass Encoding</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
