<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Working with Device Conformance Templates</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Working with Device Conformance Templates
description: Working with Device Conformance Templates
ms.assetid: 230744d2-7c0f-4a14-8018-da88b5285add
keywords:</p>
<ul>
<li>profiles,device conformance templates</li>
<li>profiles,conformance templates</li>
<li>codecs,device conformance templates</li>
<li>codecs,conformance templates</li>
<li>device conformance templates,about</li>
<li>conformance templates</li>
<li>templates,device conformance templates</li>
<li>Advanced Systems Format (ASF),device conformance templates</li>
<li>ASF (Advanced Systems Format),device conformance templates
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>Working with Device Conformance Templates</h1>
<p>[The feature associated with this page, <a href="/windows/win32/wmformat/windows-media-format-11-sdk">Windows Media Format 11 SDK</a>, is a legacy feature. It has been superseded by <a href="/windows/win32/medfound/source-reader">Source Reader</a> and <a href="/windows/win32/medfound/sink-writer">Sink Writer</a>. <strong>Source Reader</strong> and <strong>Sink Writer</strong> have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>Source Reader</strong> and <strong>Sink Writer</strong> instead of <strong>Windows Media Format 11 SDK</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>Because of the great flexibility of ASF files, it is often difficult to determine whether a file is appropriate for playback on a specific device. For example, files written for local playback on desktop computers are not optimal for use on handheld devices. Device conformance templates enable applications to quickly identify the type of playback device for which a file was intended. If the device conformance template does not match the device, the application can inform the user that the file is inappropriate for the device. In this way, the user can be assured of a better playback experience.</p>
<p>If you are writing files exclusively for use on personal computers, device conformance templates will not be as much of a factor in creating profiles. The main purpose of these templates is to ensure that files created for use with special hardware are compatible with a whole range of devices and not just a single device.</p>
<p>A device conformance template is an assertion that an ASF file contains data encoded within certain parameters. For more information about the settings appropriate to the individual templates, see <a href="device-conformance-template-parameters.html">Device Conformance Template Parameters</a>.</p>
<p>The following codecs support device conformance templates:</p>
<ul>
<li>Windows Media Video 9</li>
<li>Windows Media Audio 9 and later</li>
<li>Windows Media Audio 9 Professional and later</li>
<li>Windows Media Audio 9 Voice</li>
</ul>
<p>You do not need to take any special steps to use device conformance templates. The codec automatically writes a template string for each appropriate stream in the file. The codec will decide which template to use, based on the stream configuration settings in the profile. There is some overlap in device conformance template parameters, so you may want to request a specific template instead of letting the codec assign one for you. You can specify which template you want by setting the g_wszDecoderComplexityRequested property with the methods of the <a href="/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmpropertyvault"><strong>IWMPropertyVault</strong></a> interface of the appropriate stream configuration object.</p>
<p>When an ASF file is written, the actual device conformance template for each stream is set to the value passed to the writer by the codec. When opening a file for reading, you can find out which template the streams of the file conform to by using the methods of the <a href="/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmheaderinfo3"><strong>IWMHeaderInfo3</strong></a> interface to retrieve the g_wszDeviceConformanceTemplate stream-level attribute. For more information about attributes, see <a href="working-with-metadata.html">Working with Metadata</a>.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="designing-profiles.html"><strong>Designing Profiles</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="device-conformance-template-parameters.html"><strong>Device Conformance Template Parameters</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
