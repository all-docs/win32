<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Implementing License Revocation</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Implementing License Revocation
description: Implementing License Revocation
ms.assetid: 50ecfeaa-89cd-4788-a25a-ee0ae8973bf0
keywords:</p>
<ul>
<li>Windows Media Format SDK,implementing license revocation</li>
<li>Windows Media Format SDK,license revocation</li>
<li>Windows Media Format SDK,revocation of licenses</li>
<li>Advanced Systems Format (ASF),implementing license revocation</li>
<li>ASF (Advanced Systems Format),implementing license revocation</li>
<li>Advanced Systems Format (ASF),license revocation</li>
<li>ASF (Advanced Systems Format),license revocation</li>
<li>Advanced Systems Format (ASF),revocation of licenses</li>
<li>ASF (Advanced Systems Format),revocation of licenses</li>
<li>digital rights management (DRM),implementing license revocation</li>
<li>DRM (digital rights management),implementing license revocation</li>
<li>digital rights management (DRM),license revocation</li>
<li>DRM (digital rights management),license revocation</li>
<li>digital rights management (DRM),revocation of licenses</li>
<li>DRM (digital rights management),revocation of licenses</li>
<li>license revocation,implementing
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>Implementing License Revocation</h1>
<p>[The feature associated with this page, <a href="/windows/win32/wmformat/windows-media-format-11-sdk">Windows Media Format 11 SDK</a>, is a legacy feature. It has been superseded by <a href="/windows/win32/medfound/source-reader">Source Reader</a> and <a href="/windows/win32/medfound/sink-writer">Sink Writer</a>. <strong>Source Reader</strong> and <strong>Sink Writer</strong> have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>Source Reader</strong> and <strong>Sink Writer</strong> instead of <strong>Windows Media Format 11 SDK</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>The Windows Media Rights Manager 10 SDK includes a feature called license revocation. This feature enables license servers to request that licenses be removed from the client computer. The Windows Media Format SDK provides methods that process revocation messages and remove the licenses from the local license store.</p>
<p>The license revocation process is initiated by a service provided by the license issuer. Your application can host this service, or it can be a Web application. In either case, your application must be able to receive a license challenge created by the service.</p>
<p>To remove licenses from the license store, perform the following steps:</p>
<ol>
<li>Upon receiving a license challenge from the license issuer, call the <a href="/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-wmcreatelicenserevocationagent"><strong>WMCreateLicenseRevocationAgent</strong></a> function to create a license revocation agent object and obtain a pointer to the <a href="/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmlicenserevocationagent"><strong>IWMLicenseRevocationAgent</strong></a> interface.</li>
<li>Call the <a href="/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmlicenserevocationagent-getlrbchallenge"><strong>IWMLicenseRevocationAgent::GetLRBChallenge</strong></a> method to generate the challenge response.</li>
<li>Send the challenge response back to the license service component from which you received the challenge.</li>
<li>The license service component sends a signed license revocation blob (LRB) to your application. When you receive it, call the <a href="/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmlicenserevocationagent-processlrb"><strong>IWMLicenseRevocationAgent::ProcessLRB</strong></a> method. <strong>ProcessLRB</strong> creates an acknowledgement message that you must send back to the license service to verify that the licenses were removed.</li>
</ol>
<blockquote>
<p>[!Note]<br />
DRM is not supported by the x64-based version of this SDK.</p>
</blockquote>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="enabling-drm-support.html"><strong>Enabling DRM Support</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmlicenserevocationagent"><strong>IWMLicenseRevocationAgent Interface</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
