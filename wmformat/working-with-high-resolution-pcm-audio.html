<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Working with High-Resolution PCM Audio</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Working with High-Resolution PCM Audio
description: Working with High-Resolution PCM Audio
ms.assetid: 422a78f9-0f43-4edb-acaf-7f6e3f4a1cb8
keywords:</p>
<ul>
<li>Advanced Systems Format (ASF),high-resolution PCM audio</li>
<li>ASF (Advanced Systems Format),high-resolution PCM audio</li>
<li>profiles,high-resolution PCM audio</li>
<li>codecs,high-resolution PCM audio</li>
<li>Advanced Systems Format (ASF),PCM audio</li>
<li>ASF (Advanced Systems Format),PCM audio</li>
<li>profiles,PCM audio</li>
<li>codecs,PCM audio</li>
<li>high-resolution PCM audio</li>
<li>PCM audio
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>Working with High-Resolution PCM Audio</h1>
<p>[The feature associated with this page, <a href="/windows/win32/wmformat/windows-media-format-11-sdk">Windows Media Format 11 SDK</a>, is a legacy feature. It has been superseded by <a href="/windows/win32/medfound/source-reader">Source Reader</a> and <a href="/windows/win32/medfound/sink-writer">Sink Writer</a>. <strong>Source Reader</strong> and <strong>Sink Writer</strong> have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>Source Reader</strong> and <strong>Sink Writer</strong> instead of <strong>Windows Media Format 11 SDK</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>Some of the input formats for the Windows Media Audio 9 Professional codec and the Windows Media Audio 9 Lossless codec are high-resolution PCM formats. These are PCM formats that have more than two channels, or more than 16 bits per sample (audio with more than two channels is also called multichannel audio).</p>
<p>These formats are configured by using a structured extension of the <a href="/previous-versions/windows/desktop/legacy/dd757720(v=vs.85)"><strong>WAVEFORMATEX</strong></a> structure, called <a href="/previous-versions/windows/desktop/legacy/dd757721(v=vs.85)"><strong>WAVEFORMATEXTENSIBLE</strong></a>. The <strong>WAVEFORMATEXTENSIBLE</strong> structure includes information about the channels included in the audio. This structure is required when using high-resolution PCM audio, because some Windows APIs will not accept <strong>WAVEFORMATEX</strong> structures that contain high-resolution values.</p>
<p>High-resolution PCM formats have 22 bytes of extended data, which is specified in the <strong>cbSize</strong> member of the <strong>WAVEFORMATEX</strong> structure. High-resolution Windows Media audio formats do not use the <strong>WAVEFORMATEXTENSIBLE</strong> structure, but do have extended data appended to the <strong>WAVEFORMATEX</strong> structure.</p>
<p>The Windows Media audio codecs only support decoding to high-resolution PCM formats when the application is running on Windows XP or later. On previous versions of Microsoft Windows, the codecs decode to a format with a maximum of 16 bits per sample and 2 channels. In addition, you must specify that you want the codec to decode to high-definition PCM by setting the g_wszEnableDiscreteOutput output setting to <strong>TRUE</strong> using the <a href="/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-setoutputsetting"><strong>IWMReaderAdvanced2::SetOutputSetting</strong></a> method. After making this call, the outputs enumerated by the reader will include high-definition formats.</p>
<p>Multichannel audio requires more configuration. For more information, see <a href="reading-multichannel-audio.html">Reading Multichannel Audio</a>.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="working-with-inputs.html"><strong>Working with Inputs</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
