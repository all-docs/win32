<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>To Use Manual Stream Selection</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: To Use Manual Stream Selection
description: To Use Manual Stream Selection
ms.assetid: 49ec283f-670a-4a0e-9477-c60a80919a1e
keywords:</p>
<ul>
<li>Advanced Systems Format (ASF),manual stream selection</li>
<li>ASF (Advanced Systems Format),manual stream selection</li>
<li>Advanced Systems Format (ASF),asynchronous readers</li>
<li>ASF (Advanced Systems Format),asynchronous readers</li>
<li>Advanced Systems Format (ASF),stream selection</li>
<li>ASF (Advanced Systems Format),stream selection</li>
<li>Advanced Systems Format (ASF),mutual exclusion</li>
<li>ASF (Advanced Systems Format),mutual exclusion</li>
<li>asynchronous readers,manual stream selection</li>
<li>asynchronous readers,stream selection</li>
<li>streams,manual selection</li>
<li>mutual exclusion,manual stream selection</li>
<li>streams,asynchronous readers</li>
<li>mutual exclusion,asynchronous readers
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>To Use Manual Stream Selection</h1>
<p>[The feature associated with this page, <a href="/windows/win32/wmformat/windows-media-format-11-sdk">Windows Media Format 11 SDK</a>, is a legacy feature. It has been superseded by <a href="/windows/win32/medfound/source-reader">Source Reader</a> and <a href="/windows/win32/medfound/sink-writer">Sink Writer</a>. <strong>Source Reader</strong> and <strong>Sink Writer</strong> have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>Source Reader</strong> and <strong>Sink Writer</strong> instead of <strong>Windows Media Format 11 SDK</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>When delivering uncompressed samples with the reader object, you can deliver them only by output number. In the case of mutually exclusive streams, this means that you can receive samples only from one stream in the mutual exclusion at a time. The process of choosing which mutually exclusive stream to deliver is called stream selection.</p>
<p>For bit-rate mutual exclusion, the reader makes stream selections automatically based on the conditions on the host machine at playback. For other types of mutual exclusion, the reader will deliver samples from the default stream unless you manually select a different stream yourself. There may also be instances when you want to select a stream manually from a bit-rate mutual exclusion.</p>
<p>Manual stream selection is either on or off for the entire file. If a file contains bit-rate mutual exclusion and some other mutual exclusion type, you must select the bit rate based streams manually.</p>
<p>To select a mutually exclusive stream manually, you must perform the following steps.</p>
<ol>
<li>Retrieve a pointer to the <a href="/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced"><strong>IWMReaderAdvanced</strong></a> interface of the reader object by calling <strong>IWMReader::QueryInterface</strong>.</li>
<li>Enable manual stream selection by calling <a href="/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-setmanualstreamselection"><strong>IWMReaderAdvanced::SetManualStreamSelection</strong></a>.</li>
<li>To find out if a particular stream is selected, call <a href="/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-getstreamselected"><strong>IWMReaderAdvanced::GetStreamSelected</strong></a>. You must pass a pointer to a variable of the <a href="/previous-versions/windows/desktop/api/Wmsdkidl/ne-wmsdkidl-wmt_stream_selection"><strong>WMT_STREAM_SELECTION</strong></a> enumeration type. When the call returns, the value in the variable will describe the current selection type of the stream.</li>
<li>To select a stream, call <a href="/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-setstreamsselected"><strong>IWMReaderAdvanced::SetStreamsSelected</strong></a>. This method enables you to specify multiple streams at the same time for synchronized stream switching.</li>
</ol>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="reading-files-with-the-asynchronous-reader.html"><strong>Reading Files with the Asynchronous Reader</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
