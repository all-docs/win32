<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Writing Image Streams</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Writing Image Streams
description: Writing Image Streams
ms.assetid: 3a017bdd-9723-4b7f-b5e1-22838c0ba4ff
keywords:</p>
<ul>
<li>Advanced Systems Format (ASF),writing image streams</li>
<li>ASF (Advanced Systems Format),writing image streams</li>
<li>Advanced Systems Format (ASF),image streams</li>
<li>ASF (Advanced Systems Format),image streams</li>
<li>image streams,writing</li>
<li>streams,writing image streams
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>Writing Image Streams</h1>
<p>[The feature associated with this page, <a href="/windows/win32/wmformat/windows-media-format-11-sdk">Windows Media Format 11 SDK</a>, is a legacy feature. It has been superseded by <a href="/windows/win32/medfound/source-reader">Source Reader</a> and <a href="/windows/win32/medfound/sink-writer">Sink Writer</a>. <strong>Source Reader</strong> and <strong>Sink Writer</strong> have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>Source Reader</strong> and <strong>Sink Writer</strong> instead of <strong>Windows Media Format 11 SDK</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>The inputs for an image stream must be RGB-formatted bitmap images. The writer coordinates the compression of input image samples using the JPEG format. Before you begin writing a file containing an image stream, you must set an image quality for the input, using the g_wszJPEGCompressionQuality setting. Use <a href="/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriteradvanced2-setinputsetting"><strong>IWMWriterAdvanced2::SetInputSetting</strong></a> to set the quality to a <strong>DWORD</strong> value ranging from 1 to 100. Low values represent a high compression ratio at the expense of quality, while high values produce high quality images that require more space.</p>
<p>Image streams often require larger buffer windows than ordinary video streams. The exact size required depends on the type of image and the image quality, among other factors. Use trial and error to determine the appropriate size for the images you intend to process.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="image-streams.html"><strong>Image Streams</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="to-set-input-settings.html"><strong>To Set Input Settings</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="writing-asf-files.html"><strong>Writing ASF Files</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
