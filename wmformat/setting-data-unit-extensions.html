<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Setting Data Unit Extensions</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Setting Data Unit Extensions
description: Setting Data Unit Extensions
ms.assetid: 28328c9e-8590-48b8-92b6-1c0475978246
keywords:</p>
<ul>
<li>Advanced Systems Format (ASF),data unit extensions</li>
<li>ASF (Advanced Systems Format),data unit extensions</li>
<li>data unit extensions,setting</li>
<li>streams,data unit extensions
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>Setting Data Unit Extensions</h1>
<p>[The feature associated with this page, <a href="/windows/win32/wmformat/windows-media-format-11-sdk">Windows Media Format 11 SDK</a>, is a legacy feature. It has been superseded by <a href="/windows/win32/medfound/source-reader">Source Reader</a> and <a href="/windows/win32/medfound/sink-writer">Sink Writer</a>. <strong>Source Reader</strong> and <strong>Sink Writer</strong> have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>Source Reader</strong> and <strong>Sink Writer</strong> instead of <strong>Windows Media Format 11 SDK</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>Some streams are configured to use data unit extensions to associate supplementary data with individual samples. For more information about extended samples, see <a href="data-unit-extensions.html">Data Unit Extensions</a>.</p>
<p>Most data unit extension systems require an extension on every sample in the stream. If you do not provide an extension of the correct size, the writer will reject the sample.</p>
<p>To add extended data to a sample, use the <a href="/previous-versions/windows/desktop/api/Wmsbuffer/nf-wmsbuffer-inssbuffer3-setproperty"><strong>INSSBuffer3::SetProperty</strong></a> method. You can get information about the data unit extensions configured on a stream by using the <a href="/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmstreamconfig2-getdataunitextensioncount"><strong>IWMStreamConfig2::GetDataUnitExtensionCount</strong></a> and <a href="/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmstreamconfig2-getdataunitextension"><strong>IWMStreamConfig2::GetDataUnitExtension</strong></a> methods.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="configuring-data-unit-extensions.html"><strong>Configuring Data Unit Extensions</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="writing-asf-files.html"><strong>Writing ASF Files</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
