<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Reading Protected Files</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Reading Protected Files
description: Reading Protected Files
ms.assetid: 24f839f1-ce57-4d06-b1a5-a6bea7b5b7bb
keywords:</p>
<ul>
<li>Windows Media Format SDK,reading protected files</li>
<li>Windows Media Format SDK,protected files</li>
<li>Advanced Systems Format (ASF),reading protected files</li>
<li>ASF (Advanced Systems Format),reading protected files</li>
<li>Advanced Systems Format (ASF),protected files</li>
<li>ASF (Advanced Systems Format),protected files</li>
<li>Advanced Systems Format (ASF),WMStubDRM.lib</li>
<li>ASF (Advanced Systems Format),WMStubDRM.lib</li>
<li>WMStubDRM.lib,reading protected files</li>
<li>WMStubDRM.lib,protected files</li>
<li>digital rights management (DRM),WMStubDRM.lib</li>
<li>DRM (digital rights management),WMStubDRM.lib
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>Reading Protected Files</h1>
<p>[The feature associated with this page, <a href="/windows/win32/wmformat/windows-media-format-11-sdk">Windows Media Format 11 SDK</a>, is a legacy feature. It has been superseded by <a href="/windows/win32/medfound/source-reader">Source Reader</a> and <a href="/windows/win32/medfound/sink-writer">Sink Writer</a>. <strong>Source Reader</strong> and <strong>Sink Writer</strong> have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>Source Reader</strong> and <strong>Sink Writer</strong> instead of <strong>Windows Media Format 11 SDK</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>Reading a DRM-protected file or network stream basically involves attempting to open the file (or connect to the stream) and then handling any events that might be sent from the DRM components.</p>
<p>If a player is not DRM-enabled (does not link to a valid wmstubdrm.lib library) the <a href="/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-open"><strong>IWMReader::Open</strong></a> call fails when it tries to open a protected file and returns NS_E_PROTECTED_CONTENT or some related error.</p>
<p>When a DRM-enabled application attempts to open a DRM-protected file, the DRM component automatically searches the local system for a valid license. If one is found, the DRM component automatically decrypts the file in a way that is completely transparent to the application. The action that an application may perform on the decrypted file depends on the rights specified in the license. For a full description of possible rights, see the Windows Media Rights Manager SDK documentation.</p>
<p>If the application does not have a valid license for a file, the player receives a status notification from the DRM component. The player application can then initiate the <a href="wmformat-glossary.html"><em>license acquisition</em></a> process. After a valid license has been received, the file can be accessed. The following sections describe the basic tasks that an application must perform in implementing the license acquisition process:</p>
<ul>
<li><a href="specifying-the-actions-to-be-performed.html">Specifying the Actions To Be Performed</a></li>
<li><a href="handling-license-acquisition-events.html">Handling License Acquisition Events</a></li>
<li><a href="individualizing-drm-applications.html">Individualizing DRM Applications</a></li>
<li><a href="handling-individualization-events.html">Handling Individualization Events</a></li>
</ul>
<blockquote>
<p>[!Note]<br />
DRM is not supported by the x64-based version of this SDK.</p>
</blockquote>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="digital-rights-management-features.html"><strong>Digital Rights Management Features</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="drm-attribute-list.html"><strong>DRM Attribute List</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="drm-properties.html"><strong>DRM Properties</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="enabling-drm-support.html"><strong>Enabling DRM Support</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
