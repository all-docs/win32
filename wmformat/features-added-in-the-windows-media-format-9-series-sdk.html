<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Features Added in the Windows Media Format 9 Series SDK</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Features Added in the Windows Media Format 9 Series SDK
description: Features Added in the Windows Media Format 9 Series SDK
ms.assetid: 73c4da27-a456-4845-a35b-edb75aa3f953
keywords:</p>
<ul>
<li>Windows Media Format SDK,features</li>
<li>Windows Media Format SDK,new features</li>
<li>Windows Media Format SDK,synchronous readers</li>
<li>Windows Media Format SDK,frame-based indexing</li>
<li>Windows Media Format SDK,SMPTE time codes</li>
<li>Windows Media Format SDK,DirectShow filters</li>
<li>Windows Media Format SDK,DRM writing capability</li>
<li>Windows Media Format SDK,file sinks</li>
<li>Windows Media Format SDK,DirectX Video Acceleration (DXVA)</li>
<li>Windows Media Format SDK,multichannel audio</li>
<li>Windows Media Format SDK,watermarking</li>
<li>Windows Media Format SDK,multiple language support</li>
<li>Windows Media Format SDK,device conformance templates</li>
<li>Windows Media Format SDK,codec enumerations</li>
<li>Windows Media Format SDK,mutual exclusion</li>
<li>Windows Media Format SDK,multiple bit rate (MBR)</li>
<li>Windows Media Format SDK,transcoding with smart recompression</li>
<li>Windows Media Format SDK,smart recompression</li>
<li>Windows Media Format SDK,recompression</li>
<li>Windows Media Format SDK,metadata</li>
<li>Windows Media Format SDK,dynamic pixel aspect ratio</li>
<li>Windows Media Format SDK,interlaced video streams</li>
<li>Windows Media Format SDK,two-pass encoding</li>
<li>Windows Media Format SDK,WMStub.lib</li>
<li>synchronous readers,about</li>
<li>frame-based indexing</li>
<li>SMPTE time codes,about</li>
<li>DirectShow filters</li>
<li>file sinks,enhancements</li>
<li>multichannel audio,about</li>
<li>watermarking,about</li>
<li>codecs,enumerations</li>
<li>mutual exclusion,about</li>
<li>digital rights management (DRM),writing capability</li>
<li>DRM (digital rights management),writing capability</li>
<li>DirectX Video Acceleration (DXVA),about</li>
<li>DXVA (DirectX Video Acceleration),about</li>
<li>Advanced Systems Format (ASF),multiple language support</li>
<li>ASF (Advanced Systems Format),multiple language support</li>
<li>multiple bit rate (MBR),about</li>
<li>MBR (multiple bit rate),about</li>
<li>transcoding with smart recompression</li>
<li>smart recompression</li>
<li>recompression</li>
<li>metadata,Windows Media Format SDK</li>
<li>dynamic pixel aspect ratio</li>
<li>interlaced video streams</li>
<li>two-pass encoding,about</li>
<li>2-pass encoding,about</li>
<li>WMStub.lib
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>Features Added in the Windows Media Format 9 Series SDK</h1>
<p>[The feature associated with this page, <a href="/windows/win32/wmformat/windows-media-format-11-sdk">Windows Media Format 11 SDK</a>, is a legacy feature. It has been superseded by <a href="/windows/win32/medfound/source-reader">Source Reader</a> and <a href="/windows/win32/medfound/sink-writer">Sink Writer</a>. <strong>Source Reader</strong> and <strong>Sink Writer</strong> have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>Source Reader</strong> and <strong>Sink Writer</strong> instead of <strong>Windows Media Format 11 SDK</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>The Windows Media Format 9 Series SDK introduced many improvements and features. This section provides an overview of those features for the benefit of users migrating from an earlier version of the SDK.</p>
<h2>Synchronous Reading</h2>
<p>You can read ASF files with synchronous calls. When reading a file synchronously, you can change the settings of the reader while it is reading. The synchronous reading operations of the SDK do not provide support for reading files over the Internet, but you can use the standard COM interface, <strong>IStream</strong>, to read from custom sources.</p>
<h2>Frame-based Indexing</h2>
<p>You can index ASF files based on video frames. Both the reader and the synchronous reader can seek to a frame of a video stream and synchronize the other streams to that frame.</p>
<h2>Indexing and Seeking with SMPTE Time Code</h2>
<p>The Windows Media Format SDK enables you to store SMPTE time codes in ASF files. Files can be indexed by SMPTE time code, and both the asynchronous reader and synchronous reader can seek to SMPTE time code index entries.</p>
<h2>DirectShow Filters</h2>
<p>The Windows Media Format SDK includes two Microsoft DirectShowÂ® filters that enable DirectShow-based applications to read and write ASF files. DirectShow also enables applications to capture data from audio-video devices and decompress data from a variety of formats before re-encoding it as Windows Media-based content.</p>
<h2>Enhanced Profiles</h2>
<p>Profiles can contain bandwidth sharing information and stream prioritization information. Bandwidth sharing enables you to specify that two or more streams, regardless of their individual bit rates, will never use more than a specified amount of bandwidth. The bandwidth sharing data in a profile is purely informational; it is not enforced by any logic in the SDK. Stream prioritization enables you to specify an order of priority for the streams in a profile. If there is not enough bandwidth at playback to stream the file properly, the lowest priority streams can be ignored in order to improve performance.</p>
<h2>DRM Writing Capability</h2>
<p>In addition to the existing DRM-reading support, the Windows Media Format 9 Series SDK added support for writing ASF files with either DRM version 1 or DRM version 7 protection. This new capability enables &quot;Live DRM&quot; scenarios such as pay-per-view webcasting of live sporting events or concerts.</p>
<h2>Enhanced File Sink</h2>
<p>Several new file sink capabilities were added to the 9 Series version of the SDK. You can configure the file sink to disable automatic indexing of newly created ASF files. You also have the option to configure it for unbuffered input and output.</p>
<h2>DirectX Video Acceleration</h2>
<p>DirectX Video Acceleration (DXVA) is a technology that enables playback of high-bit-rate video (DVD quality or better) on less powerful machines with DXVA-enabled graphics cards. You can use the reader object of this SDK to enable DirectX Video Acceleration, if the hardware supports it, when playing ASF files.</p>
<h2>Multichannel Audio</h2>
<p>You can encode and play multichannel audio. The Windows Media Audio 9 Professional codec supports formats with 6 channels and 8 channels as well as high definition stereo.</p>
<h2>Watermarking</h2>
<p>You can encode ASF files with digital watermarks for security. All watermarking systems are different in their approach, but all embed identification into encoded content. Watermarking is performed using special third-party DirectXÂ® media objects (DMOs).</p>
<h2>Support for Multiple Languages in ASF files</h2>
<p>You can support multiple languages in ASF files, both in streams and in metadata. For example, you can create a video file with audio streams in several languages. At playback, the user can select which language to use, or your application can query the system information on the playing computer and select a language automatically. Metadata attributes can also be entered multiple times, with the values in different languages.</p>
<h2>Device Conformance Templates</h2>
<p>To assist in targeting content to specific client devices, the Windows Media codecs now support device conformance templates. Each template contains a defined range of settings and codec features that should be used for media intended for a particular category of platforms. System profiles are no longer supported with the latest versions of the Windows Media codecs. All profiles must be customized to suit your needs. You can use device conformance templates to assist you in designing your profiles.</p>
<h2>Expanded Codec Enumeration</h2>
<p>The profile manager object can query the Windows Media Audio and Video codecs for supported formats. You can set parameters for the formats retrieved. For example, you can retrieve all the quality-based variable bit rate formats supported by the Windows Media Audio 9 codec.</p>
<h2>Improved Mutual Exclusion</h2>
<p>You can create named records containing multiple streams within a mutual exclusion object. You can also name mutual exclusion objects to make them easier to identify. This enables you to create layers of mutual exclusion. For example, a file can contain streams that are mutually exclusive by bit rate and by language. The language-based mutual exclusion would involve groups of streams, each group consisting of streams in the same language but mutually exclusive by bit rate.</p>
<h2>Expanded Multiple Bit Rate Support</h2>
<p>Mutual exclusion support is included for multiple bit rate (MBR) audio and for video with streams of varying image sizes.</p>
<h2>Attributes for Streams</h2>
<p>You can assign attributes to individual streams in ASF files. You must still use file-level attributes for MP3 files. This feature does not add any methods to the SDK, but the existing methods will now accept stream numbers other than zero.</p>
<h2>Transcoding with Smart Recompression</h2>
<p>Smart recompression allows you to transcode Windows Media audio files from a high bit rate to a lower bit rate with better quality than previously achievable.</p>
<h2>Expanded Metadata Support</h2>
<p>The Windows Media Format SDK provides the following new metadata features:</p>
<ul>
<li>Index-based metadata tags, enabling multiple tags with the same name.</li>
<li>Ability to read DRM header attributes without a WMStubDRM.lib file.</li>
<li>Attributes with more than 64 kilobytes of associated data.</li>
<li>Attributes in multiple languages.</li>
<li>Dozens of new predefined attributes.</li>
</ul>
<h2>Dynamic Pixel Aspect Ratio</h2>
<p>Video streams that are composed of various types of content can be accommodated by identifying the pixel aspect ratio of the disparate samples in the stream. This enables the playing application to provide better playback of such content.</p>
<h2>Interlaced Video Streams</h2>
<p>Previous versions of the Windows Media Format SDK have provided the ability to encode <a href="wmformat-glossary.html"><em>interlaced</em></a> content into a progressive-scan video stream. Starting with the Windows Media Format 9 Series SDK, you can encode interlaced video while preserving its interlaced format. This can result in improved playback, particularly on interlaced devices, such as television sets.</p>
<h2>Two-Pass Encoding</h2>
<p>The new Windows Media codecs enable two-pass encoding. Content encoded in two passes can achieve higher quality output.</p>
<h2>New Speech Codec</h2>
<p>This SDK includes the new Windows Media Audio 9 Voice codec which is optimized for encoding the human voice while using a low bit rate. This codec also provides superior performance for mixed music-voice content.</p>
<h2>Accessible Video Frame Duration</h2>
<p>You can have the writer object of this SDK provide the duration of video frames to the reader.</p>
<h2>Streaming HTML</h2>
<p>With previous version of this SDK, you were able to use a script command to signal your application to open a Web page. Starting with the Windows Media Format 9 Series SDK, you can store the components of Web pages in your ASF files, to ensure that there is no lag in presentations.</p>
<h2>WMStub.lib no longer required for build environment</h2>
<p>The build-environment settings for the Windows Media Format SDK changed starting with the Windows Media Format 9 Series SDK. You no longer need to include WMStub.lib for applications using this SDK. However, DRM-enabled applications still must obtain and sign a separate license agreement, and obtain a unique static library from Microsoft. Contact <a href="mailto:wmla@microsoft.com">wmla@microsoft.com</a> for more information about the DRM library and license agreement. For more information about building projects with this SDK, see <a href="library-files-and-compiler-settings.html">Library Files and Compiler Settings</a>.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="about-the-windows-media-format-sdk.html"><strong>About the Windows Media Format SDK</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
