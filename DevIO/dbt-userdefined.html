<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>DBT_USERDEFINED event</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The DBT_USERDEFINED device event identifies a user-defined event.
ms.assetid: b42feda9-5fe7-4e54-aad9-28c61d2f29b6
title: DBT_USERDEFINED event (Dbt.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>DBT_USERDEFINED event</h1>
<p>The DBT_USERDEFINED device event identifies a user-defined event.</p>
<p>To broadcast this device event, call the <a href="/windows/desktop/api/winuser/nf-winuser-broadcastsystemmessage"><strong>BroadcastSystemMessage</strong></a> function with the <a href="wm-devicechange.html"><strong>WM_DEVICECHANGE</strong></a> message. Set <em>wParam</em> to DBT_USERDEFINED and set <em>lParam</em> as described following.</p>
<pre lang="C++"><code>LRESULT CALLBACK WindowProc( HWND   hwnd,     // handle to window
                             UINT   uMsg,     // WM_DEVICECHANGE
                             WPARAM wParam,   // DBT_USERDEFINED
                             LPARAM lParam ); // event-specific data
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>hwnd</em></p>
<!-- raw HTML omitted -->
<p>A handle to a window.</p>
<!-- raw HTML omitted -->
<p><em>uMsg</em></p>
<!-- raw HTML omitted -->
<p>The <a href="wm-devicechange.html"><strong>WM_DEVICECHANGE</strong></a> message identifier.</p>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>Set to DBT_USERDEFINED.</p>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>A pointer to a <a href="/windows/win32/api/dbt/ns-dbt-_dev_broadcast_userdefined"><strong>_DEV_BROADCAST_USERDEFINED</strong></a> structure which describes the user-defined broadcast in progress. The <strong>dbud_szName</strong> member contains the name of the user-defined message, followed by any user-defined data.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Return <strong>TRUE</strong>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows XP<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2003<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Dbt.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="device-events.html">Device Events</a></p>
<!-- raw HTML omitted -->
<p><a href="device-management-events.html">Device Management Events</a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/dbt/ns-dbt-_dev_broadcast_userdefined"><strong>_DEV_BROADCAST_USERDEFINED</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="wm-devicechange.html"><strong>WM_DEVICECHANGE</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/winuser/nf-winuser-broadcastsystemmessage"><strong>BroadcastSystemMessage</strong></a></p>
<!-- raw HTML omitted -->
</body>
