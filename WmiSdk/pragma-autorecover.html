<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>pragma autorecover</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Adds a MOF file to the list of files compiled during repository recovery.
ms.assetid: 8901c04e-f8c1-45b0-b69d-e2ebc948f088
ms.tgt_platform: multiple
title: pragma autorecover
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>pragma
api_type:</li>
<li>NA
api_location:</li>
</ul>
<hr />
<h1>pragma autorecover</h1>
<p>The <strong>pragma autorecover</strong> preprocessor command adds a MOF file to the list of files compiled during repository recovery. The list of <strong>autorecover</strong> MOF files is stored in this registry key:</p>
<p><strong>HKEY_LOCAL_MACHINE</strong>\<strong>SOFTWARE</strong>\<strong>Microsoft</strong>\<strong>WBEM</strong>\<strong>CIMOM</strong>\<strong>autorecover mofs</strong></p>
<p>WMI checks the integrity of the WMI repository when the operating system starts WMI. If the repository is damaged, WMI automatically rebuilds the repository and recompiles any MOF files listed in this key in the registry.</p>
<p>The following describes the syntax for the pragma autorecover command:</p>
<pre lang="mof"><code>#pragma autorecover
</code></pre>
<p>However, you must observe the following restrictions when using this command:</p>
<ul>
<li>
<p>WMI cannot recover MOF files located on a remote computer.</p>
<p>Therefore, the MOF files listed in this registry key must reside on the local computer.</p>
</li>
<li>
<p>You cannot specify the command-line switches that the MOF compiler uses when WMI recovers a MOF file.</p>
<p>Therefore, you should include <a href="-pragma.html">pragma</a> commands in your MOF file that make command-line switches unnecessary. The following example describes a common command-line switch that WMI does not use when recovering a MOF file from this registry key: <strong>mofcomp -N:Root\Test mymof.mof</strong></p>
<p>However, you can specify the namespace using a <a href="-pragma.html">pragma</a> command in the MOF file.</p>
<pre lang="mof"><code>#pragma namespace (&quot;\\\\.\\Root\\test&quot;)
</code></pre>
</li>
</ul>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows Vista<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2008<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="preprocessor-commands.html">Preprocessor Commands</a></p>
<!-- raw HTML omitted -->
</body>
