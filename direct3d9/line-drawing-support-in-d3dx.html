<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Line Drawing Support in D3DX (Direct3D 9)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Learn about line drawing support in D3DX. D3DX is a utility library that provides helper services. It is a layer above the Direct3D component.
ms.assetid: 34ad82f2-542c-4342-af02-a767d6d4c96c
title: Line Drawing Support in D3DX (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Line Drawing Support in D3DX (Direct3D 9)</h1>
<p>D3DX is a utility library that provides helper services. It is a layer above the Direct3D component.</p>
<p>D3DX supports single-pixel-wide antialiased lines. Line patterns are no longer supported.</p>
<p>The line drawing library emulates lines using texture triangles and assumes the following:</p>
<ul>
<li>Hardware is available through the Direct3D 9 interfaces.</li>
<li>At least one texture stage is available.</li>
<li>64x64 textures are used.</li>
<li>The following modes are available:
<ul>
<li>Bilinear filtering</li>
<li>Clamp address mode</li>
<li>Wrap address mode</li>
<li>Alpha op modulate</li>
<li>Alpha blending (SRCBLEND = SRC_ALPHA, DESTBLEND = INV_SRC_ALPHA)</li>
<li>Alpha test if alpha blending is not available; lower quality result</li>
</ul>
</li>
</ul>
<p>For antialiased line rendering in multisample render targets, use <a href="id3dxline.html"><strong>ID3DXLine</strong></a> which generates textured polygons. The pixel coverage values, generated by antialiased line rasterization, modulate the pixel's alpha value computed by the pixel shader. To draw an antialiased line, an application must enable alpha blending and then it must set the D3DRS_ANTIALIASEDLINEENABLE render state to <strong>TRUE</strong>.</p>
<h2>Functionality Description</h2>
<p>The library supports drawing colored line strips with the following line features, each of which is independent of any other:</p>
<ul>
<li>Line width</li>
<li>Line pattern with repetition (the line pattern counter resets with each <a href="id3dxline--draw.html"><strong>ID3DXLine::Draw</strong></a> or <a href="id3dxline--drawtransform.html"><strong>ID3DXLine::DrawTransform</strong></a> call. It does not reset with each segment of the line strip.)</li>
<li>Antialiasing</li>
<li>OpenGL-style lines</li>
</ul>
<blockquote>
<p>[!Note]<br />
No mitering is supported.</p>
</blockquote>
<p>Â </p>
<p>The library uses native hardware line drawing support (if available in the device) only if:</p>
<ul>
<li>Line width is 1.</li>
<li>No line pattern is enabled.</li>
</ul>
<p>Single-pixel-wide antialiased lines are supported by some hardware, so the library uses that, if available. The LineCaps member of the <a href="/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9"><strong>D3DCAPS9</strong></a> structure enumerates hardware capabilities for line-drawing primitives.</p>
<p>When the software line drawing is used, each line is expanded into a rectangle and four vertices are sent down to the driver.</p>
<p>Each line segment is drawn with two triangles. The width of the primitive is the specified width plus 1.0, which may result in an extra row or column of pixels. As the line gets wider, the antialias gradient in the texture becomes more coarse, and more fully-opaque texels are replicated around the middle. The gradient is encoded in the v-direction of the texture, and typically replicated along the u-direction. The texture addressing mode for v is clamp.</p>
<p>Each line segment in the list can be considered to be a separate line that happens to start from the previous end point.</p>
<p>Antialiasing quality along the edges parallel to the length of the original line suffers as the line gets wider. It is expected that line widths greater than 32.0 will start to exhibit artifacts along these edges.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="d3dx.html">D3DX</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
