<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXUVAtlasCreate function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: D3DXUVAtlasCreate function - Create a UV atlas for a mesh.
ms.assetid: 70256990-b177-451e-b42a-84799fdc2a17
title: D3DXUVAtlasCreate function (D3DX9Mesh.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXUVAtlasCreate
api_type:</li>
<li>LibDef
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>D3DXUVAtlasCreate function</h1>
<p>Create a UV atlas for a mesh.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXUVAtlasCreate(
  _In_Â Â Â Â Â Â Â Â LPD3DXMESH Â Â Â Â Â pMesh,
  _In_Â Â Â Â Â Â Â Â UINT Â Â Â Â Â Â Â Â Â Â Â dwMaxChartNumber,
  _In_Â Â Â Â Â Â Â Â FLOAT Â Â Â Â Â Â Â Â Â Â fMaxStretch,
  _In_Â Â Â Â Â Â Â Â UINT Â Â Â Â Â Â Â Â Â Â Â dwWidth,
  _In_Â Â Â Â Â Â Â Â UINT Â Â Â Â Â Â Â Â Â Â Â dwHeight,
  _In_Â Â Â Â Â Â Â Â FLOAT Â Â Â Â Â Â Â Â Â Â fGutter,
  _In_Â Â Â Â Â Â Â Â DWORD Â Â Â Â Â Â Â Â Â Â dwTextureIndex,
  _In_Â Â const DWORD Â Â Â Â Â Â Â Â Â Â *pdwAdjacency,
  Â Â Â Â Â Â const DWORD Â Â Â Â Â Â Â Â Â Â *pdwFalseEdges,
  _In_Â Â Â Â Â Â Â Â FLOAT Â Â Â Â Â Â Â Â Â Â *pfIMTArray,
  _In_Â Â Â Â Â Â Â Â LPD3DXUVATLASCB pCallback,
  _In_Â Â Â Â Â Â Â Â FLOAT Â Â Â Â Â Â Â Â Â Â fCallbackFrequency,
  _In_Â Â Â Â Â Â Â Â LPVOID Â Â Â Â Â Â Â Â Â pUserContext,
  _In_Â Â Â Â Â Â Â Â DWORD Â Â Â Â Â Â Â Â Â Â dwOptions,
  _In_Â Â Â Â Â Â Â Â LPD3DXMESH Â Â Â Â Â *ppMeshOut,
  _Out_Â Â Â Â Â Â Â LPD3DXBUFFER Â Â Â *ppFacePartitioning,
  _Out_Â Â Â Â Â Â Â LPD3DXBUFFER Â Â Â *ppVertexRemapArray,
  _Out_Â Â Â Â Â Â Â FLOAT Â Â Â Â Â Â Â Â Â Â *pfMaxStretchOut,
  _Out_Â Â Â Â Â Â Â UINT Â Â Â Â Â Â Â Â Â Â Â *pdwNumChartsOut
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pMesh</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxmesh.html"><strong>LPD3DXMESH</strong></a></strong></p>
<p>Pointer to an input mesh (see <a href="id3dxmesh.html"><strong>ID3DXMesh</strong></a>) which contains the object geometry for calculating the atlas. At a minimum, the mesh must contain position data and 2D texture coordinates.</p>
<!-- raw HTML omitted -->
<p><em>dwMaxChartNumber</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<p>The maximum number of charts to partition the mesh into. See remarks about the partitioning modes. Use 0 to tell D3DX that the atlas should be parameterized based on stretch.</p>
<!-- raw HTML omitted -->
<p><em>fMaxStretch</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>FLOAT</strong></a></strong></p>
<p>The amount of stretching allowed. 0 means no stretching is allowed, 1 means any amount of stretching can be used.</p>
<!-- raw HTML omitted -->
<p><em>dwWidth</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<p>Texture width.</p>
<!-- raw HTML omitted -->
<p><em>dwHeight</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<p>Texture height.</p>
<!-- raw HTML omitted -->
<p><em>fGutter</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>FLOAT</strong></a></strong></p>
<p>The minimum distance, in texels, between two charts on the atlas. The gutter is always scaled by the width; so, if a gutter of 2.5 is used on a 512x512 texture, then the minimum distance between two charts is 2.5 / 512.0 texels.</p>
<!-- raw HTML omitted -->
<p><em>dwTextureIndex</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>Zero-based texture coordinate index that identifies which set of texture coordinates to use.</p>
<!-- raw HTML omitted -->
<p><em>pdwAdjacency</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a>*</strong></p>
<p>A pointer to an array of adjacency data. with 3 DWORDs per face, indicating which triangles are adjacent to each other (see <a href="id3dxbasemesh--generateadjacency.html"><strong>ID3DXBaseMesh::GenerateAdjacency</strong></a>).</p>
<!-- raw HTML omitted -->
<p><em>pdwFalseEdges</em></p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a>*</strong></p>
<p>An array with 3 DWORDS per face. Each face indicates if an edge is false or not. A non-false edge is indicated by -1, a false edge is indicated by any other value. This enables the parameterization of a mesh of quads where the edges down the middle of each quad will not be cut.</p>
<!-- raw HTML omitted -->
<p><em>pfIMTArray</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>FLOAT</strong></a>*</strong></p>
<p>A pointer to an array of integrated metric tensors that describes how to stretch a triangle (see <a href="using-uvatlas.html">IntegratedMetricTensor</a>).</p>
<!-- raw HTML omitted -->
<p><em>pCallback</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="lpd3dxuvatlascb.html">LPD3DXUVATLASCB</a></strong></p>
<p>A pointer to a callback function (see <a href="lpd3dxuvatlascb.html">LPD3DXUVATLASCB</a>) that is useful for monitoring progress.</p>
<!-- raw HTML omitted -->
<p><em>fCallbackFrequency</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>FLOAT</strong></a></strong></p>
<p>Specify how often D3DX will call the callback; a reasonable default value is 0.0001f.</p>
<!-- raw HTML omitted -->
<p><em>pUserContent</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPVOID</strong></a></strong></p>
<p>Pointer to a user-defined value which is passed to the callback function; typically used by an application to pass a pointer to a data structure that provides context information for the callback function.</p>
<!-- raw HTML omitted -->
<p><em>dwOptions</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>Specify the quality of the charts generated. See <a href="./d3dxuvatlas.html"><strong>D3DXUVATLAS</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>ppMeshOut</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxmesh.html"><strong>LPD3DXMESH</strong></a>*</strong></p>
<p>Pointer to the created mesh with the atlas (see <a href="id3dxmesh.html"><strong>ID3DXMesh</strong></a>).</p>
<!-- raw HTML omitted -->
<p><em>ppFacePartitioning</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxbuffer.html"><strong>LPD3DXBUFFER</strong></a>*</strong></p>
<p>A pointer to an array of the final face-partitioning data. Each element contains one DWORD per face (see <a href="id3dxbuffer.html"><strong>ID3DXBuffer</strong></a>).</p>
<!-- raw HTML omitted -->
<p><em>ppVertexRemapArray</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxbuffer.html"><strong>LPD3DXBUFFER</strong></a>*</strong></p>
<p>A pointer to an array of remapped vertices. Each array element identifies the original vertex that each final vertex came from (if the vertex was split during remapping). Each array element contains one DWORD per vertex.</p>
<!-- raw HTML omitted -->
<p><em>pfMaxStretchOut</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>FLOAT</strong></a>*</strong></p>
<p>A pointer to the maximum stretch value generated by the atlas algorithm. The range is between 0.0 and 1.0.</p>
<!-- raw HTML omitted -->
<p><em>pdwNumChartsOut</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a>*</strong></p>
<p>A pointer to the number of charts created by the atlas algorithm. If dwMaxChartNumber is too low, this parameter will return the minimum number of charts required to create an atlas.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is D3D_OK; otherwise, the value is D3DERR_INVALIDCALL.</p>
<h2>Remarks</h2>
<p>D3DXUVAtlasCreate can partition mesh geometry two ways:</p>
<ul>
<li>Based on the number of charts</li>
<li>Based on the maximum allowed stretch. If the maximum allowed stretch is 0, each triangle will likely be in its own chart.</li>
</ul>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3DX9Mesh.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-functions-uvatlas.html">UVAtlas Functions</a></p>
<!-- raw HTML omitted -->
<p><a href="https://msdn.microsoft.com/library/Ee419017(v=VS.85).aspx">UV Atlas Command-Line Tool (uvatlas.exe)</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
