<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ID3DXPRTEngine::ComputeLDPRTCoeffs method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Computes locally-deformable precomputed radiance transfer (LDPRT) coefficients relative to per-sample normal vectors to minimize the least-squares error with respect to input ID3DXPRTBuffer data.
ms.assetid: 302c20cd-d495-4a23-9692-7456355471eb
title: ID3DXPRTEngine::ComputeLDPRTCoeffs method (D3DX9Mesh.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>ID3DXPRTEngine.ComputeLDPRTCoeffs
api_type:</li>
<li>COM
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>ID3DXPRTEngine::ComputeLDPRTCoeffs method</h1>
<p>Computes locally-deformable precomputed radiance transfer (LDPRT) coefficients relative to per-sample normal vectors to minimize the least-squares error with respect to input <a href="id3dxprtbuffer.html"><strong>ID3DXPRTBuffer</strong></a> data. These coefficients can be used with skinned or transformed normal vectors to model global effects on dynamic objects.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT ComputeLDPRTCoeffs(
  [in]Â Â Â Â Â Â LPD3DXPRTBUFFER pDataIn,
  [in]Â Â Â Â Â Â UINT Â Â Â Â Â Â Â Â Â Â Â Order,
  [in, out]Â D3DXVECTOR3 Â Â Â Â *pNormOut,
  [in, out]Â LPD3DXPRTBUFFER pDataOut
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pDataIn</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxprtbuffer.html"><strong>LPD3DXPRTBUFFER</strong></a></strong></p>
<p>Pointer to an input <a href="id3dxprtbuffer.html"><strong>ID3DXPRTBuffer</strong></a> spherical harmonic (SH) precomputed radiance transfer (PRT) data object.</p>
<!-- raw HTML omitted -->
<p><em>Order</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<p>Order of the SH evaluation. Must be in the range of <a href="other-d3dx-constants.html">D3DXSH_MINORDER</a> to D3DXSH_MAXORDER, inclusive. The evaluation generates OrderÂ² coefficients. The degree of the evaluation is Order - 1.</p>
<!-- raw HTML omitted -->
<p><em>pNormOut</em> [in, out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dxvector3.html"><strong>D3DXVECTOR3</strong></a>*</strong></p>
<p>Optional vector array to be filled with shader-optimal normal vectors for which LDPRT coefficients are optimized. This array must be the same size as the number of samples in pDataIn. If <strong>NULL</strong>, surface normal vectors are used.</p>
<!-- raw HTML omitted -->
<p><em>pDataOut</em> [in, out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxprtbuffer.html"><strong>LPD3DXPRTBUFFER</strong></a></strong></p>
<p>Pointer to an output <a href="id3dxprtbuffer.html"><strong>ID3DXPRTBuffer</strong></a> object that contains Order zonal harmonic coefficients per color channel per sample.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the method succeeds, the return value is D3D_OK. If the method fails, the return value can be one of the following: D3DERR_INVALIDCALL, E_OUTOFMEMORY.</p>
<h2>Remarks</h2>
<p>Solutions for shading normal vectors can optionally be obtained with this method. These normal vectors, along with the LDPRT coefficients, can more accurately represent the PRT signal. In this case, the coefficients represent zonal harmonics oriented in the normal direction.</p>
<p>This method cannot be used with results from <a href="id3dxprtengine--computesurfsamplesbounce.html"><strong>ID3DXPRTEngine::ComputeSurfSamplesBounce</strong></a> or <a href="id3dxprtengine--computesurfsamplesdirectsh.html"><strong>ID3DXPRTEngine::ComputeSurfSamplesDirectSH</strong></a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3DX9Mesh.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="id3dxprtengine.html">ID3DXPRTEngine</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
