<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DUSAGE</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Usage options that identify how resources are to be used.
ms.assetid: c8823c39-8f17-441c-a42b-de3d7ec02f75
title: D3DUSAGE (D3d9types.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DUSAGE_AUTOGENMIPMAP</li>
<li>D3DUSAGE_DEPTHSTENCIL</li>
<li>D3DUSAGE_DMAP</li>
<li>D3DUSAGE_DONOTCLIP</li>
<li>D3DUSAGE_DYNAMIC</li>
<li>D3DUSAGE_NONSECURE</li>
<li>D3DUSAGE_NPATCHES</li>
<li>D3DUSAGE_POINTS</li>
<li>D3DUSAGE_RENDERTARGET</li>
<li>D3DUSAGE_RTPATCHES</li>
<li>D3DUSAGE_SOFTWAREPROCESSING</li>
<li>D3DUSAGE_TEXTAPI</li>
<li>D3DUSAGE_WRITEONLY</li>
<li>D3DUSAGE_RESTRICTED_CONTENT</li>
<li>D3DUSAGE_RESTRICT_SHARED_RESOURCE</li>
<li>D3DUSAGE_RESTRICT_SHARED_RESOURCE_DRIVER
api_type:</li>
<li>HeaderDef
api_location:</li>
<li>d3d9types.h</li>
</ul>
<hr />
<h1>D3DUSAGE</h1>
<p>Usage options that identify how resources are to be used.</p>
<p>The following table summarizes the available usage options.</p>
<table>
<thead>
<tr>
<th align="left">Constant</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_AUTOGENMIPMAP</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">The resource will automatically generate mipmaps. See <a href="automatic-generation-of-mipmaps.html">Automatic Generation of Mipmaps (Direct3D 9)</a>. Automatic generation of mipmaps is not supported for volume textures and depth stencil surfaces/textures. This usage is not valid for a resource in system memory (<strong>D3DPOOL_SYSTEMMEM</strong>).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_DEPTHSTENCIL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">The resource will be a depth stencil buffer. <strong>D3DUSAGE_DEPTHSTENCIL</strong> can only be used with <strong>D3DPOOL_DEFAULT</strong>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_DMAP</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">The resource will be a displacement map.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_DONOTCLIP</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Set to indicate that the vertex buffer content will never require clipping. When rendering with buffers that have this flag set, the <strong>D3DRS_CLIPPING</strong> render state must be set to false.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_DYNAMIC</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Set to indicate that the vertex buffer requires dynamic memory use. This is useful for drivers because it enables them to decide where to place the buffer. In general, static vertex buffers are placed in video memory and dynamic vertex buffers are placed in AGP memory. Note that there is no separate static use. If you do not specify <strong>D3DUSAGE_DYNAMIC</strong>, the vertex buffer is made static. <strong>D3DUSAGE_DYNAMIC</strong> is strictly enforced through the <strong>D3DLOCK_DISCARD</strong> and <strong>D3DLOCK_NOOVERWRITE</strong> locking flags. As a result, <strong>D3DLOCK_DISCARD</strong> and <strong>D3DLOCK_NOOVERWRITE</strong> are valid only on vertex buffers created with <strong>D3DUSAGE_DYNAMIC</strong>. They are not valid flags on static vertex buffers. For more information, see <a href="managing-resources.html">Managing Resources (Direct3D 9)</a>. <!-- raw HTML omitted --> For more information about using dynamic vertex buffers, see <a href="performance-optimizations.html">Performance Optimizations (Direct3D 9)</a>.<!-- raw HTML omitted --> <strong>D3DUSAGE_DYNAMIC</strong> and <strong>D3DPOOL_MANAGED</strong> are incompatible and should not be used together. See <a href="./d3dpool.html"><strong>D3DPOOL</strong></a>.<!-- raw HTML omitted --> Textures can specify <strong>D3DUSAGE_DYNAMIC</strong>. However, managed textures cannot use <strong>D3DUSAGE_DYNAMIC</strong>. For more information about dynamic textures, see <a href="performance-optimizations.html">Using Dynamic Textures</a>. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_NONSECURE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Allow a shared surface created by a secure application to be opened by a non-secure application that has the shared handle. <!-- raw HTML omitted --> <strong>Differences between Direct3D 9 and Direct3D 9Ex:</strong> This flag is available in Direct3D 9Ex only.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_NPATCHES</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Set to indicate that the vertex buffer is to be used for drawing N-patches.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_POINTS</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Set to indicate that the vertex or index buffer will be used for drawing point sprites. The buffer will be loaded in system memory if software vertex processing is needed to emulate point sprites.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_RENDERTARGET</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">The resource will be a render target. <strong>D3DUSAGE_RENDERTARGET</strong> can only be used with <strong>D3DPOOL_DEFAULT</strong>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_RTPATCHES</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Set to indicate that the vertex buffer is to be used for drawing high-order primitives.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_SOFTWAREPROCESSING</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">If this flag is used, vertex processing is done in software. If this flag is not used, vertex processing is done in hardware.<!-- raw HTML omitted --> The <strong>D3DUSAGE_SOFTWAREPROCESSING</strong> flag can be set when mixed-mode or software vertex processing (<strong>D3DCREATE_MIXED_VERTEXPROCESSING</strong> / <strong>D3DCREATE_SOFTWARE_VERTEXPROCESSING</strong>) is enabled for that device. <strong>D3DUSAGE_SOFTWAREPROCESSING</strong> must be set for buffers to be used with software vertex processing in mixed mode, but it should not be set for the best possible performance when using hardware index processing in mixed mode (<strong>D3DCREATE_HARDWARE_VERTEXPROCESSING</strong>). However, setting <strong>D3DUSAGE_SOFTWAREPROCESSING</strong> is the only option when a single buffer is used with both hardware and software vertex processing. <strong>D3DUSAGE_SOFTWAREPROCESSING</strong> is allowed for mixed and software devices.<!-- raw HTML omitted --> <strong>D3DUSAGE_SOFTWAREPROCESSING</strong> is used with <a href="/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat"><strong>CheckDeviceFormat</strong></a> to find out if a particular texture format can be used as a vertex texture during software vertex processing. If it can, the texture must be created in <strong>D3DPOOL_SCRATCH</strong>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_TEXTAPI</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">This usage flag must be specified for vertex buffers and source surfaces, used in calls to <a href="/windows/desktop/api/d3d9/nf-d3d9-idirect3ddevice9ex-composerects"><strong>ComposeRects</strong></a>. T extures created with this usage flag cannot be used for texture filtering. Vertex buffers, created with this usage flag, cannot be used as input stream sources. <!-- raw HTML omitted --> <strong>Differences between Direct3D 9 and Direct3D 9Ex:</strong> This flag is available in Direct3D 9Ex only.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_WRITEONLY</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Informs the system that the application writes only to the vertex buffer. Using this flag enables the driver to choose the best memory location for efficient write operations and rendering. Attempts to read from a vertex buffer that is created with this capability will fail. Buffers created with <strong>D3DPOOL_DEFAULT</strong> that do not specify <strong>D3DUSAGE_WRITEONLY</strong> may suffer a severe performance penalty. <strong>D3DUSAGE_WRITEONLY</strong> only affects the performance of <strong>D3DPOOL_DEFAULT</strong> buffers.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_RESTRICTED_CONTENT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Setting this flag indicates that the resource might contain protected content.<!-- raw HTML omitted --> <strong>Differences between Direct3D 9 and Direct3D 9Ex:</strong> This flag is available in Direct3D 9Ex only.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_RESTRICT_SHARED_RESOURCE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Setting this flag indicates that access to the shared resource should be restricted. <!-- raw HTML omitted --> <strong>Differences between Direct3D 9 and Direct3D 9Ex:</strong> This flag is available in Direct3D 9Ex only.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DUSAGE_RESTRICT_SHARED_RESOURCE_DRIVER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Setting this flag indicates that the driver should restrict access to the shared resource. The caller must create an authenticated channel with the driver. The driver should then allow access to processes that attempt to open that shared resource.<!-- raw HTML omitted --> <strong>Differences between Direct3D 9 and Direct3D 9Ex:</strong> This flag is available in Direct3D 9Ex only.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<h3>Usage and Resource Combinations</h3>
<p>Usages are either specified when a resource is created, or specified with <a href="/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdevicetype"><strong>CheckDeviceType</strong></a> to test the capability of an existing resource. The following table identifies which usages can be applied to which resource types.</p>
<table>
<thead>
<tr>
<th>Usage</th>
<th>Vertex buffer create</th>
<th>Index buffer create</th>
<th>Texture create</th>
<th>Cube texture create</th>
<th>Volume texture create</th>
<th>Surface create</th>
<th>Check device format</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>D3DUSAGE_AUTOGENMIPMAP</strong></td>
<td></td>
<td>yes                yes</td>
<td></td>
<td>yes</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_DEPTHSTENCIL</strong></td>
<td></td>
<td>yes                yes</td>
<td>yes                yes</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_DMAP</strong></td>
<td></td>
<td>yes</td>
<td></td>
<td></td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_DONOTCLIP</strong>           yes                      yes</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_DYNAMIC</strong>             yes                      yes                     yes                yes                     yes</td>
<td>yes</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_NONSECURE</strong>           yes                      yes                     yes                yes                     yes                       yes                yes</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_NPATCHES</strong>            yes                      yes</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_POINTS</strong>              yes                      yes</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_RTPATCHES</strong>           yes                      yes</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_RENDERTARGET</strong></td>
<td></td>
<td>yes                yes</td>
<td>yes                yes</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_SOFTWAREPROCESSING</strong>  yes                      yes                     yes                yes                     yes</td>
<td>yes</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_TEXTAPI</strong>             yes</td>
<td>yes</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>D3DUSAGE_WRITEONLY</strong>           yes                      yes</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Use <a href="/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat"><strong>CheckDeviceFormat</strong></a> to check hardware support for these usages.</p>
<p>Each of the resource creation methods is listed here.</p>
<ul>
<li><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createcubetexture"><strong>CreateCubeTexture</strong></a></li>
<li><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createdepthstencilsurface"><strong>CreateDepthStencilSurface</strong></a></li>
<li><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createindexbuffer"><strong>CreateIndexBuffer</strong></a></li>
<li><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createoffscreenplainsurface"><strong>CreateOffscreenPlainSurface</strong></a></li>
<li><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createrendertarget"><strong>CreateRenderTarget</strong></a></li>
<li><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createtexture"><strong>CreateTexture</strong></a></li>
<li><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvertexbuffer"><strong>CreateVertexBuffer</strong></a></li>
<li><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvolumetexture"><strong>CreateVolumeTexture</strong></a></li>
</ul>
<p>The <a href="dx9-graphics-reference-d3dx-functions-texture.html">D3DXCreatexxx</a> texturing functions also use some of these constant values for resource creation.</p>
<p>For more information about pool types and their restrictions with certain usages, see <a href="./d3dpool.html"><strong>D3DPOOL</strong></a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3d9types.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3d-constants.html">Direct3D Constants</a></p>
<!-- raw HTML omitted -->
<p><a href="d3dusage-query.html">D3DUSAGE_QUERY</a></p>
<!-- raw HTML omitted -->
<p><a href="./d3ddeclusage.html"><strong>D3DDECLUSAGE</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="./d3dpool.html"><strong>D3DPOOL</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
