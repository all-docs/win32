<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXComputeTangentFrame function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Compute tangent, binormal, and normal vectors for a mesh.
ms.assetid: 54edb9a5-440d-4191-a58f-296e5b804e0c
title: D3DXComputeTangentFrame function (D3DX9Mesh.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXComputeTangentFrame
api_type:</li>
<li>LibDef
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>D3DXComputeTangentFrame function</h1>
<p>Compute tangent, binormal, and normal vectors for a mesh.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXComputeTangentFrame(
  _In_Â ID3DXMesh *pMesh,
  _In_Â DWORD Â Â Â Â dwOptions
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pMesh</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxmesh.html"><strong>ID3DXMesh</strong></a>*</strong></p>
<p>Pointer to an input <a href="id3dxmesh.html"><strong>ID3DXMesh</strong></a> mesh object.</p>
<!-- raw HTML omitted -->
<p><em>dwOptions</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>Combination of one or more <a href="./d3dxtangent.html"><strong>D3DXTANGENT</strong></a> flags.</p>
<p>Use <strong>NULL</strong> to specify the following options:</p>
<ul>
<li>Weight the normal vector length by the angle, in radians, subtended by the two edges leaving the vertex.</li>
<li>Compute orthogonal Cartesian coordinates from the UV texture coordinates.</li>
<li>Textures are not wrapped in either U or V directions</li>
<li>Partial derivatives with respect to texture coordinates are normalized.</li>
<li>Vertices are ordered in a counterclockwise direction around each triangle.</li>
<li>Use per-vertex normal vectors already present in the input mesh.</li>
<li>The results will be stored in the original input mesh. The function will fail if new vertices need to be created.</li>
</ul>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is S_OK. If the function fails, the return value can be one of the following: D3DERR_INVALIDCALL, D3DXERR_INVALIDDATA, E_OUTOFMEMORY.</p>
<h2>Remarks</h2>
<p>This function simply calls <a href="d3dxcomputetangentframeex.html"><strong>D3DXComputeTangentFrameEx</strong></a> with the following input parameters:</p>
<pre><code>D3DXComputeTangentFrameEx(pMesh, D3DDECLUSAGE_TEXCOORD, 0,   
      D3DDECLUSAGE_BINORMAL, 0, D3DDECLUSAGE_TANGENT, 0, 
      D3DDECLUSAGE_NORMAL, 0, 
      dwOptions | D3DXTANGENT_GENERATE_IN_PLACE,
      NULL, 0.01f, 0.25f, 0.01f, NULL, NULL);
</code></pre>
<p>Singularities are handled as required by grouping edges and splitting vertices. If any vertices need to be split, the function will fail. The computed normal vector at each vertex is always normalized to have unit length.</p>
<p>The most robust solution for computing orthogonal Cartesian coordinates is to not set flags D3DXTANGENT_ORTHOGONALIZE_FROM_U and D3DXTANGENT_ORTHOGONALIZE_FROM_V, so that orthogonal coordinates are computed from both UV texture coordinates. However, in this case, if either U or V is zero, then the function will compute orthogonal coordinates using D3DXTANGENT_ORTHOGONALIZE_FROM_V or D3DXTANGENT_ORTHOGONALIZE_FROM_U respectively.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3DX9Mesh.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-functions-mesh.html">Mesh Functions</a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxcomputetangentframeex.html"><strong>D3DXComputeTangentFrameEx</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="./d3dxtangent.html"><strong>D3DXTANGENT</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
