<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Auto-generated texture coordinates (Direct3D 9)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Auto-generated texture coordinates (Direct3D 9)
description: The system can use the transformed camera-space position or the normal from a vertex as texture coordinates, or it can compute the three element vectors used to address a cubic environment map.
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Auto-generated texture coordinates (Direct3D 9)</h1>
<p>The system can use the transformed camera-space position or the normal from a vertex as texture coordinates, or it can compute the three element vectors used to address a cubic environment map. Like texture coordinates that you explicitly specify in a vertex, you can use automatically generated texture coordinates as input for texture coordinate transformations.</p>
<p>Automatically generated texture coordinates can significantly reduce the bandwidth required for geometry data by eliminating the need for explicit texture coordinates in the vertex format. In many cases, the texture coordinates that the system generates can be used with transformations to produce special effects. Of course, this is a special-purpose feature, and you will use explicit texture coordinates for many occasions.</p>
<h2>Configuring Automatically Generated Texture Coordinates</h2>
<p>In C++, the D3DTSS_TEXCOORDINDEX texture-stage state (from the <a href="./d3dtexturestagestatetype.html"><strong>D3DTEXTURESTAGESTATETYPE</strong></a> enumerated type) controls how the system generates texture coordinates.</p>
<p>Normally, this state instructs the system to use a particular set of texture coordinates encoded in the vertex format. When you include the D3DTSS_TCI_CAMERASPACENORMAL, D3DTSS_TCI_CAMERASPACEPOSITION, or D3DTSS_TCI_CAMERASPACEREFLECTIONVECTOR flags in the value that you assign to this state, the system behavior is quite different. If any of these flags are present, the texture stage ignores the texture coordinates within the vertex format in favor of coordinates that the system generates. The meanings for each flag are shown in the following list.</p>
<ul>
<li>
<p>D3DTSS_TCI_CAMERASPACENORMAL</p>
<p>Use the vertex normal, transformed to camera space, as input texture coordinates.</p>
</li>
<li>
<p>D3DTSS_TCI_CAMERASPACEPOSITION</p>
<p>Use the vertex position, transformed to camera space, as input texture coordinates.</p>
</li>
<li>
<p>D3DTSS_TCI_CAMERASPACEREFLECTIONVECTOR</p>
<p>Use the reflection vector, transformed to camera space, as input texture coordinates. The reflection vector is computed from the input vertex position and normal vector.</p>
</li>
</ul>
<p>The texture coordinate index flags are mutually exclusive. This example uses:</p>
<ul>
<li>The vertex position (in camera-space) as the input texture coordinates for this texture stage</li>
<li>The wrap mode set in the D3DRENDERSTATE_WRAP1 render state</li>
</ul>
<pre><code>// Assume d3dDevice is a valid pointer to an IDirect3DDevice9 interface
d3dDevice-&gt;SetTextureStageState(0, D3DTSS_TEXCOORDINDEX, 
                                   D3DTSS_TCI_CAMERASPACEPOSITION | 1);
</code></pre>
<p>Automatically generated texture coordinates are most useful as input values for a texture coordinate transformation, or to eliminate the need for your application to compute three-element vectors for cubic-environment maps.</p>
<p>Sphere-mapping uses a precomputed (at model time) texture map that contains the entire environment as reflected by a chrome sphere. Direct3D has a texture-coordinate generation feature using render state D3DTSS_TCI_CAMERASPACENORMAL, which takes the normal of the vertex in camera space and puts it through a texture transform to generate texture coordinates.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="texture-coordinate-processing.html">Texture Coordinate Processing</a></p>
<!-- raw HTML omitted -->
<p><a href="texture-coordinate-transformations.html">Texture Coordinate Transformations (Direct3D 9)</a></p>
<!-- raw HTML omitted -->
<p><a href="cubic-environment-mapping.html">Cubic Environment Mapping (Direct3D 9)</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
