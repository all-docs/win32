<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXComputeNormals function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Computes unit normals for each vertex in a mesh. Provided to support legacy applications. Use D3DXComputeTangentFrameEx for better results.
ms.assetid: 7c879149-2c4c-4824-9604-e88696cc6ddc
title: D3DXComputeNormals function (D3DX9Mesh.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXComputeNormals
api_type:</li>
<li>LibDef
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>D3DXComputeNormals function</h1>
<p>Computes unit normals for each vertex in a mesh. Provided to support legacy applications. Use <a href="d3dxcomputetangentframeex.html"><strong>D3DXComputeTangentFrameEx</strong></a> for better results.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXComputeNormals(
  _Inout_Â Â Â Â Â Â Â LPD3DXBASEMESH pMesh,
  _In_Â Â Â Â const DWORD Â Â Â Â Â Â Â Â Â *pAdjacency
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pMesh</em> [in, out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxbasemesh.html"><strong>LPD3DXBASEMESH</strong></a></strong></p>
<p>Pointer to an <a href="id3dxbasemesh.html"><strong>ID3DXBaseMesh</strong></a> interface, representing the normalized mesh object.</p>
<!-- raw HTML omitted -->
<p><em>pAdjacency</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a>*</strong></p>
<p>Pointer to an array of three DWORDs per face that specify the three neighbors for each face in the created progressive mesh. This parameter is optional and should be set to <strong>NULL</strong> if it is unused.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is S_OK. If the function fails, the return value can be one of the following: D3DERR_INVALIDCALL, D3DXERR_INVALIDDATA, E_OUTOFMEMORY.</p>
<h2>Remarks</h2>
<p>The input mesh must have the <a href="d3dfvf.html">D3DFVF_NORMAL</a> flag specified in its flexible vertex format (FVF).</p>
<p>A normal for a vertex is generated by averaging the normals of all faces that share that vertex.</p>
<p>If adjacency is provided, replicated vertices are ignored and &quot;smoothed&quot; over. If adjacency is not provided, replicated vertices will have normals averaged in from only the faces explicitly referencing them.</p>
<p>This function simply calls <a href="d3dxcomputetangentframeex.html"><strong>D3DXComputeTangentFrameEx</strong></a> with the following input parameters:</p>
<pre><code>D3DXComputeTangentFrameEx( pMesh,
                           D3DX_DEFAULT,
                           0,
                           D3DX_DEFAULT,
                           0,
                           D3DX_DEFAULT,
                           0,
                           D3DDECLUSAGE_NORMAL,
                           0,
                           D3DXTANGENT_GENERATE_IN_PLACE | D3DXTANGENT_CALCULATE_NORMALS,
                           pAdjacency,
                           -1.01f,
                           -0.01f,
                           -1.01f,
                           NULL,
                           NULL);
</code></pre>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3DX9Mesh.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-functions-mesh.html">Mesh Functions</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
