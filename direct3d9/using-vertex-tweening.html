<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Using Vertex Tweening (Direct3D 9)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: To determine if Direct3D supports vertex tweening, check for the D3DVTXPCAPS_TWEENING flag in the VertexProcessingCaps member of the D3DCAPS9 structure.
ms.assetid: b60c7f96-3752-4703-9059-486d9906c508
title: Using Vertex Tweening (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Using Vertex Tweening (Direct3D 9)</h1>
<p>To determine if Direct3D supports vertex tweening, check for the D3DVTXPCAPS_TWEENING flag in the VertexProcessingCaps member of the <a href="/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9"><strong>D3DCAPS9</strong></a> structure. The following code example uses the <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getdevicecaps"><strong>IDirect3DDevice9::GetDeviceCaps</strong></a> method to determine if tweening is supported.</p>
<pre><code>// This example assumes that m_pD3DDevice is 
// a valid pointer to a IDirect3DDevice9 interface.
//
D3DCAPS9 d3dCaps;

m_pD3DDevice-&gt;GetDeviceCaps( &amp;d3dCaps );
if( 0 != (d3dCaps.VertexProcessingCaps &amp; D3DVTXPCAPS_TWEENING) )
    // Vertex tweening is supported.
</code></pre>
<p>To use vector tweening, you must first set up a custom vertex type that uses a second normal or a second position. The following code example shows a sample declaration that includes both a second point and a second position.</p>
<pre><code>struct TEX_VERTEX
{
    D3DVECTOR position;
    D3DVECTOR normal;
    D3DVECTOR position2;
    D3DVECTOR normal2;
};

//Create a vertex buffer with the type TEX_VERTEX.
</code></pre>
<p>The next step is to set the current declaration. The code example below shows how to do this.</p>
<pre><code>// Create the shader declaration.
D3DVERTEXELEMENT9 decl[] = 
{
    { 0, 0,  D3DDECLTYPE_FLOAT3, D3DDECLMETHOD_DEFAULT, D3DDECLUSAGE_POSITION, 0 },
    { 0, 12, D3DDECLTYPE_FLOAT3, D3DDECLMETHOD_DEFAULT, D3DDECLUSAGE_NORMAL, 0 },
    { 0, 24, D3DDECLTYPE_FLOAT3, D3DDECLMETHOD_DEFAULT, D3DDECLUSAGE_POSITION, 1 },
    { 0, 36, D3DDECLTYPE_FLOAT3, D3DDECLMETHOD_DEFAULT, D3DDECLUSAGE_NORMAL, 1 },
    D3DDECL_END()
};
</code></pre>
<p>For more information about creating a custom vertex type and a vertex buffer, see <a href="creating-a-vertex-buffer.html">Creating a Vertex Buffer (Direct3D 9)</a>.</p>
<blockquote>
<p>[!Note]<br />
When vertex tweening is enabled, a second position or a second normal must be present in the current declaration.</p>
</blockquote>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="vertex-tweening.html">Vertex Tweening</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
