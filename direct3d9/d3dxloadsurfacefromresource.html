<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXLoadSurfaceFromResource function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Loads a surface from a resource.
ms.assetid: 16d49f61-8c84-4e15-aacc-1d26099e65e0
title: D3DXLoadSurfaceFromResource function (D3dx9tex.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXLoadSurfaceFromResource
api_type:</li>
<li>LibDef
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>D3DXLoadSurfaceFromResource function</h1>
<p>Loads a surface from a resource.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXLoadSurfaceFromResource(
  _In_Â Â Â Â Â Â Â Â Â Â LPDIRECT3DSURFACE9 pDestSurface,
  _In_Â Â Â Â const PALETTEENTRY Â Â Â Â Â Â *pDestPalette,
  _In_Â Â Â Â const RECT Â Â Â Â Â Â Â Â Â Â Â Â Â Â *pDestRect,
  _In_Â Â Â Â Â Â Â Â Â Â HMODULE Â Â Â Â Â Â Â Â Â Â Â hSrcModule,
  _In_Â Â Â Â Â Â Â Â Â Â LPCTSTR Â Â Â Â Â Â Â Â Â Â Â pSrcResource,
  _In_Â Â Â Â const RECT Â Â Â Â Â Â Â Â Â Â Â Â Â Â *pSrcRect,
  _In_Â Â Â Â Â Â Â Â Â Â DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Filter,
  _In_Â Â Â Â Â Â Â Â Â Â D3DCOLOR Â Â Â Â Â Â Â Â Â Â ColorKey,
  _Inout_Â Â Â Â Â Â Â D3DXIMAGE_INFO Â Â Â Â *pSrcInfo
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pDestSurface</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dsurface9"><strong>LPDIRECT3DSURFACE9</strong></a></strong></p>
<p>Pointer to an <a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dsurface9"><strong>IDirect3DSurface9</strong></a> interface. Specifies the destination surface, which receives the image.</p>
<!-- raw HTML omitted -->
<p><em>pDestPalette</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="/windows/win32/api/wingdi/ns-wingdi-paletteentry"><strong>PALETTEENTRY</strong></a>*</strong></p>
<p>Pointer to a <a href="/windows/win32/api/wingdi/ns-wingdi-paletteentry"><strong>PALETTEENTRY</strong></a> structure, the destination palette of 256 colors or <strong>NULL</strong>.</p>
<!-- raw HTML omitted -->
<p><em>pDestRect</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="/windows/win32/api/windef/ns-windef-rect"><strong>RECT</strong></a>*</strong></p>
<p>Pointer to a <a href="/windows/win32/api/windef/ns-windef-rect"><strong>RECT</strong></a> structure. Specifies the destination rectangle. Set this parameter to <strong>NULL</strong> to specify the entire surface.</p>
<!-- raw HTML omitted -->
<p><em>hSrcModule</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>HMODULE</strong></a></strong></p>
<p>Handle to the module where the resource is located, or <strong>NULL</strong> for module associated with the image the operating system used to create the current process.</p>
<!-- raw HTML omitted -->
<p><em>pSrcResource</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPCTSTR</strong></a></strong></p>
<p>Pointer to a string that specifies the resource name. If the compiler settings require Unicode, the data type LPCTSTR resolves to LPCWSTR. Otherwise, the string data type resolves to LPCSTR. See Remarks.</p>
<!-- raw HTML omitted -->
<p><em>pSrcRect</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="/windows/win32/api/windef/ns-windef-rect"><strong>RECT</strong></a>*</strong></p>
<p>Pointer to a <a href="/windows/win32/api/windef/ns-windef-rect"><strong>RECT</strong></a> structure. Specifies the source rectangle. Set this parameter to <strong>NULL</strong> to specify the entire image.</p>
<!-- raw HTML omitted -->
<p><em>Filter</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>Combination of one or more <a href="d3dx-filter.html">D3DX_FILTER</a> controlling how the image is filtered. Specifying D3DX_DEFAULT for this parameter is the equivalent of specifying D3DX_FILTER_TRIANGLE | D3DX_FILTER_DITHER.</p>
<!-- raw HTML omitted -->
<p><em>ColorKey</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dcolor.html"><strong>D3DCOLOR</strong></a></strong></p>
<p><a href="d3dcolor.html"><strong>D3DCOLOR</strong></a> value to replace with transparent black, or 0 to disable the colorkey. This is always a 32-bit ARGB color, independent of the source image format. Alpha is significant and should usually be set to FF for opaque color keys Thus, for opaque black, the value would be equal to 0xFF000000.</p>
<!-- raw HTML omitted -->
<p><em>pSrcInfo</em> [in, out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dximage-info.html"><strong>D3DXIMAGE_INFO</strong></a>*</strong></p>
<p>Pointer to a <a href="d3dximage-info.html"><strong>D3DXIMAGE_INFO</strong></a> structure to be filled with a description of the data in the source image file, or <strong>NULL</strong>.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is D3D_OK. If the function fails, the return value can be one of the following values: D3DERR_INVALIDCALL, D3DXERR_INVALIDDATA.</p>
<h2>Remarks</h2>
<p>The compiler setting also determines the function version. If Unicode is defined, the function call resolves to D3DXLoadSurfaceFromResourceW. Otherwise, the function call resolves to D3DXLoadSurfaceFromResourceA because ANSI strings are being used.</p>
<p>The resource being loaded must be of type RT_BITMAP or RT_RCDATA. Resource type RT_RCDATA is used to load formats other than bitmaps (such as .tga, .jpg, and .dds).</p>
<p>This function handles conversion to and from compressed texture formats.</p>
<p>Writing to a non-level-zero surface will not cause the dirty rectangle to be updated. If <a href="d3dxloadsurfacefromfile.html"><strong>D3DXLoadSurfaceFromFile</strong></a> is called and the surface was not already dirty (this is unlikely under normal usage scenarios), the application needs to explicitly call <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dtexture9-adddirtyrect"><strong>AddDirtyRect</strong></a> on the surface.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9tex.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-functions-texture.html">Texture Functions in D3DX 9</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
