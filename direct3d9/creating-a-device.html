<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Creating a Device (Direct3D 9)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: To create a Direct3D device, first create a Direct3D object (see Direct3DCreate9).
ms.assetid: 06810f31-fa6c-416e-bd7b-65cfb3e6d7f2
title: Creating a Device (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Creating a Device (Direct3D 9)</h1>
<p>To create a Direct3D device, first create a Direct3D object (see <a href="/windows/win32/api/d3d9/nf-d3d9-direct3dcreate9"><strong>Direct3DCreate9</strong></a>). All rendering devices created by a Direct3D object share the same physical resources. If you create multiple rendering devices from a single Direct3D object, extreme performance penalties will be incurred because they share the same hardware.</p>
<p>First, initialize values for the <a href="d3dpresent-parameters.html"><strong>D3DPRESENT_PARAMETERS</strong></a> structure that is used to create the Direct3D device. The following code example specifies a windowed application where the back buffer is copied to the front buffer during a vertical sync operation only.</p>
<pre><code>LPDIRECT3DDEVICE9 d3dDevice = NULL;

D3DPRESENT_PARAMETERS d3dpp; 

ZeroMemory( &amp;d3dpp, sizeof(d3dpp) );
d3dpp.Windowed   = TRUE;
d3dpp.SwapEffect = D3DSWAPEFFECT_COPY;
</code></pre>
<p>Next, create the Direct3D device. The following <a href="/windows/win32/api/d3d9/nf-d3d9-idirect3d9-createdevice"><strong>IDirect3D9::CreateDevice</strong></a> call specifies the default adapter, a hardware abstraction layer (HAL) device, and software vertex processing.</p>
<pre><code>if( FAILED( g_pD3D-&gt;CreateDevice( D3DADAPTER_DEFAULT, D3DDEVTYPE_HAL, hWnd,
                                    D3DCREATE_SOFTWARE_VERTEXPROCESSING,
                                    &amp;d3dpp, &amp;d3dDevice ) ) )
    return E_FAIL;
</code></pre>
<p>Note that a call to create, release, or reset the device should happen only on the same thread as the window procedure of the focus window.</p>
<p>After creating the device, set its state.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="direct3d-devices.html">Direct3D Devices</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
