<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DTEXTUREOP enumeration</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Defines per-stage texture-blending operations.
ms.assetid: 7bfdcb15-c3c3-4e7e-b924-6ecfa350e2f3
title: D3DTEXTUREOP enumeration (D3D9Types.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DTEXTUREOP
api_type:</li>
<li>HeaderDef
api_location:</li>
<li>D3D9Types.h</li>
</ul>
<hr />
<h1>D3DTEXTUREOP enumeration</h1>
<p>Defines per-stage texture-blending operations.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>typedef enum D3DTEXTUREOP { 
  D3DTOP_DISABLEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 1,
  D3DTOP_SELECTARG1Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 2,
  D3DTOP_SELECTARG2Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 3,
  D3DTOP_MODULATEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 4,
  D3DTOP_MODULATE2XÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 5,
  D3DTOP_MODULATE4XÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 6,
  D3DTOP_ADDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 7,
  D3DTOP_ADDSIGNEDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 8,
  D3DTOP_ADDSIGNED2XÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 9,
  D3DTOP_SUBTRACTÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 10,
  D3DTOP_ADDSMOOTHÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 11,
  D3DTOP_BLENDDIFFUSEALPHAÂ Â Â Â Â Â Â Â Â Â = 12,
  D3DTOP_BLENDTEXTUREALPHAÂ Â Â Â Â Â Â Â Â Â = 13,
  D3DTOP_BLENDFACTORALPHAÂ Â Â Â Â Â Â Â Â Â Â = 14,
  D3DTOP_BLENDTEXTUREALPHAPMÂ Â Â Â Â Â Â Â = 15,
  D3DTOP_BLENDCURRENTALPHAÂ Â Â Â Â Â Â Â Â Â = 16,
  D3DTOP_PREMODULATEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 17,
  D3DTOP_MODULATEALPHA_ADDCOLORÂ Â Â Â Â = 18,
  D3DTOP_MODULATECOLOR_ADDALPHAÂ Â Â Â Â = 19,
  D3DTOP_MODULATEINVALPHA_ADDCOLORÂ Â = 20,
  D3DTOP_MODULATEINVCOLOR_ADDALPHAÂ Â = 21,
  D3DTOP_BUMPENVMAPÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 22,
  D3DTOP_BUMPENVMAPLUMINANCEÂ Â Â Â Â Â Â Â = 23,
  D3DTOP_DOTPRODUCT3Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 24,
  D3DTOP_MULTIPLYADDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 25,
  D3DTOP_LERPÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 26,
  D3DTOP_FORCE_DWORDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â = 0x7fffffff
} D3DTEXTUREOP, *LPD3DTEXTUREOP;
</code></pre>
<h2>Constants</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_DISABLE</strong></p>
<!-- raw HTML omitted -->
<p>Disables output from this texture stage and all stages with a higher index. To disable texture mapping, set this as the color operation for the first texture stage (stage 0). Alpha operations cannot be disabled when color operations are enabled. Setting the alpha operation to D3DTOP_DISABLE when color blending is enabled causes undefined behavior.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_SELECTARG1</strong></p>
<!-- raw HTML omitted -->
<p>Use this texture stage's first color or alpha argument, unmodified, as the output. This operation affects the color argument when used with the D3DTSS_COLOROP texture-stage state, and the alpha argument when used with D3DTSS_ALPHAOP.</p>
<p><img src="images/topfrm1.png" alt="equation of this argument (s(rgba) = arg1)" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_SELECTARG2</strong></p>
<!-- raw HTML omitted -->
<p>Use this texture stage's second color or alpha argument, unmodified, as the output. This operation affects the color argument when used with the D3DTSS_COLOROP texture stage state, and the alpha argument when used with D3DTSS_ALPHAOP.</p>
<p><img src="images/topfrm2.png" alt="equation of this argument (s(rgba) = arg2)" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_MODULATE</strong></p>
<!-- raw HTML omitted -->
<p>Multiply the components of the arguments.</p>
<p><img src="images/topfrm3.png" alt="equation of the modulate operation (s(rgba) = arg1 x arg 2)" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_MODULATE2X</strong></p>
<!-- raw HTML omitted -->
<p>Multiply the components of the arguments, and shift the products to the left 1 bit (effectively multiplying them by 2) for brightening.</p>
<p><img src="images/topfrm4.png" alt="equation of the modulate2x operation (s(rgba) = (arg1 x arg 2) then shift left 1)" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_MODULATE4X</strong></p>
<!-- raw HTML omitted -->
<p>Multiply the components of the arguments, and shift the products to the left 2 bits (effectively multiplying them by 4) for brightening.</p>
<p><img src="images/topfrm5.png" alt="equation of the modulate4x operation (s(rgba) = (arg1 x arg 2) then shift left 2)" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_ADD</strong></p>
<!-- raw HTML omitted -->
<p>Add the components of the arguments.</p>
<p><img src="images/topfrm6.png" alt="equation of the add operation (s(rgba) = arg1 + arg 2)" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_ADDSIGNED</strong></p>
<!-- raw HTML omitted -->
<p>Add the components of the arguments with a - 0.5 bias, making the effective range of values from - 0.5 through 0.5.</p>
<p><img src="images/topfrm7.png" alt="equation of the add signed operation (s(rgba) = arg1 + arg 2 â€“ 0.5)" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_ADDSIGNED2X</strong></p>
<!-- raw HTML omitted -->
<p>Add the components of the arguments with a - 0.5 bias, and shift the products to the left 1 bit.</p>
<p><img src="images/topfrm8.png" alt="equation of the add signed 2x operation ((s(rgba) = arg1 + arg 2 - 0.5) then shift left 1)" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_SUBTRACT</strong></p>
<!-- raw HTML omitted -->
<p>Subtract the components of the second argument from those of the first argument.</p>
<p><img src="images/topfrm9.png" alt="equation of the subtract operation (s(rgba) = arg1 - arg 2)" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_ADDSMOOTH</strong></p>
<!-- raw HTML omitted -->
<p>Add the first and second arguments; then subtract their product from the sum.</p>
<p><img src="images/topfrm10.png" alt="equation of the add smooth operation (s(rgba) = arg1 + arg 2 x (1 - arg1))" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_BLENDDIFFUSEALPHA</strong></p>
<!-- raw HTML omitted -->
<p>Linearly blend this texture stage, using the interpolated alpha from each vertex.</p>
<p><img src="images/topfrm11.png" alt="equation of the blend diffuse alpha operation (s(rgba) = arg1 x alpha + arg 2 x (1 - alpha))" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_BLENDTEXTUREALPHA</strong></p>
<!-- raw HTML omitted -->
<p>Linearly blend this texture stage, using the alpha from this stage's texture.</p>
<p><img src="images/topfrm11.png" alt="equation of the blend texture alpha operation (s(rgba) = arg1 x alpha + arg 2 x (1 - alpha))" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_BLENDFACTORALPHA</strong></p>
<!-- raw HTML omitted -->
<p>Linearly blend this texture stage, using a scalar alpha set with the D3DRS_TEXTUREFACTOR render state.</p>
<p><img src="images/topfrm11.png" alt="equation of the blend factor alpha operation (s(rgba) = arg1 x alpha + arg 2 x (1 - alpha))" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_BLENDTEXTUREALPHAPM</strong></p>
<!-- raw HTML omitted -->
<p>Linearly blend a texture stage that uses a premultiplied alpha.</p>
<p><img src="images/topfrm12.png" alt="equation of the blend texture alpha pm operation (s(rgba) = arg1 + arg 2 x (1 - alpha))" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_BLENDCURRENTALPHA</strong></p>
<!-- raw HTML omitted -->
<p>Linearly blend this texture stage, using the alpha taken from the previous texture stage.</p>
<p><img src="images/topfrm11.png" alt="equation of the blend current alpha operation (s(rgba) = arg1 x alpha + arg2 x (1 - alpha))" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_PREMODULATE</strong></p>
<!-- raw HTML omitted -->
<p>D3DTOP_PREMODULATE is set in stage n. The output of stage n is arg1. Additionally, if there is a texture in stage n + 1, any D3DTA_CURRENT in stage n + 1 is premultiplied by texture in stage n + 1.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_MODULATEALPHA_ADDCOLOR</strong></p>
<!-- raw HTML omitted -->
<p>Modulate the color of the second argument, using the alpha of the first argument; then add the result to argument one. This operation is supported only for color operations (D3DTSS_COLOROP).</p>
<p><img src="images/topfrm13.png" alt="equation of the add color modulate alpha operation (s(rgba) = arg1(rgb) + arg1(a) x arg2(rgb))" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_MODULATECOLOR_ADDALPHA</strong></p>
<!-- raw HTML omitted -->
<p>Modulate the arguments; then add the alpha of the first argument. This operation is supported only for color operations (D3DTSS_COLOROP).</p>
<p><img src="images/topfrm14.png" alt="equation of the add alpha modulate color operation (s(rgba) = arg1(rgb) x arg2(rgb) + arg1(a))" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_MODULATEINVALPHA_ADDCOLOR</strong></p>
<!-- raw HTML omitted -->
<p>Similar to D3DTOP_MODULATEALPHA_ADDCOLOR, but use the inverse of the alpha of the first argument. This operation is supported only for color operations (D3DTSS_COLOROP).</p>
<p><img src="images/topfrm15.png" alt="equation of the add color modulate inverse alpha operation (s(rgba) = (1 - arg1(a)) x arg2(rgb) + arg1(rgb))" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_MODULATEINVCOLOR_ADDALPHA</strong></p>
<!-- raw HTML omitted -->
<p>Similar to D3DTOP_MODULATECOLOR_ADDALPHA, but use the inverse of the color of the first argument. This operation is supported only for color operations (D3DTSS_COLOROP).</p>
<p><img src="images/topfrm16.png" alt="equation of the add alpha modulate inverse color operation (s(rgba) = (1 - arg1(rgb)) x arg2(rgb) + arg1(a))" /></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_BUMPENVMAP</strong></p>
<!-- raw HTML omitted -->
<p>Perform per-pixel bump mapping, using the environment map in the next texture stage, without luminance. This operation is supported only for color operations (D3DTSS_COLOROP).</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_BUMPENVMAPLUMINANCE</strong></p>
<!-- raw HTML omitted -->
<p>Perform per-pixel bump mapping, using the environment map in the next texture stage, with luminance. This operation is supported only for color operations (D3DTSS_COLOROP).</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_DOTPRODUCT3</strong></p>
<!-- raw HTML omitted -->
<p>Modulate the components of each argument as signed components, add their products; then replicate the sum to all color channels, including alpha. This operation is supported for color and alpha operations.</p>
<p><img src="images/topfrm17.png" alt="equation of the dot product 3 operation (s(rgba) = arg1(r) x arg2(r) + arg1(g) x arg2(g) + arg1(b) x arg2(b))" /></p>
<p>In DirectX 6 and DirectX 7, multitexture operations the above inputs are all shifted down by half (y = x - 0.5) before use to simulate signed data, and the scalar result is automatically clamped to positive values and replicated to all three output channels. Also, note that as a color operation this does not updated the alpha it just updates the RGB components.</p>
<p>However, in DirectX 8.1 shaders you can specify that the output be routed to the .rgb or the .a components or both (the default). You can also specify a separate scalar operation on the alpha channel.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_MULTIPLYADD</strong></p>
<!-- raw HTML omitted -->
<p>Performs a multiply-accumulate operation. It takes the last two arguments, multiplies them together, and adds them to the remaining input/source argument, and places that into the result.</p>
<p>S<!-- raw HTML omitted -->RGBA<!-- raw HTML omitted --> = Arg1 + Arg2 * Arg3</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_LERP</strong></p>
<!-- raw HTML omitted -->
<p>Linearly interpolates between the second and third source arguments by a proportion specified in the first source argument.</p>
<p>S<!-- raw HTML omitted -->RGBA<!-- raw HTML omitted --> = (Arg1) * Arg2 + (1- Arg1) * Arg3.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>D3DTOP_FORCE_DWORD</strong></p>
<!-- raw HTML omitted -->
<p>Forces this enumeration to compile to 32 bits in size. Without this value, some compilers would allow this enumeration to compile to a size other than 32 bits. This value is not used.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The members of this type are used when setting color or alpha operations by using the D3DTSS_COLOROP or D3DTSS_ALPHAOP values with the <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-settexturestagestate"><strong>IDirect3DDevice9::SetTextureStageState</strong></a> method.</p>
<p>In the above formulas, S<!-- raw HTML omitted -->RGBA<!-- raw HTML omitted --> is the RGBA color produced by a texture operation, and Arg1, Arg2, and Arg3 represent the complete RGBA color of the texture arguments. Individual components of an argument are shown with subscripts. For example, the alpha component for argument 1 would be shown as Arg1<!-- raw HTML omitted -->A<!-- raw HTML omitted -->.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3D9Types.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3d-enums.html">Direct3D Enumerations</a></p>
<!-- raw HTML omitted -->
<p><a href="./d3dtexturestagestatetype.html"><strong>D3DTEXTURESTAGESTATETYPE</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
