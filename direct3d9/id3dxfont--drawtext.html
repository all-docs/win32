<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ID3DXFont::DrawText method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Draws formatted text. This method supports ANSI and Unicode strings.
ms.assetid: c1c3657e-632e-46a5-91da-e102ac8ef9bb
title: ID3DXFont::DrawText method (D3dx9core.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>ID3DXFont.DrawText
api_type:</li>
<li>COM
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>ID3DXFont::DrawText method</h1>
<p>Draws formatted text. This method supports ANSI and Unicode strings.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>INT DrawText(
  [in]Â LPD3DXSPRITE pSprite,
  [in]Â LPCTSTR Â Â Â Â Â pString,
  [in]Â INT Â Â Â Â Â Â Â Â Â Count,
  [in]Â LPRECT Â Â Â Â Â Â pRect,
  [in]Â DWORD Â Â Â Â Â Â Â Format,
  [in]Â D3DCOLOR Â Â Â Â Color
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pSprite</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxsprite.html"><strong>LPD3DXSPRITE</strong></a></strong></p>
<p>Pointer to an <a href="id3dxsprite.html"><strong>ID3DXSprite</strong></a> object that contains the string. Can be <strong>NULL</strong>, in which case Direct3D will render the string with its own sprite object. To improve efficiency, a sprite object should be specified if <strong>DrawText</strong> is to be called more than once in a row.</p>
<!-- raw HTML omitted -->
<p><em>pString</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPCTSTR</strong></a></strong></p>
<p>Pointer to a string to draw. If the Count parameter is -1, the string must be null-terminated.</p>
<!-- raw HTML omitted -->
<p><em>Count</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>INT</strong></a></strong></p>
<p>Specifies the number of characters in the string. If Count is -1, then the pString parameter is assumed to be a pointer to a null-terminated string and <strong>DrawText</strong> computes the character count automatically.</p>
<!-- raw HTML omitted -->
<p><em>pRect</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPRECT</strong></a></strong></p>
<p>Pointer to a <a href="/windows/win32/api/windef/ns-windef-rect"><strong>RECT</strong></a> structure that contains the rectangle, in logical coordinates, in which the text is to be formatted. The coordinate value of the rectangle's right side must be greater than that of its left side. Likewise, the coordinate value of the bottom must be greater than that of the top.</p>
<!-- raw HTML omitted -->
<p><em>Format</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>Specifies the method of formatting the text. It can be any combination of the following values:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_BOTTOM</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Justifies the text to the bottom of the rectangle. This value must be combined with DT_SINGLELINE.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_CALCRECT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Determines the width and height of the rectangle. If there are multiple lines of text, <strong>DrawText</strong> uses the width of the rectangle pointed to by the pRect parameter and extends the base of the rectangle to bound the last line of text. If there is only one line of text, <strong>DrawText</strong> modifies the right side of the rectangle so that it bounds the last character in the line. In either case, <strong>DrawText</strong> returns the height of the formatted text but does not draw the text.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_CENTER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Centers text horizontally in the rectangle.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_EXPANDTABS</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Expands tab characters. The default number of characters per tab is eight.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_LEFT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Aligns text to the left.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_NOCLIP</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Draws without clipping. <strong>DrawText</strong> is somewhat faster when DT_NOCLIP is used.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_RIGHT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Aligns text to the right.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_RTLREADING</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Displays text in right-to-left reading order for bidirectional text when a Hebrew or Arabic font is selected. The default reading order for all text is left-to-right.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_SINGLELINE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Displays text on a single line only. Carriage returns and line feeds do not break the line.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_TOP</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Top-justifies text.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_VCENTER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Centers text vertically (single line only).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>DT_WORDBREAK</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Breaks words. Lines are automatically broken between words if a word would extend past the edge of the rectangle specified by the pRect parameter. A carriage return/line feed sequence also breaks the line.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<!-- raw HTML omitted -->
<p><em>Color</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dcolor.html"><strong>D3DCOLOR</strong></a></strong></p>
<p>Color of the text. For more information, see <a href="d3dcolor.html"><strong>D3DCOLOR</strong></a>.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>INT</strong></a></strong></p>
<p>If the function succeeds, the return value is the height of the text in logical units. If DT_VCENTER or DT_BOTTOM is specified, the return value is the offset from pRect (top to the bottom) of the drawn text. If the function fails, the return value is zero.</p>
<h2>Remarks</h2>
<p>The parameters of this method are very similar to those of the GDI <a href="/windows/win32/api/winuser/nf-winuser-drawtext"><strong>DrawText</strong></a> function.</p>
<p>This method supports both ANSI and Unicode strings.</p>
<p>This method must be called inside a <a href="/windows/desktop/api"><strong>BeginScene</strong></a> ... <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-endscene"><strong>EndScene</strong></a> block. The only exception is when an application calls <strong>DrawText</strong> with DT_CALCRECT to calculate the size of a given block of text.</p>
<p>Unless the DT_NOCLIP format is used, this method clips the text so that it does not appear outside the specified rectangle. All formatting is assumed to have multiple lines unless the DT_SINGLELINE format is specified.</p>
<p>If the selected font is too large for the rectangle, this method does not attempt to substitute a smaller font.</p>
<p>This method supports only fonts whose escapement and orientation are both zero.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9core.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="id3dxfont.html">ID3DXFont</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
