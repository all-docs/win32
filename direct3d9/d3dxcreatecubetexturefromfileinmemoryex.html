<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXCreateCubeTextureFromFileInMemoryEx function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Creates a cube texture from a file in memory. This is a more advanced function than D3DXCreateCubeTextureFromFileInMemory.
ms.assetid: 598016eb-9ea9-4dca-a297-5708a957da6a
title: D3DXCreateCubeTextureFromFileInMemoryEx function (D3dx9tex.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXCreateCubeTextureFromFileInMemoryEx
api_type:</li>
<li>LibDef
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>D3DXCreateCubeTextureFromFileInMemoryEx function</h1>
<p>Creates a cube texture from a file in memory. This is a more advanced function than <a href="d3dxcreatecubetexturefromfileinmemory.html"><strong>D3DXCreateCubeTextureFromFileInMemory</strong></a>.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXCreateCubeTextureFromFileInMemoryEx(
  _In_Â Â Â Â LPDIRECT3DDEVICE9 Â Â Â Â Â pDevice,
  _In_Â Â Â Â LPCVOID Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pSrcData,
  _In_Â Â Â Â UINT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â SrcDataSize,
  _In_Â Â Â Â UINT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Size,
  _In_Â Â Â Â UINT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â MipLevels,
  _In_Â Â Â Â DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Usage,
  _In_Â Â Â Â D3DFORMAT Â Â Â Â Â Â Â Â Â Â Â Â Â Format,
  _In_Â Â Â Â D3DPOOL Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Pool,
  _In_Â Â Â Â DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Filter,
  _In_Â Â Â Â DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â MipFilter,
  _In_Â Â Â Â D3DCOLOR Â Â Â Â Â Â Â Â Â Â Â Â Â Â ColorKey,
  _Inout_Â D3DXIMAGE_INFO Â Â Â Â Â Â Â Â *pSrcInfo,
  _Out_Â Â Â PALETTEENTRY Â Â Â Â Â Â Â Â Â Â *pPalette,
  _Out_Â Â Â LPDIRECT3DCUBETEXTURE9 *ppCubeTexture
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pDevice</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9"><strong>LPDIRECT3DDEVICE9</strong></a></strong></p>
<p>Pointer to an <a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9"><strong>IDirect3DDevice9</strong></a> interface, representing the device to be associated with the cube texture.</p>
<!-- raw HTML omitted -->
<p><em>pSrcData</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPCVOID</strong></a></strong></p>
<p>Pointer to the file in memory from which to create the cube texture. See Remarks.</p>
<!-- raw HTML omitted -->
<p><em>SrcDataSize</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<p>Size of the file in memory, in bytes.</p>
<!-- raw HTML omitted -->
<p><em>Size</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<p>Width (or height) in pixels. If this value is zero or D3DX_DEFAULT, the dimensions are taken from the file.</p>
<!-- raw HTML omitted -->
<p><em>MipLevels</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<p>Number of mip levels requested. If this value is zero or D3DX_DEFAULT, a complete mipmap chain is created.</p>
<!-- raw HTML omitted -->
<p><em>Usage</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>0, D3DUSAGE_RENDERTARGET, or D3DUSAGE_DYNAMIC. Setting this flag to D3DUSAGE_RENDERTARGET indicates that the surface is to be used as a render target. The resource can then be passed to the <em>pNewRenderTarget</em> parameter of the <a href="/windows/desktop/api"><strong>SetRenderTarget</strong></a> method. If D3DUSAGE_RENDERTARGET is specified, the application should check that the device supports this operation by calling <a href="/windows/desktop/api"><strong>CheckDeviceFormat</strong></a>. For more information about using dynamic textures, see <a href="performance-optimizations.html">Using Dynamic Textures</a>.</p>
<!-- raw HTML omitted -->
<p><em>Format</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dformat.html">D3DFORMAT</a></strong></p>
<p>Member of the <a href="d3dformat.html">D3DFORMAT</a> enumerated type, describing the requested pixel format for the cube texture. The returned texture might have a different format from that specified by <em>Format</em>. Applications should check the format of the returned texture. If <a href="other-d3dx-constants.html">D3DFMT_UNKNOWN</a>, the format is taken from the file. If D3DFMT_FROM_FILE, the format is taken exactly as it is in the file, and the call will fail if this violates device capabilities.</p>
<!-- raw HTML omitted -->
<p><em>Pool</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="./d3dpool.html"><strong>D3DPOOL</strong></a></strong></p>
<p>Member of the <a href="./d3dpool.html"><strong>D3DPOOL</strong></a> enumerated type, describing the memory class into which the cube texture should be placed.</p>
<!-- raw HTML omitted -->
<p><em>Filter</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>A combination of one or more <a href="d3dx-filter.html">D3DX_FILTER</a> controlling how the image is filtered. Specifying D3DX_DEFAULT for this parameter is the equivalent of specifying D3DX_FILTER_TRIANGLE | D3DX_FILTER_DITHER.</p>
<!-- raw HTML omitted -->
<p><em>MipFilter</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>A combination of one or more <a href="d3dx-filter.html">D3DX_FILTER</a> controlling how the image is filtered. Specifying D3DX_DEFAULT for this parameter is the equivalent of specifying D3DX_FILTER_BOX. In addition, use bits 27-31 to specify the number of mip levels to be skipped (from the top of the mipmap chain) when a .dds texture is loaded into memory; this allows you to skip up to 32 levels.</p>
<!-- raw HTML omitted -->
<p><em>ColorKey</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dcolor.html"><strong>D3DCOLOR</strong></a></strong></p>
<p><a href="d3dcolor.html"><strong>D3DCOLOR</strong></a> value to replace with transparent black, or 0 to disable the colorkey. This is always a 32-bit ARGB color, independent of the source image format. Alpha is significant, and should usually be set to FF for opaque color keys. Thus, for opaque black, the value would be equal to 0xFF000000.</p>
<!-- raw HTML omitted -->
<p><em>pSrcInfo</em> [in, out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dximage-info.html"><strong>D3DXIMAGE_INFO</strong></a>*</strong></p>
<p>Pointer to a <a href="d3dximage-info.html"><strong>D3DXIMAGE_INFO</strong></a> structure to be filled with a description of the data in the source image file, or <strong>NULL</strong>.</p>
<!-- raw HTML omitted -->
<p><em>pPalette</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/win32/api/wingdi/ns-wingdi-paletteentry"><strong>PALETTEENTRY</strong></a>*</strong></p>
<p>Pointer to a <a href="/windows/win32/api/wingdi/ns-wingdi-paletteentry"><strong>PALETTEENTRY</strong></a> structure, representing a 256-color palette to fill in, or <strong>NULL</strong>. See Remarks.</p>
<!-- raw HTML omitted -->
<p><em>ppCubeTexture</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dcubetexture9"><strong>LPDIRECT3DCUBETEXTURE9</strong></a>*</strong></p>
<p>Address of a pointer to an <a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dcubetexture9"><strong>IDirect3DCubeTexture9</strong></a> interface, representing the created cube texture object.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is D3D_OK. If the function fails, the return value can be one of the following: D3DERR_INVALIDCALL, D3DERR_NOTAVAILABLE, D3DERR_OUTOFVIDEOMEMORY, D3DXERR_INVALIDDATA, E_OUTOFMEMORY.</p>
<h2>Remarks</h2>
<p>This function supports the following file formats: .bmp, .dds, .dib, .hdr, .jpg, .pfm, .png, .ppm, and .tga. See <a href="./d3dximage-fileformat.html"><strong>D3DXIMAGE_FILEFORMAT</strong></a>.</p>
<p>Cube textures differ from other surfaces in that they are collections of surfaces. To call <a href="/windows/desktop/api"><strong>SetRenderTarget</strong></a> with a cube texture, you must select an individual face using <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dcubetexture9-getcubemapsurface"><strong>GetCubeMapSurface</strong></a> and pass the resulting surface to <strong>SetRenderTarget</strong> .</p>
<p>This method is designed to be used for loading image files stored as RT_RCDATA, which is an application-defined resource (raw data). Otherwise this method will fail.</p>
<p>For details on <a href="/windows/win32/api/wingdi/ns-wingdi-paletteentry"><strong>PALETTEENTRY</strong></a>, see the Platform SDK. Note that as of DirectX 8.0, the peFlags member of the <strong>PALETTEENTRY</strong> structure does not function as documented in the Platform SDK. The peFlags member is now the alpha channel for 8-bit palettized formats.</p>
<p><strong>D3DXCreateCubeTextureFromFileInMemoryEx</strong> uses the DirectDraw surface (DDS) file format. The DirectX Texture Editor (Dxtex.exe) enables you to generate a cube map from other file formats and save it in the DDS file format. You can get Dxtex.exe and learn about it from the DirectX SDK. For info about the DirectX SDK, see <a href="../directx-sdk--august-2009-.html">Where is the DirectX SDK?</a>.</p>
<p>When skipping mipmap levels while loading a .dds file, use the D3DX_SKIP_DDS_MIP_LEVELS macro to generate the MipFilter value. This macro takes the number of levels to skip and the filter type and returns the filter value, which would then be passed into the MipFilter parameter.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9tex.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-functions-texture.html">Texture Functions in D3DX 9</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
