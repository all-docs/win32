<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXCreateEffectFromResourceEx function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Create an effect from an ASCII or binary effect description. This is an extended version of D3DXCreateEffectFromResource that allows an application to control which parameters are ignored by the effects system.
ms.assetid: 5937bdb1-750a-41f8-a49d-3643427f3e3c
title: D3DXCreateEffectFromResourceEx function (D3DX9Effect.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXCreateEffectFromResourceEx
api_type:</li>
<li>LibDef
api_location:</li>
<li>D3dx9.lib</li>
<li>D3dx9.dll</li>
</ul>
<hr />
<h1>D3DXCreateEffectFromResourceEx function</h1>
<p>Create an effect from an ASCII or binary effect description. This is an extended version of <a href="d3dxcreateeffectfromresource.html"><strong>D3DXCreateEffectFromResource</strong></a> that allows an application to control which parameters are ignored by the effects system.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXCreateEffectFromResourceEx(
  _In_Â Â Â Â Â Â Â Â LPDIRECT3DDEVICE9 pDevice,
  _In_Â Â Â Â Â Â Â Â HMODULE Â Â Â Â Â Â Â Â Â Â hSrcModule,
  _In_Â Â Â Â Â Â Â Â LPCTSTR Â Â Â Â Â Â Â Â Â Â pSrcResource,
  _In_Â Â const D3DXMACRO Â Â Â Â Â Â Â Â *pDefines,
  _In_Â Â Â Â Â Â Â Â LPD3DXINCLUDE Â Â Â Â pInclude,
  _In_Â Â Â Â Â Â Â Â LPCSTR Â Â Â Â Â Â Â Â Â Â Â pSkipConstants,
  _In_Â Â Â Â Â Â Â Â DWORD Â Â Â Â Â Â Â Â Â Â Â Â Flags,
  _In_Â Â Â Â Â Â Â Â LPD3DXEFFECTPOOL Â pPool,
  _Out_Â Â Â Â Â Â Â LPD3DXEFFECT Â Â Â Â Â *ppEffect,
  _Out_Â Â Â Â Â Â Â LPD3DXBUFFER Â Â Â Â Â *ppCompilationErrors
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pDevice</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9"><strong>LPDIRECT3DDEVICE9</strong></a></strong></p>
<p>Pointer to the device.</p>
<!-- raw HTML omitted -->
<p><em>hSrcModule</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>HMODULE</strong></a></strong></p>
<p>Handle to a module containing the effect description. If this parameter is <strong>NULL</strong>, the current module will be used.</p>
<!-- raw HTML omitted -->
<p><em>pSrcResource</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPCTSTR</strong></a></strong></p>
<p>Pointer to the resource. This parameter supports both Unicode and ANSI strings. See Remarks.</p>
<!-- raw HTML omitted -->
<p><em>pDefines</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="d3dxmacro.html"><strong>D3DXMACRO</strong></a>*</strong></p>
<p>An optional <strong>NULL</strong>-terminated array of <a href="d3dxmacro.html"><strong>D3DXMACRO</strong></a> structures that describe preprocessor definitions. This value can be <strong>NULL</strong>.</p>
<!-- raw HTML omitted -->
<p><em>pInclude</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxinclude.html"><strong>LPD3DXINCLUDE</strong></a></strong></p>
<p>Optional interface pointer, <a href="id3dxinclude.html"><strong>ID3DXInclude</strong></a>, to use for handling #include directives. If this value is <strong>NULL</strong>, #includes will either be honored when compiling from a file or will cause an error when compiled from a resource or memory.</p>
<!-- raw HTML omitted -->
<p><em>pSkipConstants</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPCSTR</strong></a></strong></p>
<p>A string of effect parameters that will be ignored by the effect system. The string must be <strong>NULL</strong> terminated, and needs to contain the name of each application-managed constant separated by a semicolon.</p>
<!-- raw HTML omitted -->
<p><em>Flags</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>If <em>pSrcResource</em> contains a text effect, flags can be a combination of <a href="d3dxshader-flags.html">D3DXSHADER Flags</a> and <a href="d3dxfx.html">D3DXFX</a> flags; otherwise, <em>pSrcResource</em> contains a binary effect and the only flags honored are D3DXFX flags. The Direct3D 10 HLSL compiler is now the default. See <a href="../direct3dtools/fxc.html">Effect-Compiler Tool</a> for details.</p>
<!-- raw HTML omitted -->
<p><em>pPool</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxeffectpool.html"><strong>LPD3DXEFFECTPOOL</strong></a></strong></p>
<p>Pointer to an <a href="id3dxeffectpool.html"><strong>ID3DXEffectPool</strong></a> object to use for shared parameters. If this value is <strong>NULL</strong>, no parameters will be shared.</p>
<!-- raw HTML omitted -->
<p><em>ppEffect</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxeffect.html"><strong>LPD3DXEFFECT</strong></a>*</strong></p>
<p>Returns a buffer containing the compiled effect.</p>
<!-- raw HTML omitted -->
<p><em>ppCompilationErrors</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxbuffer.html"><strong>LPD3DXBUFFER</strong></a>*</strong></p>
<p>Returns a buffer containing a listing of compile errors.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is D3D_OK. If the function fails, the return value can be one of the following: D3DERR_INVALIDCALL, D3DXERR_INVALIDDATA, E_OUTOFMEMORY.</p>
<h2>Remarks</h2>
<p>This function is an extended version of <a href="d3dxcreateeffectfromresource.html"><strong>D3DXCreateEffectFromResource</strong></a> that allows an application to specify which effect constants will be managed by the application. A constant that is managed by the application is ignored by the effects system. That is, the application is responsible for initializing the constant as well as saving and restoring its state whenever appropriate.</p>
<p>This function checks each constant in pSkipConstants to see that:</p>
<ul>
<li>It is bound to a constant register.</li>
<li>It is only used in HLSL shader code.</li>
</ul>
<p>If a constant is named in the string that is not present in the effect, it is ignored.</p>
<p>If the compiler settings require Unicode, the data type LPCTSTR resolves to LPCWSTR. Otherwise, the LPCTSTR data type resolves to LPCSTR.</p>
<p>The compiler setting also determines the function version. If Unicode is defined, the function call resolves to D3DXCreateEffectFromResourceW. Otherwise, the function call resolves to D3DXCreateEffectFromResourceA because ANSI strings are being used.</p>
<p>D3DXCreateEffectFromResource loads data from a resource of type RT_RCDATA.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3DX9Effect.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-effects-functions.html">Effect Functions</a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxcreateeffectex.html"><strong>D3DXCreateEffectEx</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxcreateeffectfromfileex.html"><strong>D3DXCreateEffectFromFileEx</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
