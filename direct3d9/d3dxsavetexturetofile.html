<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXSaveTextureToFile function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Saves a texture to a file.
ms.assetid: b14dd893-e967-4be9-81e8-aeb52035d91c
title: D3DXSaveTextureToFile function (D3dx9tex.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXSaveTextureToFile
api_type:</li>
<li>LibDef
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>D3DXSaveTextureToFile function</h1>
<p>Saves a texture to a file.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXSaveTextureToFile(
  _In_Â Â Â Â Â Â Â LPCTSTR Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pDestFile,
  _In_Â Â Â Â Â Â Â D3DXIMAGE_FILEFORMAT Â Â DestFormat,
  _In_Â Â Â Â Â Â Â LPDIRECT3DBASETEXTURE9 pSrcTexture,
  _In_Â const PALETTEENTRY Â Â Â Â Â Â Â Â Â Â *pSrcPalette
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pDestFile</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPCTSTR</strong></a></strong></p>
<p>Pointer to a string that specifies the file name of the destination image. If the compiler settings require Unicode, the data type LPCTSTR resolves to LPCWSTR. Otherwise, the string data type resolves to LPCSTR. See Remarks.</p>
<!-- raw HTML omitted -->
<p><em>DestFormat</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="./d3dximage-fileformat.html"><strong>D3DXIMAGE_FILEFORMAT</strong></a></strong></p>
<p><a href="./d3dximage-fileformat.html"><strong>D3DXIMAGE_FILEFORMAT</strong></a> specifying the file format to use when saving. This function supports saving to all <strong>D3DXIMAGE_FILEFORMAT</strong> formats except Portable Pixmap (.ppm) and Targa/Truevision Graphics Adapter (.tga).</p>
<!-- raw HTML omitted -->
<p><em>pSrcTexture</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dbasetexture9"><strong>LPDIRECT3DBASETEXTURE9</strong></a></strong></p>
<p>Pointer to <a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dbasetexture9"><strong>IDirect3DBaseTexture9</strong></a> interface, containing the texture to be saved.</p>
<!-- raw HTML omitted -->
<p><em>pSrcPalette</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="/windows/win32/api/wingdi/ns-wingdi-paletteentry"><strong>PALETTEENTRY</strong></a>*</strong></p>
<p>Pointer to a <a href="/windows/win32/api/wingdi/ns-wingdi-paletteentry"><strong>PALETTEENTRY</strong></a> structure containing a palette of 256 colors. This parameter can be <strong>NULL</strong>.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is D3D_OK. If the function fails, the return value can be the following: D3DERR_INVALIDCALL</p>
<h2>Remarks</h2>
<p>The compiler setting also determines the function version. If Unicode is defined, the function call resolves to D3DXSaveTextureToFileW. Otherwise, the function call resolves to D3DXSaveTextureToFileA because ANSI strings are being used.</p>
<p>This function handles conversion to and from compressed texture formats.</p>
<p>If the volume is nondynamic (because of a usage parameter set to 0 at the creation) and located in video memory (the memory pool set to D3DPOOL_DEFAULT), <strong>D3DXSaveTextureToFile</strong> will fail because D3DX cannot lock nondynamic volumes located in video memory.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9tex.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-functions-texture.html">Texture Functions in D3DX 9</a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxsavesurfacetofile.html"><strong>D3DXSaveSurfaceToFile</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxsavevolumetofile.html"><strong>D3DXSaveVolumeToFile</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
