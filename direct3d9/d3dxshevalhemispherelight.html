<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXSHEvalHemisphereLight function (D3dx9math.h)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: D3DXSHEvalHemisphereLight function (D3dx9math.h) - Evaluates a light that is a linear interpolation between two colors over the sphere.
ms.assetid: c5815f12-f706-40f6-bf5e-78a211cfbbea
title: D3DXSHEvalHemisphereLight function (D3dx9math.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXSHEvalHemisphereLight
api_type:</li>
<li>LibDef
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>D3DXSHEvalHemisphereLight function (D3dx9math.h)</h1>
<blockquote>
<p>[!Note]
The D3DX (D3DX 9, D3DX 10, and D3DX 11) utility library is deprecated and is not supported for Windows Store apps.</p>
</blockquote>
<blockquote>
<p>[!Note]
Instead of using this function, we recommend that you use the <a href="https://github.com/Microsoft/DirectXMath/tree/main/SHMath">Spherical Harmonics Math</a> library function <strong>XMSHEvalHemisphereLight</strong>.</p>
</blockquote>
<p>Evaluates a light that is a linear interpolation between two colors over the sphere.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXSHEvalHemisphereLight(
  _In_Â Â Â Â Â Â Â UINT Â Â Â Â Â Â Â Order,
  _In_Â const D3DXVECTOR3 *pDir,
  _In_Â Â Â Â Â Â Â D3DXCOLOR Â Â Top,
  _In_Â Â Â Â Â Â Â D3DXCOLOR Â Â Bottom,
  _In_Â Â Â Â Â Â Â FLOAT Â Â Â Â Â Â *pROut,
  _In_Â Â Â Â Â Â Â FLOAT Â Â Â Â Â Â *pGOut,
  _In_Â Â Â Â Â Â Â FLOAT Â Â Â Â Â Â *pBOut
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>Order</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<p>Order of the spherical harmonic (SH) evaluation. Must be in the range of <a href="other-d3dx-constants.html">D3DXSH_MINORDER</a> to D3DXSH_MAXORDER, inclusive. The evaluation generates OrderÂ² coefficients. The degree of the evaluation is Order - 1.</p>
<!-- raw HTML omitted -->
<p><em>pDir</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="d3dxvector3.html"><strong>D3DXVECTOR3</strong></a>*</strong></p>
<p>Pointer to the (x, y, z) hemisphere axis direction vector in which to evaluate the SH basis functions. See Remarks.</p>
<!-- raw HTML omitted -->
<p><em>Top</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dxcolor.html"><strong>D3DXCOLOR</strong></a></strong></p>
<p>The sky color.</p>
<!-- raw HTML omitted -->
<p><em>Bottom</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dxcolor.html"><strong>D3DXCOLOR</strong></a></strong></p>
<p>The ground color.</p>
<!-- raw HTML omitted -->
<p><em>pROut</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>FLOAT</strong></a>*</strong></p>
<p>Pointer to the output SH vector for the red component.</p>
<!-- raw HTML omitted -->
<p><em>pGOut</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>FLOAT</strong></a>*</strong></p>
<p>Pointer to the output SH vector for the green component.</p>
<!-- raw HTML omitted -->
<p><em>pBOut</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>FLOAT</strong></a>*</strong></p>
<p>Pointer to the output SH vector for the blue component.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is D3D_OK. If the function fails, the return value can be: D3DERR_INVALIDCALL.</p>
<h2>Remarks</h2>
<p>The interpolation is done linearly between the two points, not over the surface of the sphere (that is, if the axis was (0,0,1) it is linear in Z, not in the azimuthal angle). The resulting spherical lighting function is normalized so that a point on a perfectly diffuse surface with no shadowing and a normal pointed in the direction <em>pDir</em> would result in exit radiance with a value of 1 (if the top color was white and the bottom color was black). This is a very simple model where <em>Top</em> represents the intensity of the &quot;sky&quot; and <em>Bottom</em> represents the intensity of the &quot;ground.&quot;</p>
<p>On the sphere with unit radius, as shown in the following illustration, direction can be specified simply with theta, the angle about the z-axis in the <a href="coordinate-systems.html">right-handed direction</a>, and phi, the angle from z.</p>
<p><img src="images/spherical-coordinates.png" alt="illustration of a sphere with unit radius" /></p>
<p>The following equations show the relationship between Cartesian (x, y, z) and spherical (theta, phi) coordinates on the unit sphere. The angle theta varies over the range of 0 to 2 pi, while phi varies from 0 to pi.</p>
<p><img src="images/spherical-coordinates-equations.png" alt="equations of the relationship between cartesian and spherical coordinates" /></p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9math.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-functions-math.html">Math Functions</a></p>
<!-- raw HTML omitted -->
<p><a href="precomputed-radiance-transfer.html">Precomputed Radiance Transfer (Direct3D 9)</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
