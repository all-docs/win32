<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DPRESENT_PARAMETERS structure</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Describes the presentation parameters.
ms.assetid: d677aeb7-a188-4ddc-b8c9-48e13676e9c8
title: D3DPRESENT_PARAMETERS structure (D3D9Types.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DPRESENT_PARAMETERS
api_type:</li>
<li>HeaderDef
api_location:</li>
<li>D3D9Types.h</li>
</ul>
<hr />
<h1>D3DPRESENT_PARAMETERS structure</h1>
<p>Describes the presentation parameters.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>typedef struct D3DPRESENT_PARAMETERS {
  UINT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BackBufferWidth;
  UINT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BackBufferHeight;
  D3DFORMAT Â Â Â Â Â Â Â Â Â Â BackBufferFormat;
  UINT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BackBufferCount;
  D3DMULTISAMPLE_TYPE MultiSampleType;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â MultiSampleQuality;
  D3DSWAPEFFECT Â Â Â Â Â Â SwapEffect;
  HWND Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â hDeviceWindow;
  BOOL Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Windowed;
  BOOL Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â EnableAutoDepthStencil;
  D3DFORMAT Â Â Â Â Â Â Â Â Â Â AutoDepthStencilFormat;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Flags;
  UINT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â FullScreen_RefreshRateInHz;
  UINT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â PresentationInterval;
} D3DPRESENT_PARAMETERS, *LPD3DPRESENT_PARAMETERS;
</code></pre>
<h2>Members</h2>
<!-- raw HTML omitted -->
<p><strong>BackBufferWidth</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<!-- raw HTML omitted -->
<p>Width of the new swap chain's back buffers, in pixels. If <strong>Windowed</strong> is <strong>FALSE</strong> (the presentation is full-screen), this value must equal the width of one of the enumerated display modes found through <a href="/windows/win32/api/d3d9/nf-d3d9-idirect3d9-enumadaptermodes"><strong>EnumAdapterModes</strong></a>. If <strong>Windowed</strong> is <strong>TRUE</strong> and either <strong>BackBufferWidth</strong> or <strong>BackBufferHeight</strong> is zero, the corresponding dimension of the client area of the <strong>hDeviceWindow</strong> (or the focus window, if <strong>hDeviceWindow</strong> is <strong>NULL</strong>) is taken.</p>
<!-- raw HTML omitted -->
<p><strong>BackBufferHeight</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<!-- raw HTML omitted -->
<p>Height of the new swap chain's back buffers, in pixels. If <strong>Windowed</strong> is <strong>FALSE</strong> (the presentation is full-screen), this value must equal the height of one of the enumerated display modes found through <a href="/windows/win32/api/d3d9/nf-d3d9-idirect3d9-enumadaptermodes"><strong>EnumAdapterModes</strong></a>. If <strong>Windowed</strong> is <strong>TRUE</strong> and either <strong>BackBufferWidth</strong> or <strong>BackBufferHeight</strong> is zero, the corresponding dimension of the client area of the <strong>hDeviceWindow</strong> (or the focus window, if <strong>hDeviceWindow</strong> is <strong>NULL</strong>) is taken.</p>
<!-- raw HTML omitted -->
<p><strong>BackBufferFormat</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dformat.html">D3DFORMAT</a></strong></p>
<!-- raw HTML omitted -->
<p>The back buffer format. For more information about formats, see <a href="d3dformat.html">D3DFORMAT</a>. This value must be one of the render-target formats as validated by <a href="/windows/desktop/api"><strong>CheckDeviceType</strong></a>. You can use <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getdisplaymode"><strong>GetDisplayMode</strong></a> to obtain the current format.</p>
<p>In fact, D3DFMT_UNKNOWN can be specified for the <strong>BackBufferFormat</strong> while in windowed mode. This tells the runtime to use the current display-mode format and eliminates the need to call <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getdisplaymode"><strong>GetDisplayMode</strong></a>.</p>
<p>For windowed applications, the back buffer format no longer needs to match the display-mode format because color conversion can now be done by the hardware (if the hardware supports color conversion). The set of possible back buffer formats is constrained, but the runtime will allow any valid back buffer format to be presented to any desktop format. (There is the additional requirement that the device be operable in the desktop; devices typically do not operate in 8 bits per pixel modes.)</p>
<p>Full-screen applications cannot do color conversion.</p>
<!-- raw HTML omitted -->
<p><strong>BackBufferCount</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<!-- raw HTML omitted -->
<p>This value can be between 0 and <a href="d3dpresent-back-buffers.html">D3DPRESENT_BACK_BUFFERS_MAX</a> (or <a href="d3dpresent-back-buffers.html">D3DPRESENT_BACK_BUFFERS_MAX_EX</a> when using Direct3D 9Ex). Values of 0 are treated as 1. If the number of back buffers cannot be created, the runtime will fail the method call and fill this value with the number of back buffers that could be created. As a result, an application can call the method twice with the same D3DPRESENT_PARAMETERS structure and expect it to work the second time.</p>
<p>The method fails if one back buffer cannot be created. The value of <strong>BackBufferCount</strong> influences what set of swap effects are allowed. Specifically, any D3DSWAPEFFECT_COPY swap effect requires that there be exactly one back buffer.</p>
<!-- raw HTML omitted -->
<p><strong>MultiSampleType</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="./d3dmultisample-type.html"><strong>D3DMULTISAMPLE_TYPE</strong></a></strong></p>
<!-- raw HTML omitted -->
<p>Member of the <a href="./d3dmultisample-type.html"><strong>D3DMULTISAMPLE_TYPE</strong></a> enumerated type. The value must be D3DMULTISAMPLE_NONE unless <strong>SwapEffect</strong> has been set to D3DSWAPEFFECT_DISCARD. Multisampling is supported only if the swap effect is D3DSWAPEFFECT_DISCARD.</p>
<!-- raw HTML omitted -->
<p><strong>MultiSampleQuality</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<!-- raw HTML omitted -->
<p>Quality level. The valid range is between zero and one less than the level returned by pQualityLevels used by <a href="/windows/desktop/api"><strong>CheckDeviceMultiSampleType</strong></a>. Passing a larger value returns the error D3DERR_INVALIDCALL. Paired values of render targets or of depth stencil surfaces and <a href="./d3dmultisample-type.html"><strong>D3DMULTISAMPLE_TYPE</strong></a> must match.</p>
<!-- raw HTML omitted -->
<p><strong>SwapEffect</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="./d3dswapeffect.html"><strong>D3DSWAPEFFECT</strong></a></strong></p>
<!-- raw HTML omitted -->
<p>Member of the <a href="./d3dswapeffect.html"><strong>D3DSWAPEFFECT</strong></a> enumerated type. The runtime will guarantee the implied semantics concerning buffer swap behavior; therefore, if <strong>Windowed</strong> is <strong>TRUE</strong> and <strong>SwapEffect</strong> is set to D3DSWAPEFFECT_FLIP, the runtime will create one extra back buffer and copy whichever becomes the front buffer at presentation time.</p>
<p>D3DSWAPEFFECT_COPY requires that <strong>BackBufferCount</strong> be set to 1.</p>
<p>D3DSWAPEFFECT_DISCARD will be enforced in the debug runtime by filling any buffer with noise after it is presented.</p>
<p>Differences between Direct3D9 and Direct3D9Ex:</p>
<ul>
<li>In Direct3D9Ex, D3DSWAPEFFECT_FLIPEX is added to designate when an application is adopting flip mode. That is, when an application's frame is passed in window's mode (instead of copied) to the Desktop Window Manager(DWM) for composition. Flip mode provides more efficient memory bandwidth and enables an application to take advantage of full-screen-present statistics. It does not change full screen behavior. Flip mode behavior is available beginning with Windows 7.</li>
</ul>
<p>Â </p>
<!-- raw HTML omitted -->
<p><strong>hDeviceWindow</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>HWND</strong></a></strong></p>
<!-- raw HTML omitted -->
<p>The device window determines the location and size of the back buffer on screen. This is used by Direct3D when the back buffer contents are copied to the front buffer during <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-present"><strong>Present</strong></a>.</p>
<ul>
<li>
<p>For a full-screen application, this is a handle to the top window (which is the focus window).</p>
<p>For applications that use multiple full-screen devices (such as a multimonitor system), exactly one device can use the focus window as the device window. All other devices must have unique device windows.</p>
</li>
<li>
<p>For a windowed-mode application, this handle will be the default target window for <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-present"><strong>Present</strong></a>. If this handle is <strong>NULL</strong>, the focus window will be taken.</p>
</li>
</ul>
<p>Note that no attempt is made by the runtime to reflect user changes in window size. The back buffer is not implicitly reset when this window is reset. However, the <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-present"><strong>Present</strong></a> method does automatically track window position changes.</p>
<!-- raw HTML omitted -->
<p><strong>Windowed</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>BOOL</strong></a></strong></p>
<!-- raw HTML omitted -->
<p><strong>TRUE</strong> if the application runs windowed; <strong>FALSE</strong> if the application runs full-screen.</p>
<!-- raw HTML omitted -->
<p><strong>EnableAutoDepthStencil</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>BOOL</strong></a></strong></p>
<!-- raw HTML omitted -->
<p>If this value is <strong>TRUE</strong>, Direct3D will manage depth buffers for the application. The device will create a depth-stencil buffer when it is created. The depth-stencil buffer will be automatically set as the render target of the device. When the device is reset, the depth-stencil buffer will be automatically destroyed and recreated in the new size.</p>
<p>If EnableAutoDepthStencil is <strong>TRUE</strong>, then AutoDepthStencilFormat must be a valid depth-stencil format.</p>
<!-- raw HTML omitted -->
<p><strong>AutoDepthStencilFormat</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dformat.html">D3DFORMAT</a></strong></p>
<!-- raw HTML omitted -->
<p>Member of the <a href="d3dformat.html">D3DFORMAT</a> enumerated type. The format of the automatic depth-stencil surface that the device will create. This member is ignored unless <strong>EnableAutoDepthStencil</strong> is <strong>TRUE</strong>.</p>
<!-- raw HTML omitted -->
<p><strong>Flags</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<!-- raw HTML omitted -->
<p>One of the <a href="d3dpresentflag.html">D3DPRESENTFLAG</a> constants.</p>
<!-- raw HTML omitted -->
<p><strong>FullScreen_RefreshRateInHz</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<!-- raw HTML omitted -->
<p>The rate at which the display adapter refreshes the screen. The value depends on the mode in which the application is running:</p>
<ul>
<li>For windowed mode, the refresh rate must be 0.</li>
<li>For full-screen mode, the refresh rate is one of the refresh rates returned by <a href="/windows/win32/api/d3d9/nf-d3d9-idirect3d9-enumadaptermodes"><strong>EnumAdapterModes</strong></a>.</li>
</ul>
<!-- raw HTML omitted -->
<p><strong>PresentationInterval</strong></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>UINT</strong></a></strong></p>
<!-- raw HTML omitted -->
<p>The maximum rate at which the swap chain's back buffers can be presented to the front buffer. For a detailed explanation of the modes and the intervals that are supported, see <a href="d3dpresent.html">D3DPRESENT</a>.</p>
<!-- raw HTML omitted -->
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3D9Types.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3d-structures.html">Direct3D Structures</a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d3d9/nf-d3d9-idirect3d9-createdevice"><strong>CreateDevice</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createadditionalswapchain"><strong>CreateAdditionalSwapChain</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-present"><strong>Present</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-reset"><strong>Reset</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
