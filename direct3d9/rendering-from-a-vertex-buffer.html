<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Rendering from a Vertex Buffer (Direct3D 9)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Rendering vertex data from a vertex buffer requires a few steps. First, you need to set the stream source by calling the IDirect3DDevice9::SetStreamSource method, as shown in the following example.
ms.assetid: a0435a3d-e1dd-4365-904d-8e5713e379ce
title: Rendering from a Vertex Buffer (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Rendering from a Vertex Buffer (Direct3D 9)</h1>
<p>Rendering vertex data from a vertex buffer requires a few steps. First, you need to set the stream source by calling the <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setstreamsource"><strong>IDirect3DDevice9::SetStreamSource</strong></a> method, as shown in the following example.</p>
<pre><code>d3dDevice-&gt;SetStreamSource( 0, g_pVB, 0, sizeof(CUSTOMVERTEX) );
</code></pre>
<p>The first parameter of <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setstreamsource"><strong>IDirect3DDevice9::SetStreamSource</strong></a> tells Direct3D the source of the device data stream. The second parameter is the vertex buffer to bind to the data stream. The third parameter is the offset from the beginning of the stream to the beginning of the vertex data, in bytes. The fourth parameter is the stride of the component, in bytes. In the sample code above, the size of a CUSTOMVERTEX is used for the stride of the component.</p>
<p>The next step is to inform Direct3D which vertex shader to use by calling the <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setvertexshader"><strong>IDirect3DDevice9::SetVertexShader</strong></a> method. The following sample code sets an FVF code for the vertex shader. This informs Direct3D of the types of vertices it is dealing with.</p>
<pre><code>d3dDevice-&gt;SetFVF( D3DFVF_CUSTOMVERTEX );
</code></pre>
<p>After setting the stream source and vertex shader, any draw methods will use the vertex buffer. The code example below shows how to render vertices from a vertex buffer with the <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawprimitive"><strong>IDirect3DDevice9::DrawPrimitive</strong></a> method.</p>
<pre><code>d3dDevice-&gt;DrawPrimitive( D3DPT_TRIANGLELIST, 0, 1 );
</code></pre>
<p>The second parameter that <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawprimitive"><strong>IDirect3DDevice9::DrawPrimitive</strong></a> accepts is the index of the first vector in the vertex buffer to load.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="vertex-buffers.html">Vertex Buffers</a></p>
<!-- raw HTML omitted -->
<p><a href="rendering-from-vertex-and-index-buffers.html">Rendering from Vertex and Index Buffers (Direct3D 9)</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
