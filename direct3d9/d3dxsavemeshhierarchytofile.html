<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXSaveMeshHierarchyToFile function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Creates a .x file and saves the mesh hierarchy and corresponding animations in it.
ms.assetid: 803926fe-8cb7-422a-9920-56f7d0b0d0ea
title: D3DXSaveMeshHierarchyToFile function (D3dx9anim.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXSaveMeshHierarchyToFile
api_type:</li>
<li>LibDef
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>D3DXSaveMeshHierarchyToFile function</h1>
<p>Creates a .x file and saves the mesh hierarchy and corresponding animations in it.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXSaveMeshHierarchyToFile(
  _In_Â Â Â Â Â Â Â LPCSTR Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pFilename,
  _In_Â Â Â Â Â Â Â DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â XFormat,
  _In_Â const D3DXFRAME Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â *pFrameRoot,
  _In_Â Â Â Â Â Â Â LPD3DXANIMATIONCONTROLLER pAnimController,
  _In_Â Â Â Â Â Â Â LPD3DXSAVEUSERDATA Â Â Â Â Â Â Â pUserDataSaver
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pFilename</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPCSTR</strong></a></strong></p>
<p>Pointer to a string that specifies the name of the .x file identifying the saved mesh. If the compiler settings require Unicode, the data type LPCTSTR resolves to LPCWSTR. Otherwise, the string data type resolves to LPCSTR. See Remarks.</p>
<!-- raw HTML omitted -->
<p><em>XFormat</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>Format of the .x file (text or binary, compressed or not). See D3DXF_FILEFORMAT. D3DXF_FILEFORMAT_COMPRESSED can be combined (using a logical OR) with either the D3DXF_FILEFORMAT_BINARY or D3DXF_FILEFORMAT_TEXT flags to reduce the output file size.</p>
<!-- raw HTML omitted -->
<p><em>pFrameRoot</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="d3dxframe.html"><strong>D3DXFRAME</strong></a>*</strong></p>
<p>Root node of the hierarchy to be saved. See <a href="d3dxframe.html"><strong>D3DXFRAME</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>pAnimController</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxanimationcontroller.html"><strong>LPD3DXANIMATIONCONTROLLER</strong></a></strong></p>
<p>Animation controller that has animation sets to be stored. See <a href="id3dxanimationcontroller.html"><strong>ID3DXAnimationController</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>pUserDataSaver</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxsaveuserdata.html"><strong>LPD3DXSAVEUSERDATA</strong></a></strong></p>
<p>Application-provided interface that allows saving of user data. See <a href="id3dxsaveuserdata.html"><strong>ID3DXSaveUserData</strong></a>.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is D3D_OK. If the function fails, the return value can be: D3DERR_INVALIDCALL.</p>
<h2>Remarks</h2>
<p>The compiler setting also determines the function version. If Unicode is defined, the function call resolves to D3DXSaveMeshHierarchyToFileW. Otherwise, the function call resolves to D3DXSaveMeshHierarchyToFileA.</p>
<p>This function does not save compressed animation sets.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9anim.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-functions-animation.html">Animation Functions</a></p>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-x-file.html">X File Reference</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
