<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXSaveMeshToX function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Saves a mesh to a .x file.
ms.assetid: 6d9cbca8-3847-4e15-95d4-9df3f8269665
title: D3DXSaveMeshToX function (D3DX9Mesh.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXSaveMeshToX
api_type:</li>
<li>LibDef
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>D3DXSaveMeshToX function</h1>
<p>Saves a mesh to a .x file.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXSaveMeshToX(
  _In_Â Â Â Â Â Â Â LPCTSTR Â Â Â Â Â Â Â Â Â Â Â pFilename,
  _In_Â Â Â Â Â Â Â LPD3DXMESH Â Â Â Â Â Â Â Â pMesh,
  _In_Â const DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â *pAdjacency,
  _In_Â const D3DXMATERIAL Â Â Â Â Â Â *pMaterials,
  _In_Â const D3DXEFFECTINSTANCE *pEffectInstances,
  _In_Â Â Â Â Â Â Â DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â NumMaterials,
  _In_Â Â Â Â Â Â Â DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Format
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pFilename</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPCTSTR</strong></a></strong></p>
<p>Pointer to a string that specifies the filename. If the compiler settings require Unicode, the data type LPCTSTR resolves to LPCWSTR. Otherwise, the string data type resolves to LPCSTR. See Remarks.</p>
<!-- raw HTML omitted -->
<p><em>pMesh</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxmesh.html"><strong>LPD3DXMESH</strong></a></strong></p>
<p>Pointer to an <a href="id3dxmesh.html"><strong>ID3DXMesh</strong></a> interface, representing the mesh to save to a .x file.</p>
<!-- raw HTML omitted -->
<p><em>pAdjacency</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a>*</strong></p>
<p>Pointer to an array of three DWORDs per face that specify the three neighbors for each face in the mesh. This parameter may be <strong>NULL</strong>.</p>
<!-- raw HTML omitted -->
<p><em>pMaterials</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="d3dxmaterial.html"><strong>D3DXMATERIAL</strong></a>*</strong></p>
<p>Pointer to an array of <a href="d3dxmaterial.html"><strong>D3DXMATERIAL</strong></a> structures, containing material information to be saved in the .x file.</p>
<!-- raw HTML omitted -->
<p><em>pEffectInstances</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="d3dxeffectinstance.html"><strong>D3DXEFFECTINSTANCE</strong></a>*</strong></p>
<p>Pointer to an array of effect instances, one per attribute group in the mesh. This parameter may be <strong>NULL</strong>. An effect instance is a particular instance of state information used to initialize an effect. For more information, see <a href="d3dxeffectinstance.html"><strong>D3DXEFFECTINSTANCE</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>NumMaterials</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>Number of <a href="d3dxmaterial.html"><strong>D3DXMATERIAL</strong></a> structures in the <em>pMaterials</em> array.</p>
<!-- raw HTML omitted -->
<p><em>Format</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>A combination of file format and save options when saving an .x file. See <a href="dx9-graphics-reference-d3dx-x-file-constants.html">D3DX X File Constants</a>.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is D3D_OK. If the function fails, the return value can be one of the following: D3DERR_INVALIDCALL.</p>
<h2>Remarks</h2>
<p>The compiler setting also determines the function version. If Unicode is defined, the function call resolves to D3DXSaveMeshToXW. Otherwise, the function call resolves to D3DXSaveMeshToXA because ANSI strings are being used.</p>
<p>The default file format is binary; however, if a file is specified as both a binary and a text file, it will be saved as a text file. Regardless of the file format, you may also use the compressed format to reduce the file size.</p>
<p>The following is a typical code example of how to use this function.</p>
<pre><code>ID3DXMesh*    m_pMesh;           // Mesh object to be saved to a .x file
D3DXMATERIAL* m_pMaterials;      // Array of material structs in the mesh
DWORD         m_dwNumMaterials;  // Number of material structs in the mesh
    
DWORD dwFormat = D3DXF_FILEFORMAT_BINARY;  // Binary-format .x file (default)
// DWORD dwFormat = D3DXF_FILEFORMAT_TEXT; // Text-format .x file
    
// Load mesh into m_pMesh and determine values of m_pMaterials and 
// m_dwNumMaterials with calls to D3DXLoadMeshxxx or other D3DX functions
    
// ...
        
D3DXSaveMeshToX(
    L&quot;outputxfilename.x&quot;,
    m_pMesh,
    NULL,
    m_pMaterials,
    NULL,
    m_dwNumMaterials,
    dwFormat );
</code></pre>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3DX9Mesh.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-functions-mesh.html">Mesh Functions</a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxeffectdefault.html"><strong>D3DXEFFECTDEFAULT</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxeffectinstance.html"><strong>D3DXEFFECTINSTANCE</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
