<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ID3DXPRTEngine interface</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: The ID3DXPRTEngine interface is used to compute a precomputed radiance transfer (PRT) simulation. Its methods are typically used offline, to compute per-vertex or per-texel transfer vectors in advance of real-time 3D modeling.
ms.assetid: d5be657f-2b0c-48fd-a7f0-ddb90107772f
title: ID3DXPRTEngine interface (D3DX9Mesh.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>ID3DXPRTEngine
api_type:</li>
<li>COM
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>ID3DXPRTEngine interface</h1>
<p>The ID3DXPRTEngine interface is used to compute a precomputed radiance transfer (PRT) simulation. Its methods are typically used offline, to compute per-vertex or per-texel transfer vectors in advance of real-time 3D modeling.</p>
<h2>Members</h2>
<p>The <strong>ID3DXPRTEngine</strong> interface inherits from the <a href="/windows/win32/api/unknwn/nn-unknwn-iunknown"><strong>IUnknown</strong></a> interface. <strong>ID3DXPRTEngine</strong> also has these types of members:</p>
<ul>
<li><a href="#methods">Methods</a></li>
</ul>
<h3>Methods</h3>
<p>The <strong>ID3DXPRTEngine</strong> interface has these methods.</p>
<table>
<thead>
<tr>
<th align="left">Method</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="id3dxprtengine--closestrayintersects.html"><strong>ClosestRayIntersects</strong></a></td>
<td align="left">Uses efficient ray-tracing in precomputed radiance transfer (PRT) simulations to determine whether a ray intersects a mesh. If an intersection is found, the method returns the index of the closest mesh face hit by the ray and the barycentric coordinates of the intersection point.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computebounce.html"><strong>ComputeBounce</strong></a></td>
<td align="left">Computes the source radiance resulting from a single bounce of interreflected light. This method can be used for any lit scene, including a spherical harmonic (SH)-based precomputed radiance transfer (PRT) model.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computebounceadaptive.html"><strong>ComputeBounceAdaptive</strong></a></td>
<td align="left">Computes the source radiance resulting from a single bounce of interreflected light, using adaptive sampling. This method generates new vertices and faces on the mesh to more accurately approximate the precomputed radiance transfer (PRT) signal. This method can be used for any lit scene, including a spherical harmonic (SH)-based PRT model.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computedirectlightingsh.html"><strong>ComputeDirectLightingSH</strong></a></td>
<td align="left">Computes the direct lighting contribution to 3D objects where the source radiance is represented by a spherical harmonic (SH) approximation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computedirectlightingshadaptive.html"><strong>ComputeDirectLightingSHAdaptive</strong></a></td>
<td align="left">Computes the direct lighting contribution to 3D objects where the source radiance is represented by a spherical harmonic (SH) approximation, using adaptive sampling. This method generates new vertices and faces on the mesh to more accurately approximate the precomputed radiance transfer (PRT) signal.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computedirectlightingshgpu.html"><strong>ComputeDirectLightingSHGPU</strong></a></td>
<td align="left">Uses the GPU to compute the direct lighting contribution to 3D objects where the source radiance is represented by a spherical harmonic (SH) approximation. Computing the lighting on the GPU will generally be much faster than on the CPU.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computeldprtcoeffs.html"><strong>ComputeLDPRTCoeffs</strong></a></td>
<td align="left">Computes locally-deformable precomputed radiance transfer (LDPRT) coefficients relative to per-sample normal vectors to minimize the least-squares error with respect to input <a href="id3dxprtbuffer.html"><strong>ID3DXPRTBuffer</strong></a> data. These coefficients can be used with skinned or transformed normal vectors to model global effects on dynamic objects.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computess.html"><strong>ComputeSS</strong></a></td>
<td align="left">Computes the source radiance resulting from subsurface scattering, using material properties set by <a href="id3dxprtengine--setmeshmaterials.html"><strong>ID3DXPRTEngine::SetMeshMaterials</strong></a>. This method can be used only for materials defined per-vertex in a mesh object.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computessadaptive.html"><strong>ComputeSSAdaptive</strong></a></td>
<td align="left">Computes a transfer vector that maps source radiance to exit radiance resulting from subsurface scattering, using adaptive sampling and material properties set by <a href="id3dxprtengine--setmeshmaterials.html"><strong>ID3DXPRTEngine::SetMeshMaterials</strong></a>. The method generates new vertices and faces on the mesh to more accurately approximate the precomputed radiance transfer (PRT) signal. This method can be used only for materials defined per-vertex in a mesh object.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computesurfsamplesbounce.html"><strong>ComputeSurfSamplesBounce</strong></a></td>
<td align="left">Computes precomputed radiance transfer (PRT) samples for an arbitrary point (and normal vector).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computesurfsamplesdirectsh.html"><strong>ComputeSurfSamplesDirectSH</strong></a></td>
<td align="left">Computes, at an arbitrary point not on a mesh, a transfer vector that maps source radiance (represented by a spherical harmonic (SH) approximation) to exit radiance.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computevolumesamples.html"><strong>ComputeVolumeSamples</strong></a></td>
<td align="left">Computes a projection of the direct lighting from the previous light bounce into spherical harmonic (SH) basis vectors that represent incident radiance at specified locations.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--computevolumesamplesdirectsh.html"><strong>ComputeVolumeSamplesDirectSH</strong></a></td>
<td align="left">Computes a projection of distant lighting into spherical harmonic (SH) basis vectors that represent incident radiance at specified locations.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--extractpervertexalbedo.html"><strong>ExtractPerVertexAlbedo</strong></a></td>
<td align="left">Copies per-vertex albedo values from a mesh.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--freebouncedata.html"><strong>FreeBounceData</strong></a></td>
<td align="left">Frees memory used for temporary bounced-light simulation data.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--freessdata.html"><strong>FreeSSData</strong></a></td>
<td align="left">Frees memory used for temporary subsurface light scattering simulation data.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--getadaptedmesh.html"><strong>GetAdaptedMesh</strong></a></td>
<td align="left">Returns a mesh with modifications resulting from adaptive spatial sampling. The returned mesh contains only positions, normals, and texture coordinates (if defined).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--getnumfaces.html"><strong>GetNumFaces</strong></a></td>
<td align="left">Retrieves the number of faces in the mesh, including any new faces added as a result of adaptive spatial sampling.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--getnumverts.html"><strong>GetNumVerts</strong></a></td>
<td align="left">Retrieves the number of vertices in the mesh, including any new vertices added as a result of adaptive spatial sampling.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--getvertexalbedo.html"><strong>GetVertexAlbedo</strong></a></td>
<td align="left">Retrieves albedo values of the mesh vertices.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--multiplyalbedo.html"><strong>MultiplyAlbedo</strong></a></td>
<td align="left">Multiplies each precomputed radiance transfer (PRT) vector by the per-vertex albedo.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--resamplebuffer.html"><strong>ResampleBuffer</strong></a></td>
<td align="left">Resamples an input <a href="id3dxprtbuffer.html"><strong>ID3DXPRTBuffer</strong></a> buffer and saves it to an output buffer. This method can be used to convert a vertex buffer to a texture buffer and vice-versa. It can also be used to convert single-channel buffers to 3-channel buffers and vice-versa.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--robustmeshrefine.html"><strong>RobustMeshRefine</strong></a></td>
<td align="left">Subdivides faces on a mesh, allowing for conservative adaptive sampling that will not eliminate features on the mesh.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--scalemeshchunk.html"><strong>ScaleMeshChunk</strong></a></td>
<td align="left">Scales all the samples associated with a given submesh. The method is useful for computing subsurface scattering.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--setcallback.html"><strong>SetCallBack</strong></a></td>
<td align="left">Sets a pointer to an optional callback function that computes the percentage of spherical harmonic (SH) computations completed and gives the caller the option of aborting the simulator.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--setmeshmaterials.html"><strong>SetMeshMaterials</strong></a></td>
<td align="left">Sets mesh material properties in the 3D scene. Use this method to specify subsurface scattering parameters.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--setminmaxintersection.html"><strong>SetMinMaxIntersection</strong></a></td>
<td align="left">Sets the minimum and maximum distances of intersection between 3D objects. These distance values can be used to control the minimum or maximum distance that objects can shadow or reflect light. For example, the method can be used to limit the shadowing of nearby features of a 3D model.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--setpertexelalbedo.html"><strong>SetPerTexelAlbedo</strong></a></td>
<td align="left">Sets an albedo value for each texel, overwriting previous albedo values.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--setpertexelnormal.html"><strong>SetPerTexelNormal</strong></a></td>
<td align="left">Sets a normal vector for each texel in a texture object. This method is used to store vertex normal vectors from a mesh (or interpolated vertex normals if pixel-based precomputed radiance transfer (PRT) is being computed).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--setpervertexalbedo.html"><strong>SetPerVertexAlbedo</strong></a></td>
<td align="left">Sets an albedo value for each mesh vertex, overwriting previous albedo values.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--setsamplinginfo.html"><strong>SetSamplingInfo</strong></a></td>
<td align="left">Sets sampling properties used by the precomputed radiance transfer (PRT) simulator.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="id3dxprtengine--shadowrayintersects.html"><strong>ShadowRayIntersects</strong></a></td>
<td align="left">Uses efficient ray-tracing in precomputed radiance transfer (PRT) simulations to determine whether a ray intersects a mesh. Typically used to determine whether a given point is in shadow.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Remarks</h2>
<p>To convert from RGB to luminance values, the following formula is used:</p>
<pre><code>Luminance = R * 0.2125 + G * 0.7154 + B * 0.0721
</code></pre>
<p>The <strong>ID3DXPRTEngine</strong> interface is obtained by calling the <a href="d3dxcreateprtengine.html"><strong>D3DXCreatePRTEngine</strong></a> function.</p>
<p>The LPD3DXPRTENGINE type is defined as a pointer to the <strong>ID3DXPRTEngine</strong> interface.</p>
<pre><code>typedef interface ID3DXPRTEngine ID3DXPRTEngine;
typedef interface ID3DXPRTEngine *LPD3DXPRTENGINE;
</code></pre>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3DX9Mesh.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-interfaces.html">D3DX Interfaces</a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxcreateprtengine.html"><strong>D3DXCreatePRTEngine</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="precomputed-radiance-transfer.html">Precomputed Radiance Transfer (Direct3D 9)</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
