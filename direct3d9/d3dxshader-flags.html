<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXSHADER Flags</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: The D3DXSHADER flags are used for parsing, compiling, or assembling shaders.
ms.assetid: 8558d0e9-d09f-4c62-bc89-6080f4e44ff8
title: D3DXSHADER Flags (D3dx9shader.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXSHADER_PACKMATRIX_COLUMNMAJOR</li>
<li>D3DXSHADER_PACKMATRIX_ROWMAJOR</li>
<li>D3DXSHADER_AVOID_FLOW_CONTROL</li>
<li>D3DXSHADER_DEBUG</li>
<li>D3DXSHADER_ENABLE_BACKWARDS_COMPATIBILITY</li>
<li>D3DXSHADER_FORCE_PS_SOFTWARE_NOOPT</li>
<li>D3DXSHADER_FORCE_VS_SOFTWARE_NOOPT</li>
<li>D3DXSHADER_IEEE_STRICTNESS</li>
<li>D3DXSHADER_NO_PRESHADER</li>
<li>D3DXSHADER_OPTIMIZATION_LEVEL0</li>
<li>D3DXSHADER_OPTIMIZATION_LEVEL1</li>
<li>D3DXSHADER_OPTIMIZATION_LEVEL2</li>
<li>D3DXSHADER_OPTIMIZATION_LEVEL3</li>
<li>D3DXSHADER_PARTIALPRECISION</li>
<li>D3DXSHADER_PREFER_FLOW_CONTROL</li>
<li>D3DXSHADER_SKIPOPTIMIZATION</li>
<li>D3DXSHADER_SKIPVALIDATION</li>
<li>D3DXSHADER_USE_LEGACY_D3DX9_31_DLL</li>
<li>D3DXSHADER_DEBUG</li>
<li>D3DXSHADER_FORCE_PS_SOFTWARE_NOOPT</li>
<li>D3DXSHADER_FORCE_VS_SOFTWARE_NOOPT</li>
<li>D3DXSHADER_SKIPVALIDATION
api_type:</li>
<li>HeaderDef
api_location:</li>
<li>d3dx9shader.h</li>
</ul>
<hr />
<h1>D3DXSHADER Flags</h1>
<p>The <strong>D3DXSHADER</strong> flags are used for parsing, compiling, or assembling shaders.</p>
<p><strong>Parser flags</strong></p>
<p>Parse time flags are only used by the effect system (before effect compilation) when you create an effect compiler. For example, you could create a compiler object with <strong>D3DXSHADER_PACKMATRIX_COLUMNMAJOR</strong>, and then use that compiler object repeatedly with different compiler flags to generate specialized code.</p>
<table>
<thead>
<tr>
<th align="left">Constant</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_PACKMATRIX_COLUMNMAJOR</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/Zpc<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td align="left">Unless explicitly specified, matrices will be packed in column-major order (each vector will be in a single column) when passed to and from the shader. This is generally more efficient because it allows vector-matrix multiplication to be performed using a series of dot products.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_PACKMATRIX_ROWMAJOR</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/Zpr<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Unless explicitly specified, matrices will be packed in row-major order (each vector will be in a single row) when passed to or from the shader.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p><strong>Compiler flags</strong></p>
<p>The DirectX 10 HLSL compiler is now the default compiler. See <a href="../direct3dtools/fxc.html">Effect-Compiler Tool</a> for details.</p>
<p>The following table details the flags available in Direct3D 9 and Direct3D 10. The value for the flag is the equivalent fxc option.</p>
<table>
<thead>
<tr>
<th align="left">Constant/value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_AVOID_FLOW_CONTROL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/Gfa<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">This is a hint to the compiler to avoid using flow-control instructions.<!-- raw HTML omitted --> Direct3D 9 - yes<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_DEBUG</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/Zi<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Insert debug filename, line numbers, and type and symbol information during shader compile.<!-- raw HTML omitted --> Direct3D 9 - yes<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_ENABLE_BACKWARDS_COMPATIBILITY</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/Gec<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Compile ps_1_x shaders as ps_2_0. Effects that specify ps_1_x targets will instead compile to ps_2_0 targets because this is the minimum shader version supported by the version of the shader compiler shipped with DirectX 10. This flag has no effect when used with higher level compile targets.<!-- raw HTML omitted --> Direct3D 9 - no<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_FORCE_PS_SOFTWARE_NOOPT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->N/A<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Force the compiler to compile against the next highest available software target for pixel shaders. This flag also turns optimizations off and debugging on.<!-- raw HTML omitted --> Direct3D 9 - yes<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_FORCE_VS_SOFTWARE_NOOPT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->N/A<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Force the compiler to compile against the next highest available software target for vertex shaders. This flag also turns optimizations off and debugging on.<!-- raw HTML omitted --> Direct3D 9 - yes<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_IEEE_STRICTNESS</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/Gis<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Disable optimizations that may cause the output of a compiled shader program to differ from the output of a program compiled with the DirectX 9 shader compiler due to small precision erros in floating point math.<!-- raw HTML omitted --> Direct3D 9 - no<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_NO_PRESHADER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/Op<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Disables preshaders. The compiler will not pull out static expressions for evaluation on the host CPU. Additionally, the compiler will not loft any expressions when compiling stand-alone functions.<!-- raw HTML omitted --> Direct3D 9 - yes<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_OPTIMIZATION_LEVEL0</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/O0<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Lowest optimization level. May produce slower code but will do so more quickly. This may be useful in a highly iterative shader development cycle.<!-- raw HTML omitted --> Direct3D 9 - no<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_OPTIMIZATION_LEVEL1</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/O1<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Second lowest optimization level.<!-- raw HTML omitted --> Direct3D 9 - no<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_OPTIMIZATION_LEVEL2</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/O2<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Second highest optimization level.<!-- raw HTML omitted --> Direct3D 9 - no<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_OPTIMIZATION_LEVEL3</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/O3<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Highest optimization level. Will produce best possible code but may take significantly longer to do so. This will be useful for final builds of an application where performance is the most important factor.<!-- raw HTML omitted --> Direct3D 9 - no<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_PARTIALPRECISION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/Gpp<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Force all computations in the resulting shader to occur at partial precision. This may result in faster evaluation of shaders on some hardware.<!-- raw HTML omitted --> Direct3D 9 - yes<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_PREFER_FLOW_CONTROL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/Gfp<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">This is a hint to the compiler to prefer using flow-control instructions.<!-- raw HTML omitted --> Direct3D 9 - yes<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_SKIPOPTIMIZATION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/Od<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Instruct the compiler to skip optimization steps during code generation. Unless you are trying to isolate a problem in your code and you suspect the compiler, using this option is not recommended.<!-- raw HTML omitted --> Direct3D 9 - yes<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_SKIPVALIDATION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/Vd<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Do not validate the generated code against known capabilities and constraints. This option is recommended only when compiling shaders that are known to work (that is, shaders that have compiled before without this option). Shaders are always validated by the runtime before they are set to the device.<!-- raw HTML omitted --> Direct3D 9 - yes<!-- raw HTML omitted --> Direct3D 10 - yes<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_USE_LEGACY_D3DX9_31_DLL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->/LD<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Enable the use of the original Direct3D 9 HLSL compiler. OCT2006_d3dx9_31_x86.cab or OCT2006_d3dx9_31_x64.cab must be included as part of the applications redist. This flag is required to compile ps_1_x shaders without using the promotion flag to ps_2_0. Specifying this flag when obtaining an <a href="id3dxeffectcompiler.html"><strong>ID3DXEffectCompiler</strong></a> interface causes subsequent calls to <a href="id3dxeffectcompiler--compileeffect.html"><strong>CompileEffect</strong></a> and <a href="id3dxeffectcompiler--compileshader.html"><strong>CompileShader</strong></a> through this object to use the legacy compiler.<!-- raw HTML omitted --> Direct3D 9 - yes<!-- raw HTML omitted --> Direct3D 10 - no<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p><strong>Assembler flags</strong></p>
<p>Assembler flags are used by the effect system to optimize shader and effect assembly code.</p>
<table>
<thead>
<tr>
<th align="left">Constant</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_DEBUG</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Insert debug filename, line numbers, and type and symbol information during shader compile.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_FORCE_PS_SOFTWARE_NOOPT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Force the compiler to compile against the next highest available software target for pixel shaders. This flag also turns optimizations off and debugging on.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_FORCE_VS_SOFTWARE_NOOPT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Force the compiler to compile against the next highest available software target for vertex shaders. This flag also turns optimizations off and debugging on.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>D3DXSHADER_SKIPVALIDATION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Do not validate the generated code against known capabilities and constraints. This option is recommended only when compiling shaders that are known to work (that is, shaders that have compiled before without this option). Shaders are always validated by the runtime before they are set to the device.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>The effect system will use <strong>parser flags</strong> when called by the following functions:</p>
<ul>
<li><a href="d3dxcompileshader.html"><strong>D3DXCompileShader</strong></a></li>
<li><a href="d3dxcompileshaderfromfile.html"><strong>D3DXCompileShaderFromFile</strong></a></li>
<li><a href="d3dxcompileshaderfromresource.html"><strong>D3DXCompileShaderFromResource</strong></a></li>
<li><a href="id3dxeffectcompiler--compileeffect.html"><strong>CompileEffect</strong></a></li>
</ul>
<p>The effect system will use <strong>compiler flags</strong> when called by the following functions:</p>
<ul>
<li><a href="d3dxcompileshader.html"><strong>D3DXCompileShader</strong></a> (or <a href="d3dxcompileshaderfromfile.html"><strong>D3DXCompileShaderFromFile</strong></a> or <a href="d3dxcompileshaderfromresource.html"><strong>D3DXCompileShaderFromResource</strong></a>)</li>
<li><a href="id3dxeffectcompiler--compileeffect.html"><strong>CompileEffect</strong></a> (or <a href="id3dxeffectcompiler--compileshader.html"><strong>CompileShader</strong></a>)</li>
</ul>
<p>In addition, you can use <strong>compiler flags</strong> when creating an effect by calling <a href="d3dxcreateeffect.html"><strong>D3DXCreateEffect</strong></a> (or <a href="d3dxcreateeffectfromfile.html"><strong>D3DXCreateEffectFromFile</strong></a> or <a href="d3dxcreateeffectfromresource.html"><strong>D3DXCreateEffectFromResource</strong></a>).</p>
<ul>
<li>If you pass in an uncompiled .fx file, the effect system will use the flag input parameter during compilation.</li>
<li>If you pass in a compiled effect, the effect system will ignore the compiler flags since they are not needed to load the effect.</li>
</ul>
<p>The effect system will use <strong>assembler flags</strong> when called by the following functions:</p>
<ul>
<li><a href="d3dxassembleshader.html"><strong>D3DXAssembleShader</strong></a></li>
<li><a href="d3dxassembleshaderfromfile.html"><strong>D3DXAssembleShaderFromFile</strong></a></li>
<li><a href="d3dxassembleshaderfromresource.html"><strong>D3DXAssembleShaderFromResource</strong></a></li>
</ul>
<p>Applying <strong>compiler flags</strong> or <strong>assembler flags</strong> to the incorrect API will fail shader validation. Check the Direct3D error code return value from the function with the DirectX Error Lookup Tool (DXErr.exe) to help track down this error. You can get DXErr.exe and learn about it from the DirectX SDK. For info about the DirectX SDK, see <a href="../directx-sdk--august-2009-.html">Where is the DirectX SDK?</a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9shader.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-constants.html">D3DX Constants</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
