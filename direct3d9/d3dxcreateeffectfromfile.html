<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXCreateEffectFromFile function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: D3DXCreateEffectFromFile function - Create an effect from an ASCII or binary effect description.
ms.assetid: b5868ba3-0869-46f7-804f-3103358a3ef5
title: D3DXCreateEffectFromFile function (D3DX9Effect.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXCreateEffectFromFile
api_type:</li>
<li>LibDef
api_location:</li>
<li>D3dx9.lib</li>
<li>D3dx9.dll</li>
</ul>
<hr />
<h1>D3DXCreateEffectFromFile function</h1>
<p>Create an effect from an ASCII or binary effect description.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXCreateEffectFromFile(
  _In_Â Â Â Â Â Â Â Â LPDIRECT3DDEVICE9 pDevice,
  _In_Â Â Â Â Â Â Â Â LPCTSTR Â Â Â Â Â Â Â Â Â Â pSrcFile,
  _In_Â Â const D3DXMACRO Â Â Â Â Â Â Â Â *pDefines,
  _In_Â Â Â Â Â Â Â Â LPD3DXINCLUDE Â Â Â Â pInclude,
  _In_Â Â Â Â Â Â Â Â DWORD Â Â Â Â Â Â Â Â Â Â Â Â Flags,
  _In_Â Â Â Â Â Â Â Â LPD3DXEFFECTPOOL Â pPool,
  _Out_Â Â Â Â Â Â Â LPD3DXEFFECT Â Â Â Â Â *ppEffect,
  _Out_Â Â Â Â Â Â Â LPD3DXBUFFER Â Â Â Â Â *ppCompilationErrors
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pDevice</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9"><strong>LPDIRECT3DDEVICE9</strong></a></strong></p>
<p>Pointer to the device that will create the effect. See <a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9"><strong>IDirect3DDevice9</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>pSrcFile</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPCTSTR</strong></a></strong></p>
<p>Pointer to the filename. This parameter supports both Unicode and ANSI strings. See Remarks.</p>
<!-- raw HTML omitted -->
<p><em>pDefines</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>const <a href="d3dxmacro.html"><strong>D3DXMACRO</strong></a>*</strong></p>
<p>Optional NULL-terminated array of preprocessor macro definitions. See <a href="d3dxmacro.html"><strong>D3DXMACRO</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>pInclude</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxinclude.html"><strong>LPD3DXINCLUDE</strong></a></strong></p>
<p>Optional interface pointer, <a href="id3dxinclude.html"><strong>ID3DXInclude</strong></a>, to use for handling #include directives. If this value is <strong>NULL</strong>, #includes will either be honored when compiling from a file or will cause an error when compiled from a resource or memory.</p>
<!-- raw HTML omitted -->
<p><em>Flags</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>If <em>pSrcFile</em> contains a text effect, flags can be a combination of <a href="d3dxshader-flags.html">D3DXSHADER Flags</a> and <a href="d3dxfx.html">D3DXFX</a> flags; otherwise, <em>pSrcFile</em> contains a binary effect and the only flags honored are D3DXFX flags. The Direct3D 10 HLSL compiler is now the default. See <a href="../direct3dtools/fxc.html">Effect-Compiler Tool</a> for details.</p>
<!-- raw HTML omitted -->
<p><em>pPool</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxeffectpool.html"><strong>LPD3DXEFFECTPOOL</strong></a></strong></p>
<p>Pointer to a <a href="id3dxeffectpool.html"><strong>ID3DXEffectPool</strong></a> object to use for shared parameters. If this value is <strong>NULL</strong>, no parameters will be shared.</p>
<!-- raw HTML omitted -->
<p><em>ppEffect</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxeffect.html"><strong>LPD3DXEFFECT</strong></a>*</strong></p>
<p>Returns a pointer to a buffer containing the compiled effect. See <a href="id3dxeffect.html"><strong>ID3DXEffect</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>ppCompilationErrors</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxbuffer.html"><strong>LPD3DXBUFFER</strong></a>*</strong></p>
<p>Returns a pointer to a buffer containing a listing of compile errors. See <a href="id3dxbuffer.html"><strong>ID3DXBuffer</strong></a>.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is D3D_OK. If the function fails, the return value can be one of the following: D3DERR_INVALIDCALL, D3DXERR_INVALIDDATA, E_OUTOFMEMORY.</p>
<h2>Remarks</h2>
<p>If the compiler settings require Unicode, the data type LPCTSTR resolves to LPCWSTR. Otherwise, the LPCTSTR data type resolves to LPCSTR.</p>
<p>The compiler setting also determines the function version. If Unicode is defined, the function call resolves to D3DXCreateEffectFromFileW. Otherwise, the function call resolves to D3DXCreateEffectFromFileA because ANSI strings are being used.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3DX9Effect.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-effects-functions.html">Effect Functions</a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxcompileshader.html"><strong>D3DXCompileShader</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxcompileshaderfromresource.html"><strong>D3DXCompileShaderFromResource</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
