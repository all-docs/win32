<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DLOCK</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: A combination of zero or more locking options that describe the type of lock to perform.
ms.assetid: 46a611bd-a1ec-4967-b68d-72661d1b5cad
title: D3DLOCK
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>D3DLOCK</h1>
<p>A combination of zero or more locking options that describe the type of lock to perform.</p>
<table>
<thead>
<tr>
<th>#define</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>D3DLOCK_DISCARD</td>
<td>The application discards all memory within the locked region. For vertex and index buffers, the entire buffer will be discarded. This option is only valid when the resource is created with dynamic usage (see <a href="d3dusage.html">D3DUSAGE</a>).</td>
</tr>
<tr>
<td>D3DLOCK_DONOTWAIT</td>
<td>Allows an application to gain back CPU cycles if the driver cannot lock the surface immediately. If this flag is set and the driver cannot lock the surface immediately, the lock call will return D3DERR_WASSTILLDRAWING. This flag can only be used when locking a surface created using <a href="/windows/desktop/api"><strong>CreateOffscreenPlainSurface</strong></a>, <a href="/windows/desktop/api"><strong>CreateRenderTarget</strong></a>, or <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createdepthstencilsurface"><strong>CreateDepthStencilSurface</strong></a>. This flag can also be used with a back buffer.</td>
</tr>
<tr>
<td>D3DLOCK_NO_DIRTY_UPDATE</td>
<td>By default, a lock on a resource adds a dirty region to that resource. This option prevents any changes to the dirty state of the resource. Applications should use this option when they have additional information about the set of regions changed during the lock operation.</td>
</tr>
<tr>
<td>D3DLOCK_NOOVERWRITE</td>
<td>Indicates that memory that was referred to in a drawing call since the last lock without this flag will not be modified during the lock. This can enable optimizations when the application is appending data to a resource. Specifying this flag enables the driver to return immediately if the resource is in use, otherwise, the driver must finish using the resource before returning from locking.</td>
</tr>
<tr>
<td>D3DLOCK_NOSYSLOCK</td>
<td>The default behavior of a video memory lock is to reserve a system-wide critical section, guaranteeing that no display mode changes will occur for the duration of the lock. This option causes the system-wide critical section not to be held for the duration of the lock.<!-- raw HTML omitted --> The lock operation is time consuming, but can enable the system to perform other duties, such as moving the mouse cursor. This option is useful for long-duration locks, such as the lock of the back buffer for software rendering that would otherwise adversely affect system responsiveness.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>D3DLOCK_READONLY</td>
<td>The application will not write to the buffer. This enables resources stored in non-native formats to save the recompression step when unlocking.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Constant Information</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header</td>
<td>d3d9types.h</td>
</tr>
<tr>
<td>Minimum operating system</td>
<td>Windows 98</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3d-constants.html">Direct3D Constants</a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dcubetexture9-lockrect"><strong>LockRect</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dindexbuffer9-lock"><strong>Lock</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dcubetexture9-lockrect"><strong>LockRect</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dcubetexture9-lockrect"><strong>LockRect</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dindexbuffer9-lock"><strong>Lock</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dvolume9-lockbox"><strong>LockBox</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dvolume9-lockbox"><strong>LockBox</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="id3dxbasemesh--lockindexbuffer.html"><strong>LockIndexBuffer</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="id3dxbasemesh--lockvertexbuffer.html"><strong>LockVertexBuffer</strong></a></p>
<!-- raw HTML omitted -->
<p><strong>LockVertexBuffer</strong></p>
<!-- raw HTML omitted -->
<p><a href="id3dxmesh--lockattributebuffer.html"><strong>LockAttributeBuffer</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="id3dxpatchmesh--lockattributebuffer.html"><strong>LockAttributeBuffer</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="id3dxpatchmesh--lockindexbuffer.html"><strong>LockIndexBuffer</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="id3dxpatchmesh--lockvertexbuffer.html"><strong>LockVertexBuffer</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
