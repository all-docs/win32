<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Light Types (Direct3D 9)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The light type property defines which type of light source you're using.
ms.assetid: 7718383a-6e49-4ad2-acc1-fc8fec0d4844
title: Light Types (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Light Types (Direct3D 9)</h1>
<p>The light type property defines which type of light source you're using. The light type is set by using a value from the <a href="./d3dlighttype.html"><strong>D3DLIGHTTYPE</strong></a> C++ enumeration in the Type member of the light's <a href="d3dlight9.html"><strong>D3DLIGHT9</strong></a> structure. There are three types of lights in Direct3D - point lights, spotlights, and directional lights. Each type illuminates objects in a scene differently, with varying levels of computational overhead.</p>
<h2>Point Light</h2>
<p>Point lights have color and position within a scene, but no single direction. They give off light equally in all directions, as shown in the following illustration.</p>
<p><img src="images/ptlight.png" alt="illustration of point light" /></p>
<p>A light bulb is a good example of a point light. Point lights are affected by attenuation and range, and illuminate a mesh on a vertex-by-vertex basis. During lighting, Direct3D uses the point light's position in world space and the coordinates of the vertex being lit to derive a vector for the direction of the light, and the distance that the light has traveled. Both are used, along with the vertex normal, to calculate the contribution of the light to the illumination of the surface.</p>
<h2>Directional Light</h2>
<p>Directional lights have only color and direction, not position. They emit parallel light. This means that all light generated by directional lights travels through a scene in the same direction. Imagine a directional light as a light source at near infinite distance, such as the sun. Directional lights are not affected by attenuation or range, so the direction and color you specify are the only factors considered when Direct3D calculates vertex colors. Because of the small number of illumination factors, these are the least computationally intensive lights to use.</p>
<h2>SpotLight</h2>
<p>Spotlights have color, position, and direction in which they emit light. Light emitted from a spotlight is made up of a bright inner cone and a larger outer cone, with the light intensity diminishing between the two, as shown in the following illustration.</p>
<p><img src="images/spotlt.png" alt="illustration of a spotlight with an inner cone and an outer cone" /></p>
<p>Spotlights are affected by falloff, attenuation, and range. These factors, as well as the distance light travels to each vertex, are figured in when computing lighting effects for objects in a scene. Computing these effects for each vertex makes spotlights the most computationally time-consuming of all lights in Direct3D.</p>
<p>The <a href="d3dlight9.html"><strong>D3DLIGHT9</strong></a> C++ structure contains three members that are used only by spotlights. These members - Falloff, Theta, and Phi - control how large or small a spotlight object's inner and outer cones are, and how light decreases between them.</p>
<p>The Theta value is the radian angle of the spotlight's inner cone, and the Phi value is the angle for the outer cone of light. The Falloff value controls how light intensity decreases between the outer edge of the inner cone and the inner edge of the outer cone. Most applications set Falloff to 1.0 to create falloff that occurs evenly between the two cones, but you can set other values as needed.</p>
<p>The following illustration shows the relationship between the values for these members and how they can affect a spotlight's inner and outer cones of light.</p>
<p><img src="images/spotlt2.png" alt="illustration of how the phi and theta values relate to the spotlight cones" /></p>
<p>Spotlights emit a cone of light that has two parts: a bright inner cone and an outer cone. Light is brightest in the inner cone and isn't present outside the outer cone, with light intensity attenuating between the two areas. This type of attenuation is commonly referred to as falloff.</p>
<p>The amount of light a vertex receives is based on the vertex's location in the inner or outer cones. Direct3D computes the dot product of the spotlight's direction vector (L) and the vector from the light to the vertex (D). This value is equal to the cosine of the angle between the two vectors, and serves as an indicator of the vertex's position that can be compared to the light's cone angles to determine where the vertex might lie in the inner or outer cones. The following illustration provides a graphical representation of the association between these two vectors.</p>
<p><img src="images/spotalg1.png" alt="illustration of the spotlight direction vector and the vector from the vertex to the spotlight" /></p>
<p>The system compares this value to the cosine of the spotlight's inner and outer cone angles. In the light's <a href="d3dlight9.html"><strong>D3DLIGHT9</strong></a> structure, the Theta and Phi members represent the total cone angles for the inner and outer cones. Because the attenuation occurs as the vertex becomes more distant from the center of illumination (rather than across the total cone angle), the runtime divides these cone angles in half before calculating their cosines.</p>
<p>If the dot product of vectors L and D is less than or equal to the cosine of the outer cone angle, the vertex lies beyond the outer cone and receives no light. If the dot product of L and D is greater than the cosine of the inner cone angle, then the vertex is within the inner cone and receives the maximum amount of light, still considering attenuation over distance. If the vertex is somewhere between the two regions, then falloff is calculated with the following equation.</p>
<p><img src="images/falloff.png" alt="formula for light intensity at vertex, after falloff" /></p>
<p>Where:</p>
<ul>
<li>I <!-- raw HTML omitted -->f<!-- raw HTML omitted --> is light intensity after falloff</li>
<li>Alpha is the angle between vectors L and D</li>
<li>Theta is the inner cone angle</li>
<li>Phi is the outer cone angle</li>
<li>p is the falloff</li>
</ul>
<p>This formula generates a value between 0.0 and 1.0 that scales the light's intensity at the vertex to account for falloff. Attenuation as a factor of the vertex's distance from the light is also applied. The following graph shows how different falloff values can affect the falloff curve.</p>
<p><img src="images/fallgraf.png" alt="graph of light intensity versus the vertex distance from the light" /></p>
<p>The effect of various falloff values on the actual lighting is subtle, and a small performance penalty is incurred by shaping the falloff curve with falloff values other than 1.0. For these reasons, this value is typically set to 1.0.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="lights-and-materials.html">Lights and Materials</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
