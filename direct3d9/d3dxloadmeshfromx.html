<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DXLoadMeshFromX function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Loads a mesh from a DirectX .x file.
ms.assetid: cc43d2c4-3547-4431-b506-010cced26754
title: D3DXLoadMeshFromX function (D3DX9Mesh.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>D3DXLoadMeshFromX
api_type:</li>
<li>LibDef
api_location:</li>
<li>d3dx9.lib</li>
<li>d3dx9.dll</li>
</ul>
<hr />
<h1>D3DXLoadMeshFromX function</h1>
<p>Loads a mesh from a DirectX .x file.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DXLoadMeshFromX(
  _In_Â Â LPCTSTR Â Â Â Â Â Â Â Â Â Â pFilename,
  _In_Â Â DWORD Â Â Â Â Â Â Â Â Â Â Â Â Options,
  _In_Â Â LPDIRECT3DDEVICE9 pD3DDevice,
  _Out_Â LPD3DXBUFFER Â Â Â Â Â *ppAdjacency,
  _Out_Â LPD3DXBUFFER Â Â Â Â Â *ppMaterials,
  _Out_Â LPD3DXBUFFER Â Â Â Â Â *ppEffectInstances,
  _Out_Â DWORD Â Â Â Â Â Â Â Â Â Â Â Â *pNumMaterials,
  _Out_Â LPD3DXMESH Â Â Â Â Â Â Â *ppMesh
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pFilename</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>LPCTSTR</strong></a></strong></p>
<p>Pointer to a string that specifies the filename. If the compiler settings require Unicode, the data type LPCTSTR resolves to LPCWSTR. Otherwise, the string data type resolves to LPCSTR. See Remarks.</p>
<!-- raw HTML omitted -->
<p><em>Options</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a></strong></p>
<p>Combination of one or more flags from the <a href="./d3dxmesh.html"><strong>D3DXMESH</strong></a> enumeration, which specifies creation options for the mesh.</p>
<!-- raw HTML omitted -->
<p><em>pD3DDevice</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9"><strong>LPDIRECT3DDEVICE9</strong></a></strong></p>
<p>Pointer to an <a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9"><strong>IDirect3DDevice9</strong></a> interface, the device object associated with the mesh.</p>
<!-- raw HTML omitted -->
<p><em>ppAdjacency</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxbuffer.html"><strong>LPD3DXBUFFER</strong></a>*</strong></p>
<p>Pointer to a buffer that contains adjacency data. The adjacency data contains an array of three DWORDs per face that specify the three neighbors for each face in the mesh. For more information about accessing the buffer, see <a href="id3dxbuffer.html"><strong>ID3DXBuffer</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>ppMaterials</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxbuffer.html"><strong>LPD3DXBUFFER</strong></a>*</strong></p>
<p>Pointer to a buffer containing materials data. The buffer contains an array of <a href="d3dxmaterial.html"><strong>D3DXMATERIAL</strong></a> structures, containing information from the DirectX file. For more information about accessing the buffer, see <a href="id3dxbuffer.html"><strong>ID3DXBuffer</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>ppEffectInstances</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxbuffer.html"><strong>LPD3DXBUFFER</strong></a>*</strong></p>
<p>Pointer to a buffer containing an array of effect instances, one per attribute group in the returned mesh. An effect instance is a particular instance of state information used to initialize an effect. See <a href="d3dxeffectinstance.html"><strong>D3DXEFFECTINSTANCE</strong></a>. For more information about accessing the buffer, see <a href="id3dxbuffer.html"><strong>ID3DXBuffer</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>pNumMaterials</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="../winprog/windows-data-types.html"><strong>DWORD</strong></a>*</strong></p>
<p>Pointer to the number of <a href="d3dxmaterial.html"><strong>D3DXMATERIAL</strong></a> structures in the <em>ppMaterials</em> array, when the method returns.</p>
<!-- raw HTML omitted -->
<p><em>ppMesh</em> [out]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="id3dxmesh.html"><strong>LPD3DXMESH</strong></a>*</strong></p>
<p>Address of a pointer to an <a href="id3dxmesh.html"><strong>ID3DXMesh</strong></a> interface, representing the loaded mesh.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>If the function succeeds, the return value is D3D_OK. If the function fails, the return value can be one of the following values: D3DERR_INVALIDCALL, E_OUTOFMEMORY.</p>
<h2>Remarks</h2>
<p>The compiler setting also determines the function version. If Unicode is defined, the function call resolves to D3DXLoadMeshFromXW. Otherwise, the function call resolves to D3DXLoadMeshFromXA because ANSI strings are being used.</p>
<p>All the meshes in the file will be collapsed into one output mesh. If the file contains a frame hierarchy, all the transformations will be applied to the mesh.</p>
<p>For mesh files that do not contain effect instance information, default effect instances will be generated from the material information in the .x file. A default effect instance will have default values that correspond to the members of the <a href="d3dmaterial9.html"><strong>D3DMATERIAL9</strong></a> structure.</p>
<p>The default texture name is also filled in, but is handled differently. The name will be Texture0@Name, which corresponds to an effect variable by the name of &quot;Texture0&quot; with an annotation called &quot;Name.&quot; This will contain the string file name for the texture.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3DX9Mesh.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx9.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-d3dx-functions-mesh.html">Mesh Functions</a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxeffectdefault.html"><strong>D3DXEFFECTDEFAULT</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="d3dxeffectinstance.html"><strong>D3DXEFFECTINSTANCE</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
