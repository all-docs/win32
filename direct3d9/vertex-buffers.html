<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Vertex Buffers (Direct3D 9)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Vertex buffers, represented by the IDirect3DVertexBuffer9 interface, are memory buffers that contain vertex data.
ms.assetid: 'vs|directx_sdk|~\vertex_buffers.htm'
title: Vertex Buffers (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Vertex Buffers (Direct3D 9)</h1>
<p>Vertex buffers, represented by the <a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dvertexbuffer9"><strong>IDirect3DVertexBuffer9</strong></a> interface, are memory buffers that contain vertex data. Vertex buffers can contain any vertex type - transformed or untransformed, lit or unlit - that can be rendered through the use of the rendering methods in the <a href="/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9"><strong>IDirect3DDevice9</strong></a> interface. You can process the vertices in a vertex buffer to perform operations such as transformation, lighting, or generating clipping flags. Transformation is always performed.</p>
<p>The flexibility of vertex buffers make them ideal staging points for reusing transformed geometry. You could create a single vertex buffer, transform, light, and clip the vertices in it, and render the model in the scene as many times as needed without re-transforming it, even with interleaved render state changes. This is useful when rendering models that use multiple textures: the geometry is transformed only once, and then portions of it can be rendered as needed, interleaved with the required texture changes. Render state changes made after vertices are processed take effect the next time the vertices are processed.</p>
<ul>
<li><a href="#description">Description</a></li>
<li><a href="#memory-pool-and-usage">Memory Pool and Usage</a></li>
</ul>
<h2>Description</h2>
<p>A vertex buffer is described in terms of its capabilities: if it can exist only in system memory, if it is only used for write operations, and the type and number of vertices it can contain. All these traits are held in a <a href="d3dvertexbuffer-desc.html"><strong>D3DVERTEXBUFFER_DESC</strong></a> structure.</p>
<p>The Format member is set to D3DFMT_VERTEXDATA to indicate that this is a vertex buffer. The Type identifies the resource type of the vertex buffer. The Usage structure member contains general capability flags. The D3DUSAGE_SOFTWAREPROCESSING flag indicates that the vertex buffer is to be used with software vertex processing. The presence of the D3DUSAGE_WRITEONLY flag in Usage indicates that the vertex buffer memory is used only for write operations. This frees the driver to place the vertex data in the best memory location to enable fast processing and rendering. If the D3DUSAGE_WRITEONLY flag is not used, the driver is less likely to put the data in a location that is inefficient for read operations. This sacrifices some processing and rendering speed. If this flag is not specified, it is assumed that applications perform read and write operations on the data within the vertex buffer.</p>
<p>Pool specifies the memory class that is allocated for the vertex buffer. The D3DPOOL_SYSTEMMEM flag indicates that the system created the vertex buffer in system memory.</p>
<p>The Size member stores the size, in bytes, of the vertex buffer data. The FVF member contains a combination of <a href="d3dfvf.html">D3DFVF</a> that identify the type of vertices that the buffer contains.</p>
<h2>Memory Pool and Usage</h2>
<p>You can create vertex buffers with the <a href="/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvertexbuffer"><strong>IDirect3DDevice9::CreateVertexBuffer</strong></a> method, which takes pool (memory class) and usage parameters. <strong>IDirect3DDevice9::CreateVertexBuffer</strong> can also be created with a specified FVF code for use in fixed function vertex processing, or as the output of process vertices. For details, see <a href="fvf-vertex-buffers.html">FVF Vertex Buffers (Direct3D 9)</a>.</p>
<p>The D3DUSAGE_SOFTWAREPROCESSING flag can be set when mixed-mode or software vertex processing (D3DCREATE_MIXED_VERTEXPROCESSING / D3DCREATE_SOFTWARE_VERTEXPROCESSING) is enabled for that device. D3DUSAGE_SOFTWAREPROCESSING must be set for buffers to be used with software vertex processing in mixed mode, but it should not be set for the best possible performance when using hardware vertex processing in mixed mode.(D3DCREATE_HARDWARE_VERTEXPROCESSING). However, setting D3DUSAGE_SOFTWAREPROCESSING is the only option when a single buffer is to be used with both hardware and software vertex processing. D3DUSAGE_SOFTWAREPROCESSING is allowed for mixed as well as for software devices.</p>
<p>It is possible to force vertex and index buffers into system memory by specifying D3DPOOL_SYSTEMMEM, even when the vertex processing is done in hardware. This is a way to avoid overly large amounts of page-locked memory when a driver is putting these buffers into AGP memory.</p>
<p>This section introduces the concepts necessary to understand and use vertex buffers in a Direct3D application. Information is divided into the following sections.</p>
<ul>
<li><a href="creating-a-vertex-buffer.html">Creating a Vertex Buffer (Direct3D 9)</a></li>
<li><a href="accessing-the-contents-of-a-vertex-buffer.html">Accessing the Contents of a Vertex Buffer (Direct3D 9)</a></li>
<li><a href="rendering-from-a-vertex-buffer.html">Rendering from a Vertex Buffer (Direct3D 9)</a></li>
<li><a href="fvf-vertex-buffers.html">FVF Vertex Buffers (Direct3D 9)</a></li>
<li><a href="fixed-function-vertex-processing.html">Fixed Function Vertex Processing (Direct3D 9)</a></li>
<li><a href="programmable-vertex-processing.html">Programmable Vertex Processing (Direct3D 9)</a></li>
<li><a href="device-types-and-vertex-processing-requirements.html">Device Types and Vertex Processing Requirements (Direct3D 9)</a></li>
</ul>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="direct3d-resources.html">Direct3D Resources</a></p>
<!-- raw HTML omitted -->
<p><a href="rendering-from-vertex-and-index-buffers.html">Rendering from Vertex and Index Buffers (Direct3D 9)</a></p>
<!-- raw HTML omitted -->
<p><a href="index-buffers.html">Index Buffers (Direct3D 9)</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
