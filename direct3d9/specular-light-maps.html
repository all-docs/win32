<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Specular Light Maps (Direct3D 9)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: When illuminated by a light source, shiny objects - those that use highly reflective materials - receive specular highlights.
ms.assetid: cea53131-1e2e-4389-80fd-ef5a0d068703
title: Specular Light Maps (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Specular Light Maps (Direct3D 9)</h1>
<p>When illuminated by a light source, shiny objects - those that use highly reflective materials - receive specular highlights. In some cases, the specular highlights produced by the lighting module is not accurate. To produce a more appealing highlight, many Direct3D applications apply specular light maps to primitives.</p>
<p>To perform specular light mapping, add the specular light map to the primitive's texture, then modulate (multiply the result by) the RGB light map.</p>
<p>The following code example illustrates this process in C++.</p>
<pre><code>// This example assumes that d3dDevice is a valid pointer to an
// IDirect3DDevice9 interface.
// lptexBaseTexture is a valid pointer to a texture.
// lptexSpecLightMap is a valid pointer to a texture that contains RGB
// specular light map data.
// lptexLightMap is a valid pointer to a texture that contains RGB
// light map data.

// Set the base texture.
d3dDevice-&gt;SetTexture(0, lptexBaseTexture );

// Set the base texture operation and arguments.
d3dDevice-&gt;SetTextureStageState(0, D3DTSS_COLOROP, D3DTOP_MODULATE );
d3dDevice-&gt;SetTextureStageState(0, D3DTSS_COLORARG1, D3DTA_TEXTURE );
d3dDevice-&gt;SetTextureStageState(0, D3DTSS_COLORARG2, D3DTA_DIFFUSE );

// Set the specular light map.
d3dDevice-&gt;SetTexture(1, lptexSpecLightMap);

// Set the specular light map operation and args.
d3dDevice-&gt;SetTextureStageState(1, D3DTSS_COLOROP, D3DTOP_ADD );
d3dDevice-&gt;SetTextureStageState(1, D3DTSS_COLORARG1, D3DTA_TEXTURE );
d3dDevice-&gt;SetTextureStageState(1, D3DTSS_COLORARG2, D3DTA_CURRENT );

// Set the RGB light map.
d3dDevice-&gt;SetTexture(2, lptexLightMap);

// Set the RGB light map operation and arguments.
d3dDevice-&gt;SetTextureStageState(2,D3DTSS_COLOROP, D3DTOP_MODULATE);
d3dDevice-&gt;SetTextureStageState(2,D3DTSS_COLORARG1, D3DTA_TEXTURE );
d3dDevice-&gt;SetTextureStageState(2,D3DTSS_COLORARG2, D3DTA_CURRENT );
</code></pre>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="light-mapping-with-textures.html">Light Mapping with Textures</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
