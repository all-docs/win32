<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Debugging WOW64</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Debugging WOW64
description: Applications running under WOW64 can be debugged with either an x86-hosted debugger or a native debugger.
ms.assetid: e0945bdd-998d-4531-869f-21c505cb2135
keywords:</p>
<ul>
<li>WOW64 64-bit Windows Programming , debugging</li>
<li>debugging WOW64 64-bit Windows Programming
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Debugging WOW64</h1>
<p>Applications running under WOW64 can be debugged two ways:</p>
<ul>
<li>Use an x86-hosted debugger such as NTSD, WinDbg, or Visual Studio. The 32-bit NTSD is installed to %systemroot%\syswow64 on retail installations. Note that x86 debuggers can be used to debug x86 code, but cannot be used to disassemble or set breakpoints within the WOW64 thunk layer because it is 64-bit native code.</li>
<li>Use a native debugger such as CDB, NTSD, or WinDbg and the WOW64 debugger extension, Wow64exts.dll. If the native debugger breaks while the processor is in x86 mode, the debugger presents the process as an x86 process. If the processor is in native mode, the debugger presents the process as native.</li>
</ul>
<p>CDB, NTSD, and WinDbg are included in Debugging Tools for Windows. For more information, see the <a href="/windows-hardware/drivers/debugger/">Debugging Tools for Windows</a> documentation.</p>
<p>The Wow64exts debugger extension is installed with WinDbg. Use the !load wow64exts command to load the debugger extension. The following table lists the !wow64exts debugger extension commands.</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>!wow64exts.sw</td>
<td>Switches between x86 and native mode.</td>
</tr>
<tr>
<td>!wow64exts.k <em>count</em></td>
<td>Dumps a combined 32-bit/64-bit stack trace. If <em>count</em> is specified, the command dumps the first <em>count</em> addresses in each stack trace.</td>
</tr>
<tr>
<td>!wow64exts.info</td>
<td>Dumps basic information about the PEB of the process, the TEB of the current thread, and thread local storage (TLS) slots used by WOW64.</td>
</tr>
<tr>
<td>!wow64exts.r <em>address</em></td>
<td>Dumps context for the specified address. If <em>address</em> is not specified, the command dumps context for the processor.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
