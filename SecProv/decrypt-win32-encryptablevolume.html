<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Decrypt method of the Win32_EncryptableVolume class</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Begins decryption of a fully encrypted volume, or resumes decryption of a partially encrypted volume.
ms.assetid: 3cdbb1c1-1084-4ddb-ba8d-fc2e3ec75224
title: Decrypt method of the Win32_EncryptableVolume class (Infocard.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>Win32_EncryptableVolume.Decrypt
api_type:</li>
<li>COM
api_location:</li>
<li>Root\CIMV2\Security\MicrosoftVolumeEncryption</li>
</ul>
<hr />
<h1>Decrypt method of the Win32_EncryptableVolume class</h1>
<p>The <strong>Decrypt</strong> method of the <a href="win32-encryptablevolume.html"><strong>Win32_EncryptableVolume</strong></a> class begins decryption of a fully encrypted volume, or resumes decryption of a partially encrypted volume.</p>
<p>When decryption is paused or in-progress, this method behaves the same as <a href="resumeconversion-win32-encryptablevolume.html"><strong>ResumeConversion</strong></a>. When encryption is paused or in-progress, this method reverts the encryption and begins decryption. After decryption completes, all key protectors on this volume are removed from the system and the volume converts to a standard NTFS file system.</p>
<blockquote>
<p>[!Note]<br />
If the disc is hardware encrypted, the <strong>Decrypt</strong> method sets band status to &quot;always unlocked&quot;, removes all associated metadata, and zeroes the security ID for the drive.</p>
</blockquote>
<p>Â </p>
<h2>Syntax</h2>
<pre lang="mof"><code>uint32 Decrypt();
</code></pre>
<h2>Parameters</h2>
<p>This method has no parameters.</p>
<h2>Return value</h2>
<p>Type: <strong>uint32</strong></p>
<p>This method returns one of the following codes or another error code if it fails.</p>
<p>This method returns immediately. If the volume is already fully decrypted and no other errors exist, this method returns 0.</p>
<table>
<thead>
<tr>
<th>Return code/value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>S_OK</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0 (0x0)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The method was successful.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>FVE_E_LOCKED_VOLUME</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->2150694912 (0x80310000)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The volume is locked.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>FVE_E_AUTOUNLOCK_ENABLED</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->2150694953 (0x80310029)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>This volume cannot be decrypted because keys used to automatically unlock data volumes are available. <!-- raw HTML omitted --> Use <a href="clearallautounlockkeys-win32-encryptablevolume.html"><strong>ClearAllAutoUnlockKeys</strong></a> to remove these keys.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Security Considerations</h2>
<p>Calling the <strong>Decrypt</strong> method leaves data unprotected.</p>
<p>If the protection status of the volume is 1 (PROTECTION ON) before this method is used, successful completion of this method changes the protection status to 0 (PROTECTION OFF), since by definition a partially encrypted volume is not protected.</p>
<h2>Remarks</h2>
<p>If the volume is not already fully decrypted, running <strong>Decrypt</strong> causes <a href="getconversionstatus-win32-encryptablevolume.html"><strong>GetConversionStatus</strong></a> to indicate that decryption is progress and shows the percentage of the volume that remains encrypted.</p>
<p>If the protection status of the volume is &quot;on&quot; before this method is run, running this method changes the protection status to &quot;off&quot;, since by definition a partially encrypted volume is not protected.</p>
<p>If this method is run on the currently running operating system volume and this operating system volume is being used to automatically unlock data volumes (see method <a href="enableautounlock-win32-encryptablevolume.html"><strong>EnableAutoUnlock</strong></a>) you must first call the method <a href="clearallautounlockkeys-win32-encryptablevolume.html"><strong>ClearAllAutoUnlockKeys</strong></a>.</p>
<p>Managed Object Format (MOF) files contain the definitions for Windows Management Instrumentation (WMI) classes. MOF files are not installed as part of the Windows SDK. They are installed on the server when you add the associated role by using the Server Manager. For more information about MOF files, see <a href="../wmisdk/managed-object-format--mof-.html">Managed Object Format (MOF)</a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ Vista Enterprise, WindowsÂ Vista Ultimate [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2008 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Namespace<!-- raw HTML omitted --></td>
<td>Root\CIMV2\Security\MicrosoftVolumeEncryption<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Infocard.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>MOF<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Win32_encryptablevolume.mof<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="win32-encryptablevolume.html"><strong>Win32_EncryptableVolume</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
