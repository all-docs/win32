<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Bulk Data Encryption</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: A bulk encryption key is generated by hashing one of the MAC keys using CryptHashSessionKey together with the message contents and other data. The message is encrypted/decrypted with one of the bulk encryption keys in the usual manner.
ms.assetid: 08174502-3ff1-4c1c-bcd0-46fd85882305
title: Bulk Data Encryption
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Bulk Data Encryption</h1>
<p>A <a href="../secgloss/b-gly.html"><em>bulk encryption key</em></a> is generated by <a href="../secgloss/h-gly.html"><em>hashing</em></a> one of the MAC keys using <a href="/windows/desktop/api/Wincrypt/nf-wincrypt-crypthashsessionkey"><strong>CryptHashSessionKey</strong></a> together with the message contents and other data. The message is encrypted/decrypted with one of the bulk encryption keys in the usual manner.</p>
<p>When using a <a href="../secgloss/b-gly.html"><em>block cipher</em></a>, the <a href="../secgloss/s-gly.html"><em>Schannel</em></a> protocol engine does all necessary <em>block cipher</em> <a href="../secgloss/p-gly.html"><em>padding</em></a>. When <a href="/windows/desktop/api/Wincrypt/nf-wincrypt-cryptencrypt"><strong>CryptEncrypt</strong></a> and <a href="/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecrypt"><strong>CryptDecrypt</strong></a> are called, the Final flag is always <strong>FALSE</strong> and the data length is a multiple of whole block lengths.</p>
<blockquote>
<p>[!Note]<br />
The CSP must never buffer data internally. After the data has been encrypted (or decrypted), the size of the <a href="../secgloss/p-gly.html"><em>plaintext</em></a> must always exactly match the size of the <a href="../secgloss/c-gly.html"><em>ciphertext</em></a>.</p>
</blockquote>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
