<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Extending CryptoAPI</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: CryptoAPI has been designed to be easily extensible. New types and parameters can be defined by any cryptographic service provider (CSP) author to make CryptoAPI bend to the requirements of a wide variety of situations.
ms.assetid: fe87ccb8-16a3-443d-93df-0df02b8787f6
title: Extending CryptoAPI
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Extending CryptoAPI</h1>
<p><a href="../secgloss/c-gly.html"><em>CryptoAPI</em></a> has been designed to be easily extensible. New types and parameters can be defined by any <a href="../secgloss/c-gly.html"><em>cryptographic service provider</em></a> (CSP) author to make CryptoAPI bend to the requirements of a wide variety of situations.</p>
<table>
<thead>
<tr>
<th>Extensible items</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>Provider types<!-- raw HTML omitted --></td>
<td>A provider type represents a particular family or type of cryptographic services. New provider types can be defined, each serving a particular niche.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Provider parameters<!-- raw HTML omitted --></td>
<td>Provider parameters are sent and received using <a href="https://www.bing.com/search?q=**CPSetProvParam**"><strong>CPSetProvParam</strong></a> and <a href="https://www.bing.com/search?q=**CPGetProvParam**"><strong>CPGetProvParam</strong></a>, respectively. New provider parameters could allow a CSP to be configured in ways not foreseen by the CryptoAPI designers.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Algorithm identifiers<!-- raw HTML omitted --></td>
<td>The enumeration facilities of <a href="https://www.bing.com/search?q=**CPGetProvParam**"><strong>CPGetProvParam</strong></a> allow applications to list algorithm identifiers dynamically. New <a href="../secgloss/s-gly.html"><em>symmetric</em></a>, <a href="../secgloss/p-gly.html"><em>public key</em></a>, and <a href="../secgloss/h-gly.html"><em>hash</em></a> algorithms can be defined at any time.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Public/<a href="../secgloss/p-gly.html"><em>private key</em></a> pair types<!-- raw HTML omitted --></td>
<td>While new key pair types can be defined as needed, currently only signature and key <a href="../secgloss/e-gly.html"><em>exchange key pairs</em></a> are used.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Key BLOB types<!-- raw HTML omitted --></td>
<td>New key <a href="../secgloss/b-gly.html"><em>BLOB</em></a> types could permit session keys, public keys, and public/private key pairs to be exchanged in a flexible manner using the <a href="https://www.bing.com/search?q=**CPExportKey**"><strong>CPExportKey</strong></a> and <a href="https://www.bing.com/search?q=**CPImportKey**"><strong>CPImportKey</strong></a> functions.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Key parameters<!-- raw HTML omitted --></td>
<td>Key parameters are sent and retrieved using <a href="https://www.bing.com/search?q=**CPSetKeyParam**"><strong>CPSetKeyParam</strong></a> and <a href="https://www.bing.com/search?q=**CPGetKeyParam**"><strong>CPGetKeyParam</strong></a>. New key parameters could enable support for many different types of keys.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Hash object parameters<!-- raw HTML omitted --></td>
<td>Hash object parameters are sent and retrieved using <a href="https://www.bing.com/search?q=**CPSetHashParam**"><strong>CPSetHashParam</strong></a> and <a href="https://www.bing.com/search?q=**CPGetHashParam**"><strong>CPGetHashParam</strong></a>. New hash object parameters could enable support for many different types of <a href="../secgloss/h-gly.html"><em>hashes</em></a>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Flag values<!-- raw HTML omitted --></td>
<td>Most CryptoAPI/CryptoSPI functions have a <em>dwFlags</em> parameter. New <em>dwFlags</em> values could modify the behavior of functions as necessary.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Extensions to CryptoAPI must be made in a responsible manner. Before defining new parameters and algorithm types, a CSP developer should consult Microsoft Corporation, so that:</p>
<ul>
<li>Common CryptoAPI extensions can be identified and placed into the standard Wincrypt.h file.</li>
<li>Namespace collisions can be avoided.</li>
<li>It can be determined whether the extension is required, or whether a particular operation can be achieved by using the current API.</li>
</ul>
<blockquote>
<p>[!Note]<br />
For a CSP to be compatible with applications developed for the Microsoft Base Cryptographic Provider, it must support all of the preceding items as described in <a href="cryptography-functions.html">Base Cryptography Functions</a> and in <a href="cryptography-functions.html">Cryptography Service Provider Functions</a>.</p>
</blockquote>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
