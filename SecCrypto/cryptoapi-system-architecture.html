<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>CryptoAPI System Architecture</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Explains the CryptoAPI system architecture.
ms.assetid: 244329bb-fc71-4ab9-8831-a9478108ffa3
title: CryptoAPI System Architecture
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>CryptoAPI System Architecture</h1>
<p>The CryptoAPI system architecture is composed of five major functional areas:</p>
<ul>
<li><a href="#base-cryptographic-functions">Base Cryptographic Functions</a></li>
<li><a href="#certificate-encodedecode-functions">Certificate Encode/Decode Functions</a></li>
<li><a href="#certificate-store-functions">Certificate Store Functions</a></li>
<li><a href="#simplified-message-functions">Simplified Message Functions</a></li>
<li><a href="#low-level-message-functions">Low-level Message Functions</a></li>
</ul>
<h2>Base Cryptographic Functions</h2>
<ul>
<li><em>Context functions</em> used to connect to a CSP. These functions enable applications to choose a specific CSP by name or to choose a specific CSP that can provide a needed class of functionality.</li>
<li><a href="../secgloss/k-gly.html"><em>Key generation functions</em></a> used to generate and store <a href="../secgloss/c-gly.html"><em>cryptographic keys</em></a>. Full support is included for changing <a href="../secgloss/c-gly.html"><em>chaining modes</em></a>, <a href="../secgloss/i-gly.html"><em>initialization vectors</em></a>, and other encryption features. For more information, see <a href="cryptography-functions.html">Key Generation and Exchange Functions</a>.</li>
<li><em>Key exchange functions</em> used to exchange or transmit keys. For more information, see <a href="cryptographic-key-storage-and-exchange.html">Cryptographic Key Storage and Exchange</a> and <a href="cryptography-functions.html">Key Generation and Exchange Functions</a>.</li>
</ul>
<h2>Certificate Encode/Decode Functions</h2>
<ul>
<li>Functions used to encrypt or decrypt data. Support is also included for <a href="../secgloss/h-gly.html"><em>hashing</em></a> data. For more information, see <a href="cryptography-functions.html">Data Encryption and Decryption Functions</a> and <a href="data-encryption-and-decryption.html">Data Encryption and Decryption</a>.</li>
</ul>
<h2>Certificate Store Functions</h2>
<ul>
<li>Functions used to manage collections of digital certificates. For more information, see <a href="digital-certificates.html">Digital Certificates</a> and <a href="cryptography-functions.html">Certificate Store Functions</a>.</li>
</ul>
<h2>Simplified Message Functions</h2>
<ul>
<li>Functions used to encrypt and decrypt messages and data.</li>
<li>Functions used to sign messages and data.</li>
<li>Functions used to verify the authenticity of signatures on received messages and related data.</li>
</ul>
<p>For more information, see <a href="simplified-messages.html">Simplified Messages</a> and <a href="cryptography-functions.html">Simplified Message Functions</a>.</p>
<h2>Low-level Message Functions</h2>
<ul>
<li>Functions used to perform all of the tasks performed by the simplified message functions. The low-level message functions provide more flexibility than the simplified message functions but require more function calls. For more information, see <a href="low-level-messages.html">Low-level Messages</a> and <a href="cryptography-functions.html">Low-level Message Functions</a>.</li>
</ul>
<p><img src="images/cryparch.png" alt="cryptoapi architecture" /></p>
<p>Each of the functional areas has a key word in its function name that indicates its functional area.</p>
<table>
<thead>
<tr>
<th>Functional area</th>
<th>Function name convention</th>
</tr>
</thead>
<tbody>
<tr>
<td>Base cryptographic functions</td>
<td>Crypt</td>
</tr>
<tr>
<td>Encoding/decoding functions</td>
<td>Crypt</td>
</tr>
<tr>
<td>Certificate store functions</td>
<td>Store</td>
</tr>
<tr>
<td>Simplified message functions</td>
<td>Message</td>
</tr>
<tr>
<td>Low-level message functions</td>
<td>Msg</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Applications use functions in all of these areas. These functions, taken together, make up CryptoAPI. The <a href="../secgloss/b-gly.html"><em>base cryptographic functions</em></a> use the CSPs for the necessary cryptographic algorithms and for the generation and secure storage of <a href="cryptographic-keys.html">cryptographic keys</a>.</p>
<p>Two different kinds of cryptographic keys are used: <a href="../secgloss/s-gly.html"><em>session keys</em></a>, which are used for a single encryption/decryption, and <a href="../secgloss/p-gly.html"><em>public/private key pairs</em></a>, which are used on a more permanent basis.</p>
<blockquote>
<p>[!Note]<br />
Although an application can communicate directly with any of the five functional areas, it cannot communicate directly with a CSP. All application-to-CSP communications occur through the <a href="../secgloss/b-gly.html"><em>base cryptographic functions</em></a>. Base cryptographic functions have a parameter that specifies which CSP to use. This parameter can be set to <strong>NULL</strong> to select a default CSP.</p>
</blockquote>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
