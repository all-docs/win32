<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Low-level ACL and ACE Functions</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Create an access control list (ACL) by using the low-level functions, allocate a buffer for the ACL and then initialize it by calling the InitializeAcl function.
ms.assetid: 9dcbbd4c-b3b3-43fd-b3a6-0637a53a455a
title: Low-level ACL and ACE Functions
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Low-level ACL and ACE Functions</h1>
<p>To create an <a href="/windows/desktop/SecGloss/a-gly"><em>access control list</em></a> (ACL) by using the low-level functions, allocate a buffer for the ACL and then initialize it by calling the <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-initializeacl"><strong>InitializeAcl</strong></a> function. To add <a href="/windows/desktop/SecGloss/a-gly"><em>access control entries</em></a> (ACEs) to the end of a <a href="/windows/desktop/SecGloss/d-gly"><em>discretionary access control list</em></a> (DACL), use the <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessallowedace"><strong>AddAccessAllowedAce</strong></a> and <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessdeniedace"><strong>AddAccessDeniedAce</strong></a> functions. The <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-addauditaccessace"><strong>AddAuditAccessAce</strong></a> function adds an ACE to the end of a <a href="/windows/desktop/SecGloss/s-gly"><em>system access control list</em></a> (SACL). You can use the <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-addace"><strong>AddAce</strong></a> function to add one or more ACEs at a specified position in an ACL. The <strong>AddAce</strong> function also allows you to add an inheritable ACE to an ACL. The <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-deleteace"><strong>DeleteAce</strong></a> function removes an ACE from a specified position in an ACL. The <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-getace"><strong>GetAce</strong></a> function retrieves an ACE from a specified position in an ACL. The <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-findfirstfreeace"><strong>FindFirstFreeAce</strong></a> function retrieves a pointer to the first free byte in an ACL.</p>
<p>To modify an existing ACL in an object's <a href="/windows/desktop/SecGloss/s-gly"><em>security descriptor</em></a>, use the <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptordacl"><strong>GetSecurityDescriptorDacl</strong></a> or <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptorsacl"><strong>GetSecurityDescriptorSacl</strong></a> function to get the existing ACL. You can use the <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-getace"><strong>GetAce</strong></a> function to copy ACEs from the existing ACL. After allocating and initializing a new ACL, use functions such as <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessallowedace"><strong>AddAccessAllowedAce</strong></a> and <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-addace"><strong>AddAce</strong></a> to add ACEs to it. When you have finished building the new ACL, use the <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptordacl"><strong>SetSecurityDescriptorDacl</strong></a> or <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptorsacl"><strong>SetSecurityDescriptorSacl</strong></a> function to add the new ACL to the object's security descriptor.</p>
<p>You can use the <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessallowedobjectace"><strong>AddAccessAllowedObjectAce</strong></a>, <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessdeniedobjectace"><strong>AddAccessDeniedObjectAce</strong></a>, or <a href="/windows/win32/api/securitybaseapi/nf-securitybaseapi-addauditaccessobjectace"><strong>AddAuditAccessObjectAce</strong></a> functions to add <a href="object-specific-aces.html">object-specific ACEs</a> to the end of an ACL.</p>
<p>Â </p>
<p>Â </p>
</body>
