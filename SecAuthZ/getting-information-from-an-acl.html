<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Getting Information from an ACL</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Several functions are provided that retrieve access control information from an access control list (ACL).
ms.assetid: a0839c49-09e9-4407-8702-051b88ef2231
title: Getting Information from an ACL
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Getting Information from an ACL</h1>
<p>Several functions are provided that retrieve access control information from an <a href="/windows/desktop/SecGloss/a-gly"><em>access control list</em></a> (ACL). These include functions for determining the access rights that an ACL grants or audits for a specified <a href="trustees.html">trustee</a>. Other functions enable you to extract information about the <a href="/windows/desktop/SecGloss/a-gly"><em>access control entries</em></a> (ACEs) in an ACL.</p>
<p>The <a href="/windows/desktop/api/Aclapi/nf-aclapi-getexplicitentriesfromacla"><strong>GetExplicitEntriesFromAcl</strong></a> function retrieves an array of <a href="/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a"><strong>EXPLICIT_ACCESS</strong></a> structures that describe the ACEs in an ACL. This can be useful when copying ACE information from one ACL to another. For example, a call to <strong>GetExplicitEntriesFromAcl</strong> to get information about the ACEs in one ACL can be followed by passing the returned <strong>EXPLICIT_ACCESS</strong> structures in a call to the <a href="/windows/desktop/api/Aclapi/nf-aclapi-setentriesinacla"><strong>SetEntriesInAcl</strong></a> function to create equivalent ACEs in a new ACL.</p>
<p>The <a href="/windows/desktop/api/Aclapi/nf-aclapi-geteffectiverightsfromacla"><strong>GetEffectiveRightsFromAcl</strong></a> function enables you to determine the effective access rights that a DACL grants to a specified trustee. The trustee's effective access rights are the access rights that a DACL grants to the trustee or to any groups of which the trustee is a member. <strong>GetEffectiveRightsFromAcl</strong> checks all access-allowed and access-denied ACEs in the specified DACL.</p>
<p><strong>Use the following steps to determine a trustee's access rights to an object</strong></p>
<ol>
<li>Call the <a href="/windows/desktop/api/Aclapi/nf-aclapi-getsecurityinfo"><strong>GetSecurityInfo</strong></a> or <a href="/windows/desktop/api/Aclapi/nf-aclapi-getnamedsecurityinfoa"><strong>GetNamedSecurityInfo</strong></a> function to get a pointer to an object's DACL.</li>
<li>Call the <a href="/windows/desktop/api/Aclapi/nf-aclapi-geteffectiverightsfromacla"><strong>GetEffectiveRightsFromAcl</strong></a> function to retrieve the access rights that the DACL grants to a specified trustee.</li>
</ol>
<p>The <a href="/windows/desktop/api/Aclapi/nf-aclapi-getauditedpermissionsfromacla"><strong>GetAuditedPermissionsFromAcl</strong></a> function enables you to check a SACL to determine the audited access rights for a specified trustee or for any groups of which the trustee is a member. The audited rights indicate the types of access attempts that cause the system to generate an audit record in the security event log. The function returns two <a href="/windows/desktop/SecGloss/a-gly"><em>access masks</em></a>: one containing the access rights monitored for failed access attempts, and another containing the access rights monitored for successful access. <strong>GetAuditedPermissionsFromAcl</strong> checks all system-audit ACEs in a SACL.</p>
<p>Â </p>
<p>Â </p>
</body>
