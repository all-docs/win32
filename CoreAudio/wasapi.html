<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>About WASAPI</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: About WASAPI
ms.assetid: 452b9725-b0b9-4888-bbb5-a23e0067e840
title: About WASAPI
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>About WASAPI</h1>
<p>The Windows Audio Session API (WASAPI) enables client applications to manage the flow of audio data between the application and an <a href="audio-endpoint-devices.html">audio endpoint device</a>.</p>
<p>Header files Audioclient.h and Audiopolicy.h define the WASAPI interfaces.</p>
<p>Every audio stream is a member of an <a href="audio-sessions.html">audio session</a>. Through the session abstraction, a WASAPI client can identify an audio stream as a member of a group of related audio streams. The system can manage all of the streams in the session as a single unit.</p>
<p>The audio engine is the <a href="user-mode-audio-components.html">user-mode audio component</a> through which applications share access to an audio endpoint device. The audio engine transports audio data between an endpoint buffer and an endpoint device. To play an audio stream through a rendering endpoint device, an application periodically writes audio data to a rendering endpoint buffer. The audio engine mixes the streams from the various applications. To record an audio stream from a capture endpoint device, an application periodically reads audio data from a capture endpoint buffer.</p>
<p>WASAPI consists of several interfaces. The first of these is the <a href="/windows/desktop/api/Audioclient/nn-audioclient-iaudioclient"><strong>IAudioClient</strong></a> interface. To access the WASAPI interfaces, a client first obtains a reference to the <strong>IAudioClient</strong> interface of an audio endpoint device by calling the <a href="/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-activate"><strong>IMMDevice::Activate</strong></a> method with parameter <em>iid</em> set to <strong>REFIID</strong> IID_IAudioClient. The client calls the <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize"><strong>IAudioClient::Initialize</strong></a> method to initialize a stream on an endpoint device. After initializing a stream, the client can obtain references to the other WASAPI interfaces by calling the <a href="/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-getservice"><strong>IAudioClient::GetService</strong></a> method.</p>
<p>Many of the methods in WASAPI return error code AUDCLNT_E_DEVICE_INVALIDATED if the audio endpoint device that a client application is using becomes invalid. Frequently, the application can recover from this error. For more information, see <a href="recovering-from-an-invalid-device-error.html">Recovering from an Invalid-Device Error</a>.</p>
<p>WASAPI implements the following interfaces.</p>
<table>
<thead>
<tr>
<th>Interface</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/Audioclient/nn-audioclient-iaudiocaptureclient"><strong>IAudioCaptureClient</strong></a></td>
<td>Enables a client to read input data from a capture endpoint buffer.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Audioclient/nn-audioclient-iaudioclient"><strong>IAudioClient</strong></a></td>
<td>Enables a client to create and initialize an audio stream between an audio application and the audio engine or the hardware buffer of an audio endpoint device.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Audioclient/nn-audioclient-iaudioclock"><strong>IAudioClock</strong></a></td>
<td>Enables a client to monitor a stream's data rate and the current position in the stream.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Audioclient/nn-audioclient-iaudiorenderclient"><strong>IAudioRenderClient</strong></a></td>
<td>Enables a client to write output data to a rendering endpoint buffer.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Audiopolicy/nn-audiopolicy-iaudiosessioncontrol"><strong>IAudioSessionControl</strong></a></td>
<td>Enables a client to configure the control parameters for an audio session and to monitor events in the session.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Audiopolicy/nn-audiopolicy-iaudiosessionmanager"><strong>IAudioSessionManager</strong></a></td>
<td>Enables a client to access the session controls and volume controls for both cross-process and process-specific audio sessions.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Audioclient/nn-audioclient-iaudiostreamvolume"><strong>IAudioStreamVolume</strong></a></td>
<td>Enables a client to control and monitor the volume levels for all of the channels in an audio stream.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Audioclient/nn-audioclient-ichannelaudiovolume"><strong>IChannelAudioVolume</strong></a></td>
<td>Enables a client to control the volume levels for all of the channels in the audio session that the stream belongs to.</td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Audioclient/nn-audioclient-isimpleaudiovolume"><strong>ISimpleAudioVolume</strong></a></td>
<td>Enables a client to control the master volume level of an audio session.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>WASAPI clients that require notification of session-related events should implement the following interface.</p>
<table>
<thead>
<tr>
<th>Interface</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/Audiopolicy/nn-audiopolicy-iaudiosessionevents"><strong>IAudioSessionEvents</strong></a></td>
<td>Provides notifications of session-related events such as changes in the volume level, display name, and session state.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="stream-management.html">Stream Management</a></p>
<!-- raw HTML omitted -->
<p><a href="programming-reference.html"><strong>Programming Reference</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
