<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Providing a Custom Ducking Behavior</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: An application can opt out of the Default Ducking Experience handled by the system and replace it with a custom implementation.
ms.assetid: 18290d05-b114-476b-8365-6bbb5fe6cffc
title: Providing a Custom Ducking Behavior
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Providing a Custom Ducking Behavior</h1>
<p>An application can opt out of the <a href="stream-attenuation.html">Default Ducking Experience</a> handled by the system and replace it with a custom implementation.</p>
<p>An application can provide a custom ducking experience. For example, Windows Media Player provides its own ducking experience by pausing the current media stream during a communication session and resuming playback when the session is closed. A sample media application that implements ducking is included with Windows SDK samples; for more information, see <a href="duckingmediaplayer.html">DuckingMediaPlayer</a>. To simulate the experience of opening and closing communication streams, and generating ducking events, see <a href="duckingcapturesample.html">DuckingCaptureSample</a>, which is also included with Windows SDK samples.</p>
<p>A media application that plays sounds to be attenuated must be aware of the communication streams, when they are opened and closed in the system. The custom implementation can be provided by using MediaFoundation, DirectShow, or DirectSound, which use the Core Audio APIs. A direct WASAPI client can also override the default handling if it knows when the communication session starts and ends.</p>
<p><strong>To provide a custom ducking experience, a WASAPI client must perform the following tasks:</strong></p>
<ol>
<li>
<p>Register to receive ducking events from the <em>ducking manager</em>â€”a component of the audio system that handles notifications related to communication stream changes. For more information, <a href="handling-audio-ducking-events-from-communication-devices.html">Getting Ducking Events</a>.</p>
<blockquote>
<p>[!Note]<br />
If the client is registered to receive ducking notifications, the ducking manager disables the default behavior provided by the system. If the default behavior is disabled explictly (see <a href="disabling-the-ducking-experience.html">Disabling the Default Ducking Experience</a>) and the client does not provide a substitute behavior, the application does not experience any ducking behavior.</p>
</blockquote>
<p>Â </p>
</li>
<li>
<p>Listen for the duck event notifications sent by the ducking manager and perform the desired ducking behavior. For more information about implementing a ducking behavior, see <a href="handling-audio-ducking-events-from-communication-devices.html">Implementation Considerations for Ducking Notifications</a>.</p>
</li>
</ol>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="using-the-communication-device.html">Using a Communication Device</a></p>
<!-- raw HTML omitted -->
<p><a href="stream-attenuation.html">Default Ducking Experience</a></p>
<!-- raw HTML omitted -->
<p><a href="disabling-the-ducking-experience.html">Disabling the Default Ducking Experience</a></p>
<!-- raw HTML omitted -->
<p><a href="handling-audio-ducking-events-from-communication-devices.html">Implementation Considerations for Ducking Notifications</a></p>
<!-- raw HTML omitted -->
<p><a href="getting-ducking-events-from-a-communication-device.html">Getting Ducking Events</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
