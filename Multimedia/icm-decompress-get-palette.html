<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ICM_DECOMPRESS_GET_PALETTE message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: ICM_DECOMPRESS_GET_PALETTE message (Vfw.h)
description: The ICM_DECOMPRESS_GET_PALETTE message requests that the video decompression driver supply the color table of the output BITMAPINFOHEADER structure. You can send this message explicitly or by using the ICDecompressGetPalette macro.
ms.assetid: f9fae9ab-9f69-44b6-bedb-f56f43845229
keywords:</p>
<ul>
<li>ICM_DECOMPRESS_GET_PALETTE message Windows Multimedia
topic_type:</li>
<li>apiref
api_name:</li>
<li>ICM_DECOMPRESS_GET_PALETTE
api_location:</li>
<li>Vfw.h
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>ICM_DECOMPRESS_GET_PALETTE message</h1>
<p>The <strong>ICM_DECOMPRESS_GET_PALETTE</strong> message requests that the video decompression driver supply the color table of the output <a href="/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader"><strong>BITMAPINFOHEADER</strong></a> structure. You can send this message explicitly or by using the <a href="/windows/desktop/api/Vfw/nf-vfw-icdecompressgetpalette"><strong>ICDecompressGetPalette</strong></a> macro.</p>
<pre lang="C++"><code>ICM_DECOMPRESS_GET_PALETTE 
wParam = (DWORD_PTR) (LPVOID) lpbiInput; 
lParam = (DWORD_PTR) (LPVOID) lpbiOutput; 
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>lpbiInput</em></p>
<!-- raw HTML omitted -->
<p>Pointer to a <a href="/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader"><strong>BITMAPINFOHEADER</strong></a> structure containing the input format.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>lpbiOutput</em></p>
<!-- raw HTML omitted -->
<p>Pointer to a <a href="/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader"><strong>BITMAPINFOHEADER</strong></a> structure to contain the color table. The space reserved for the color table is always at least 256 colors. You can specify zero for this parameter to return only the size of the color table.</p>
<!-- raw HTML omitted -->
<h2>Return Value</h2>
<p>Returns ICERR_OK if successful or an error otherwise.</p>
<h2>Remarks</h2>
<p>If <em>lpbiOutput</em> is nonzero, the driver sets the <strong>biClrUsed</strong> member of <a href="/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader"><strong>BITMAPINFOHEADER</strong></a> to the number of colors in the color table. The driver fills the <strong>bmiColors</strong> member of <a href="/windows/win32/api/wingdi/ns-wingdi-bitmapinfo"><strong>BITMAPINFO</strong></a> with the actual colors.</p>
<p>The driver should support this message only if it uses a palette other than the one specified in the input format.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 2000 Professional [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows 2000 Server [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Vfw.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="video-compression-manager.html">Video Compression Manager</a></p>
<!-- raw HTML omitted -->
<p><a href="video-compression-messages.html">Video Compression Messages</a></p>
<!-- raw HTML omitted -->
</body>
