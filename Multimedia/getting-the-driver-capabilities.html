<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Getting the Driver Capabilities</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Getting the Driver Capabilities
description: Getting the Driver Capabilities
ms.assetid: 761886db-b2e5-449c-b526-6e992cc1b42f
keywords:</p>
<ul>
<li>joysticks,drivers
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>Getting the Driver Capabilities</h1>
<p>[The feature associated with this page, <a href="/windows/win32/multimedia/joysticks">Joysticks</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/windows.gaming.input">Windows.Gaming.Input Namespace</a>. <strong>Windows.Gaming.Input Namespace</strong> has been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>Windows.Gaming.Input Namespace</strong> instead of <strong>Joysticks</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>The following example uses <a href="/windows/win32/api/joystickapi/nf-joystickapi-joygetnumdevs"><strong>joyGetNumDevs</strong></a> and <a href="/windows/win32/api/joystickapi/nf-joystickapi-joygetpos"><strong>joyGetPos</strong></a> to determine whether the joystick services are available and if a joystick is attached to one of the ports.</p>
<pre lang="C++"><code>JOYINFO joyinfo; 
UINT wNumDevs, wDeviceID; 
BOOL bDev1Attached, bDev2Attached; 
 
    if((wNumDevs = joyGetNumDevs()) == 0) 
        return ERR_NODRIVER; 
    bDev1Attached = joyGetPos(JOYSTICKID1,&amp;joyinfo) != JOYERR_UNPLUGGED; 
    bDev2Attached = wNumDevs == 2 &amp;&amp; joyGetPos(JOYSTICKID2,&amp;joyinfo) != 
        JOYERR_UNPLUGGED; 
    if(bDev1Attached || bDev2Attached)   // decide which joystick to use 
        wDeviceID = bDev1Attached ? JOYSTICKID1 : JOYSTICKID2; 
    else 
        return ERR_NODEVICE; 

</code></pre>
<p>Â </p>
<p>Â </p>
</body>
