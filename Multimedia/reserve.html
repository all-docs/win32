<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>reserve command</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: reserve command
description: The reserve command allocates contiguous disk space for the device instance's workspace. Digital-video devices recognize this command.
ms.assetid: 'ac4fc75e-82d0-4817-a5cf-a77996bc69e2'
keywords:</p>
<ul>
<li>reserve command Windows Multimedia
topic_type:</li>
<li>apiref
api_name:</li>
<li>reserve
api_type:</li>
<li>NA
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>reserve command</h1>
<p>The reserve command allocates contiguous disk space for the device instance's workspace. Digital-video devices recognize this command.</p>
<p>To send this command, call the <a href="/previous-versions//dd757161(v=vs.85)"><strong>mciSendString</strong></a> function with the <em>lpszCommand</em> parameter set as follows.</p>
<pre lang="syntax"><code>_stprintf_s(
  lpszCommand, 
  TEXT(&quot;reserve %s %s %s&quot;), 
  lpszDeviceID, 
  lpszReserve, 
  lpszFlags
); 
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>lpszDeviceID</em></p>
<!-- raw HTML omitted -->
<p>Identifier of an MCI device. This identifier or alias is assigned when the device is opened.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>lpszReserve</em></p>
<!-- raw HTML omitted -->
<p>One or more of the following flags.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>in <em>path</em></td>
<td>Specifies the drive and directory path (but not the name) of a temporary file used to hold recorded data. The name of this file is specified by the device. The temporary file is deleted when the device is closed. If this flag is omitted, the device specifies the location of the disk space.</td>
</tr>
<tr>
<td>size <em>duration</em></td>
<td>Specifies the approximate amount of disk space to reserve in the workspace. The <em>duration</em> value is specified in the current time format. The device bases its estimate of the required disk space on the following parameters: the requested time, the file format, the video and audio compression algorithm, and the compression quality values in effect. If <a href="setvideo.html">setvideo</a> &quot;record&quot; is &quot;off&quot;, then space is reserved only for audio. If <a href="setaudio.html">setaudio</a> &quot;record&quot; is &quot;off&quot;, then space is reserved only for video. If both are &quot;off&quot;, or if <em>duration</em> is zero, then no space is reserved and any existing reserved space is deallocated. If this flag is omitted, the device will use a device-defined default.</td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>lpszFlags</em></p>
<!-- raw HTML omitted -->
<p>Can be &quot;wait&quot;, &quot;notify&quot;, &quot;test&quot;, or a combination of these. For more information about these flags, see <a href="the-wait-notify-and-test-flags.html">The Wait, Notify, and Test Flags</a>.</p>
<!-- raw HTML omitted -->
<h2>Return Value</h2>
<p>Returns zero if successful or an error otherwise.</p>
<h2>Remarks</h2>
<p>If needed, subsequent <a href="record.html">record</a> or <a href="save.html">save</a> commands use the space reserved by this command. If the workspace contains unsaved data, the data is lost. Some devices do not require reserve and ignore it. If disk space is not reserved prior to recording, the record command performs an implied reserve with device-specific default flags. Use an explicit reserve command if you want better control of when the delay for disk allocation occurs, control of how much space is allocated, and control of where the disk space is allocated. Your application can change the amount and location of previously reserved disk space with subsequent reserve commands. Any allocated and still unused disk space is not deallocated until any recorded data is saved, or until the device instance is closed.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 2000 Professional [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows 2000 Server [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="mci.html">MCI</a></p>
<!-- raw HTML omitted -->
<p><a href="mci-command-strings.html">MCI Command Strings</a></p>
<!-- raw HTML omitted -->
<p><a href="record.html">record</a></p>
<!-- raw HTML omitted -->
<p><a href="save.html">save</a></p>
<!-- raw HTML omitted -->
<p><a href="setaudio.html">setaudio</a></p>
<!-- raw HTML omitted -->
<p><a href="setvideo.html">setvideo</a></p>
<!-- raw HTML omitted -->
</body>
