<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>DrawDib Operations</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: DrawDib Operations
description: DrawDib Operations
ms.assetid: 785ad42e-0c77-44a4-b4ef-be2a0ee2b563
keywords:</p>
<ul>
<li>DrawDib,about</li>
<li>DrawDib,accessing</li>
<li>DrawDib,opening</li>
<li>DrawDib,operations</li>
<li>DrawDib,device context (DC)</li>
<li>DC (device context)</li>
<li>DrawDibOpen function</li>
<li>DrawDibClose function
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>DrawDib Operations</h1>
<p>[The feature associated with this page, <a href="/windows/win32/multimedia/drawdib">DrawDib</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Editing.MediaComposition">MediaComposition class</a>. <strong>MediaComposition class</strong> has been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaComposition class</strong> instead of <strong>DrawDib</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>You can access the entire group of DrawDib functions by using the <a href="/windows/desktop/api/Vfw/nf-vfw-drawdibopen"><strong>DrawDibOpen</strong></a> function. This function loads the dynamic-link library (DLL), allocates memory resources, creates a DrawDib device context (DC), and maintains a reference count of the number of DCs that are initialized. <strong>DrawDibOpen</strong> also returns a handle of the new DC that you use with the other DrawDib functions.</p>
<p>You can release a DrawDib DC when you finish using it by using the <a href="/windows/desktop/api/Vfw/nf-vfw-drawdibclose"><strong>DrawDibClose</strong></a> function. <strong>DrawDibClose</strong> also decrements the reference count of the applications accessing the DLL. The call to <strong>DrawDibClose</strong> should be the last DrawDib function in your application.</p>
<p>You can create as many DrawDib DCs as you want. You can use multiple DrawDib DCs to draw several bitmaps simultaneously. You can also create multiple DrawDib DCs, each with unique characteristics, so your application can choose and then use the DC with the most appropriate settings. For example, you can create two DrawDib DCs in an application: one that displays an image at its normal resolution, and the other that displays an enlarged portion of the image.</p>
<p>To run efficiently, DrawDib functions require information about the display adapter and its driver. The display profile is obtained by running a series of tests on the display adapter the first time the DLL containing the DrawDib functions is accessed. The DrawDib functions use this information for all applications. You can repeat these tests when necessary by using the <a href="/windows/desktop/api/Vfw/nf-vfw-drawdibprofiledisplay"><strong>DrawDibProfileDisplay</strong></a> function.</p>
<blockquote>
<p>[!Note]<br />
Retrieving and storing the display profile is typically a one-time occurrence. If, however, the profile information is deleted or another display driver is installed in the system, DrawDib reruns the tests.</p>
</blockquote>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="about-the-drawdib-functions.html">About the DrawDib Functions</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
