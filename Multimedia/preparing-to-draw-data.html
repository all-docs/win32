<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Preparing to Draw Data</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Preparing to Draw Data
description: Preparing to Draw Data
ms.assetid: 98adcee4-06c0-4684-bd9e-e030e3f9a59d
keywords:</p>
<ul>
<li>video compression manager (VCM),drawing</li>
<li>VCM (video compression manager),drawing</li>
<li>ICDrawBegin macro</li>
<li>ICDrawEnd macro
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>Preparing to Draw Data</h1>
<p>[The feature associated with this page, <a href="/windows/win32/multimedia/video-compression-manager">Video Compression Manager</a>, is a legacy feature. Microsoft strongly recommends that new code does not use this feature.]</p>
<p>The following example shows the initialization sequence that instructs the decompressor to draw full-screen. It uses the <a href="/windows/desktop/api/Vfw/nf-vfw-icdrawbegin"><strong>ICDrawBegin</strong></a> and <a href="/windows/desktop/api/Vfw/nf-vfw-icdrawend"><strong>ICDrawEnd</strong></a> macros.</p>
<pre lang="C++"><code>// Assume lpbiIn has the input format, dwRate has the data rate. 

if (ICDrawBegin(hIC, ICDRAW_QUERY | ICDRAW_FULLSCREEN, NULL, NULL, 
    NULL, 0, 0, 0, 0, lpbiIn, 0, 0, 0, 0, dwRate, 
    dwScale) == ICERR_OK) 
{ 
    // Decompressor supports this drawing so set up to draw. 
    ICDrawBegin(hIC, ICDRAW_FULLSCREEN, hPal, NULL, NULL, 0, 0, 0, 
        0, lpbiIn, 0, 0, lbpi-&gt;biWidth, lpbi-&gt;biHeight, dwRate, 
        dwScale); 
    . 
    . // Start decompressing and drawing frames. 
    . 
 
    // Drawing done. Terminate procedure. 
    ICDrawEnd(hIC); 
} 
else 
{ 
    
    // Use another renderer to draw data on the screen; 
    // ICDraw does not support the format. 
} 
 
</code></pre>
<p>Â </p>
<p>Â </p>
</body>
