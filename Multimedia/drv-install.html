<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>DRV_INSTALL message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: DRV_INSTALL message (Mmsystem.h)
description: Notifies the driver that is it being installed. The driver should create and initialize any needed registry keys and values and verify that the supporting drivers and hardware are installed and properly configured.
ms.assetid: 8ee7b30b-600b-49f3-93a7-8faa7b87cfd8
keywords:</p>
<ul>
<li>DRV_INSTALL message Windows Multimedia
topic_type:</li>
<li>apiref
api_name:</li>
<li>DRV_INSTALL
api_location:</li>
<li>Mmsystem.h
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>DRV_INSTALL message</h1>
<p>Notifies the driver that is it being installed. The driver should create and initialize any needed registry keys and values and verify that the supporting drivers and hardware are installed and properly configured.</p>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>dwDriverId</em></p>
<!-- raw HTML omitted -->
<p>Identifier of the installable driver. This is the same value previously returned by the driver from the <a href="drv-open.html"><strong>DRV_OPEN</strong></a> message.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>hdrvr</em></p>
<!-- raw HTML omitted -->
<p>Handle of the installable driver instance.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>lParam2</em></p>
<!-- raw HTML omitted -->
<p>Address of a <a href="/windows/win32/api/mmiscapi/ns-mmiscapi-drvconfiginfo"><strong>DRVCONFIGINFO</strong></a> structure or <strong>NULL</strong>. If a structure is given, it contains the names of the registry key and value associated with the driver.</p>
<!-- raw HTML omitted -->
<h2>Return Value</h2>
<p>Returns one of these values:</p>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>DRVCNF_OK</td>
<td>The installation is successful; no further action is required.</td>
</tr>
<tr>
<td>DRVCNF_CANCEL</td>
<td>The installation failed..</td>
</tr>
<tr>
<td>DRVCNF_RESTART</td>
<td>The installation is successful, but it does not take effect until the system is restarted.</td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>The <em>lParam1</em> parameter is not used.</p>
<p>Some installable drivers append configuration information to the value assigned to the registry value associated with the driver.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 2000 Professional [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows 2000 Server [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Mmsystem.h (include Windows.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="installable-drivers.html">Installable Drivers</a></p>
<!-- raw HTML omitted -->
<p><a href="installable-driver-messages.html">Installable Driver Messages</a></p>
<!-- raw HTML omitted -->
</body>
