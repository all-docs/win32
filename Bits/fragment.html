<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Fragment</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Fragment
description: Use the Fragment packet to send a fragment of the upload file to the server.
ms.assetid: 'd6df7e47-a240-4be2-a9c4-24a13e622861'
keywords:</p>
<ul>
<li>Fragment BITS
topic_type:</li>
<li>apiref
api_name:</li>
<li>Fragment
api_type:</li>
<li>NA
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Fragment</h1>
<p>Use the <strong>Fragment</strong> packet to send a fragment of the upload file to the server.</p>
<pre lang="syntax"><code>BITS_POST remote-URL HTTP/1.1
BITS-Packet-Type: Fragment
BITS-Session-Id: {guid}
Content-Name: filename
Content-Length: length
Content-Range: Bytes range/total-length
Content-Encoding: encoding
</code></pre>
<h2>Headers</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS_POST</p>
<!-- raw HTML omitted -->
<p>BITS-specific verb that identifies this packet to the BITS server.</p>
<p>Replace remote-URL with the absolute or relative URI. Typically, replace remote-URL with the remote file name of the job. For network load balancing considerations, see the BITS-Host-Id header in the <a href="create-session.html"><strong>Create-Session</strong></a> packet.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS-Packet-Type</p>
<!-- raw HTML omitted -->
<p>Identifies this request packet as a Fragment packet.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS-Session-Id</p>
<!-- raw HTML omitted -->
<p>String GUID that identifies the session to the server. Replace {guid} with the session identifier that the server returns in the <a href="ack-for-create-session.html"><strong>Ack for Create-Session</strong></a> response packet.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Content-Name</p>
<!-- raw HTML omitted -->
<p>Specify this header only with the initial fragment. Replace filename with the name of the local file name from the job. The name does not include the path.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Content-Length</p>
<!-- raw HTML omitted -->
<p>Replace length with the number of bytes sent in the fragment body.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Content-Range</p>
<!-- raw HTML omitted -->
<p>Tells the server where to apply the range in the destination file. Replace range with the start and end offsets of the range in the destination file. The offsets are zero-based. If the given range overlaps an existing range, BITS writes only the non-overlapping portion of the range; BITS does not overwrite existing content. For example, if the first packet contained the range 0 through 100 and the second packet contained the range 50 through 150, BITS writes only bytes 101 through 150 from the second packet. Replace total-length with the total number of bytes in the file.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Content-Encoding</p>
<!-- raw HTML omitted -->
<p>Replace encoding with the type of encoding the client uses on the fragment. The client must use the encoding that the server identifies in the Accept-Encoding header of the <a href="ack-for-create-session.html"><strong>Ack for Create-Session</strong></a> response packet. The server uses the encoding type to decode the fragment. All fragments must specify the same encoding.</p>
<p>Do not send this header if the encoding type is Identity. The BITS server supports only Identity encoding.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The fragment is a range of bytes sent in the body of the packet. The client sends the fragments in sequential order starting with offset zero; the server does not keep track of non-contiguous ranges. If the client sends non-contiguous ranges, the server returns an HTTP 416 (range-not-satisfiable) return code in the <a href="ack-for-fragment.html"><strong>Ack for Fragment</strong></a> response.</p>
<p>The Content-<em>xxxx</em> headers are standard HTTP 1.1 headers. For more details on the Content-<em>xxxx</em> headers, see the <a href="https://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a> specification.</p>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="ack-for-fragment.html"><strong>Ack for Fragment</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="close-session.html"><strong>Close-Session</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="create-session.html"><strong>Create-Session</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
