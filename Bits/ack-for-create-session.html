<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Ack for Create-Session</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Ack for Create-Session
description: Use the Ack for Create-Session packet to acknowledge the client's Create-Session request.
ms.assetid: eeb8ff83-2a7f-4fef-9df7-8c12febfcf36
keywords:</p>
<ul>
<li>Ack for Create-Session BITS
topic_type:</li>
<li>apiref
api_name:</li>
<li>Ack for Create-Session
api_type:</li>
<li>NA
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Ack for Create-Session</h1>
<p>Use the <strong>Ack for Create-Session</strong> packet to acknowledge the client's <a href="create-session.html"><strong>Create-Session</strong></a> request.</p>
<pre lang="syntax"><code>reason-code reason-description
BITS-Packet-Type: Ack
BITS-Protocol: {guid}
BITS-Session-Id: {guid}
BITS-Host-Id: PublicHostName
BITS-Host-Id-Fallback-Timeout: Timeout
Accept-Encoding: Identity
Content-Length: length
BITS-Error-Code: error-code
BITS-Error-Context: error-context
</code></pre>
<h2>Headers</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->reason-code</p>
<!-- raw HTML omitted -->
<p>Replace reason-code with the HTTP reason code. The following table shows the typical reason codes for a response to a <a href="create-session.html"><strong>Create-Session</strong></a> request. For a list of HTTP reason codes, see <a href="https://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a>.</p>
<table>
<thead>
<tr>
<th>Reason code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200<!-- raw HTML omitted --></td>
<td>OK. The request was successful.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>201<!-- raw HTML omitted --></td>
<td>Created. The session was created.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>403<!-- raw HTML omitted --></td>
<td>Forbidden. The user is not allowed to upload files to the specified URL.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>404<!-- raw HTML omitted --></td>
<td>Not Found. The specified URL does not exist.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>409<!-- raw HTML omitted --></td>
<td>Conflict. The file exists on the server and cannot be overwritten.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->reason-description</p>
<!-- raw HTML omitted -->
<p>Replace reason-description with the HTTP description associated with the reason code. For example, set reason-description to OK if reason-code is 200.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS-Packet-Type</p>
<!-- raw HTML omitted -->
<p>Identifies this response packet as an Ack packet.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS-Protocol</p>
<!-- raw HTML omitted -->
<p>String GUID that identifies the protocol that the server wants to use for this session. Replace {guid} with the protocol identifier from the list of protocols the client includes in the <a href="create-session.html"><strong>Create-Session</strong></a> request; the BITS-Supported-Protocol header contains the list. Include this header only if the reason-code is 200 or 201.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS-Session-Id</p>
<!-- raw HTML omitted -->
<p>String GUID that identifies this session to the client. Replace {guid} with the session identifier that the client sends in all subsequent request packets.</p>
<p>BITS uses a GUID to identify the session, but you can use any HTTP-legal string up to 100 characters.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS-Host-Id</p>
<!-- raw HTML omitted -->
<p>Optional. Include this header only if the <a href="bits-iis-extension-properties.html">BITS IIS extension property</a>, BITSHostId, is set. Replace PublicHostName with the server name or IP address from the BITSHostId property.</p>
<p>The client must replace the server portion of the remote-URL on all subsequent packets. If the client does not specify this host name on subsequent packets, it is possible that the job will begin again on another server in the farm, leaving a partial upload file on the previous server.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS-Host-Id-Fallback-Timeout</p>
<!-- raw HTML omitted -->
<p>Optional. Include this header only if the BITS-Host-Id header is specified. Replace Timeout with the time-out value from the BITSHostIdFallbackTimeout property. The BITSHostIdFallbackTimeout property is one of the <a href="bits-iis-extension-properties.html">BITS IIS extension properties</a>.</p>
<p>The client uses the time-out period to determine how long it tries to reconnect to the server name specified in the BITS-Host-Id header before reverting to the host name specified in the remote file name of the job. The timer begins when BITS is unable to connect to the BITS-Host-Id server. The timer is reset when a connection to the server is restored. If a time-out period is not specified, the client never reverts to the host name specified in the remote file name.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Accept-Encoding</p>
<!-- raw HTML omitted -->
<p>Identifies the encoding scheme to use on the fragments sent to the server. The Fragment packet contains the encoded fragment in the body of the packet. The BITS server requires Identity encoding (plaintext). Include this header only if the Reason-code is 200 or 201.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Content-Length</p>
<!-- raw HTML omitted -->
<p>Replace length with the number of bytes included in the body of the response. Required even if the body of the response does not include content.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS-Error-Code</p>
<!-- raw HTML omitted -->
<p>Replace error-code with a hexadecimal number that represents an HRESULT value associated with a server-side error. Include this header only if reason-code is not 200 or 201.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS-Error-Context</p>
<!-- raw HTML omitted -->
<p>Replace error-context with a hexadecimal number that represents the context in which the error occurred. Specify the hexadecimal number for <a href="/windows/win32/api/bits/ne-bits-bg_error_context"><strong>BG_ERROR_CONTEXT_REMOTE_FILE</strong></a> (0x5) if the server generated the error. Otherwise, specify the hexadecimal number for <strong>BG_ERROR_CONTEXT_REMOTE_APPLICATION</strong> (0x7) if the error was generated by the application to which the upload file is passed. Include this header only if the reason-code is not 200 or 201.</p>
<!-- raw HTML omitted -->
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="create-session.html"><strong>Create-Session</strong></a></p>
<!-- raw HTML omitted -->
</body>
