<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Close-Session</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Close-Session
description: Use the Close-Session packet to tell the BITS server that file upload is complete and to end the session.
ms.assetid: 9d4b658a-8b41-4678-b996-f2174784cdd6
keywords:</p>
<ul>
<li>Close-Session BITS
topic_type:</li>
<li>apiref
api_name:</li>
<li>Close-Session
api_type:</li>
<li>NA
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Close-Session</h1>
<p>Use the <strong>Close-Session</strong> packet to tell the BITS server that file upload is complete and to end the session.</p>
<pre lang="syntax"><code>BITS_POST remote-URL HTTP/1.1
BITS-Packet-Type: Close-Session
BITS-Session-Id: {guid}
</code></pre>
<h2>Headers</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS_POST</p>
<!-- raw HTML omitted -->
<p>BITS-specific verb that identifies this packet to the BITS server.</p>
<p>Replace remote-URL with the absolute or relative URI. Typically, replace remote-URL with the remote file name of the job. For network load balancing considerations, see the BITS-Host-Id header in the <a href="create-session.html"><strong>Create-Session</strong></a> packet.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS-Packet-Type</p>
<!-- raw HTML omitted -->
<p>Identifies this request packet as a Close-Session packet.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BITS-Session-Id</p>
<!-- raw HTML omitted -->
<p>String GUID that identifies the session to the server. Replace {guid} with the session identifier that the server returns in the <a href="ack-for-create-session.html"><strong>Ack for Create-Session</strong></a> response packet.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The BITS server releases all resources and deletes all temporary files when it receives this packet.</p>
<p>For upload-reply jobs, you must download the reply before sending <strong>Close-Session</strong>. Otherwise, the reply is lost.</p>
<p>If you send this packet before uploading all fragments, the upload file is deleted; you cannot upload a partial file.</p>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="ack-for-close-session.html"><strong>Ack for Close-Session</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="cancel-session.html"><strong>Cancel-Session</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="create-session.html"><strong>Create-Session</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
