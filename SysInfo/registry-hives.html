<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Registry Hives</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: A hive is a logical group of keys, subkeys, and values in the registry that has a set of supporting files containing backups of its data.
ms.assetid: fe517d88-7b03-4dc3-b3db-6a92665bca8e
title: Registry Hives
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Registry Hives</h1>
<p>A <em>hive</em> is a logical group of keys, subkeys, and values in the registry that has a set of supporting files loaded into memory when the operating system is started or a user logs in.</p>
<p>Each time a new user logs on to a computer, a new hive is created for that user with a separate file for the user profile. This is called the <em>user profile hive</em>. A user's hive contains specific registry information pertaining to the user's application settings, desktop, environment, network connections, and printers. User profile hives are located under the <strong>HKEY_USERS</strong> key.</p>
<p>Registry files have the following two formats: standard and latest. The standard format is the only format supported by Windows 2000. It is also supported by later versions of Windows for backward compatibility. The latest format is supported starting with Windows XP. On versions of Windows that support the latest format, the following hives still use the standard format: <strong>HKEY_CURRENT_USER</strong>, <strong>HKEY_LOCAL_MACHINE\SAM</strong>, <strong>HKEY_LOCAL_MACHINE\Security</strong>, and <strong>HKEY_USERS\.DEFAULT</strong>; all other hives use the latest format.</p>
<p>Most of the supporting files for the hives are in the %SystemRoot%\System32\Config directory. These files are updated each time a user logs on. The file name extensions of the files in these directories, or in some cases a lack of an extension, indicate the type of data they contain. The following table lists these extensions along with a description of the data in the file.</p>
<table>
<thead>
<tr>
<th>Extension</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>none<!-- raw HTML omitted --></td>
<td>A complete copy of the hive data.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>.alt<!-- raw HTML omitted --></td>
<td>A backup copy of the critical <strong>HKEY_LOCAL_MACHINE\System</strong> hive. Only the System key has an .alt file.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>.log<!-- raw HTML omitted --></td>
<td>A transaction log of changes to the keys and value entries in the hive.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>.sav<!-- raw HTML omitted --></td>
<td>A backup copy of a hive.<!-- raw HTML omitted --> <strong>Windows Server 2003 and Windows XP/2000:</strong> Copies of the hive files as they looked at the end of the text-mode stage in Setup. Setup has two stages: text mode and graphics mode. The hive is copied to a .sav file after the text-mode stage of setup to protect it from errors that might occur if the graphics-mode stage of setup fails. If setup fails during the graphics-mode stage, only the graphics-mode stage is repeated when the computer is restarted; the .sav file is used to restore the hive data.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>The following table lists the standard hives and their supporting files.</p>
<table>
<thead>
<tr>
<th>Registry hive</th>
<th>Supporting files</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>HKEY_CURRENT_CONFIG</strong></td>
<td>System, System.alt, System.log, System.sav</td>
</tr>
<tr>
<td><strong>HKEY_CURRENT_USER</strong></td>
<td>Ntuser.dat, Ntuser.dat.log</td>
</tr>
<tr>
<td><strong>HKEY_LOCAL_MACHINE\SAM</strong></td>
<td>Sam, Sam.log, Sam.sav</td>
</tr>
<tr>
<td><strong>HKEY_LOCAL_MACHINE\Security</strong></td>
<td>Security, Security.log, Security.sav</td>
</tr>
<tr>
<td><strong>HKEY_LOCAL_MACHINE\Software</strong></td>
<td>Software, Software.log, Software.sav</td>
</tr>
<tr>
<td><strong>HKEY_LOCAL_MACHINE\System</strong></td>
<td>System, System.alt, System.log, System.sav</td>
</tr>
<tr>
<td><strong>HKEY_USERS\.DEFAULT</strong></td>
<td>Default, Default.log, Default.sav</td>
</tr>
</tbody>
</table>
</body>
