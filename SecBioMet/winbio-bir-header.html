<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WINBIO_BIR_HEADER structure</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: WINBIO_BIR_HEADER structure (Winbio_types.h)
description: Contains the header of a biometric information record (BIR).
ms.assetid: 4b020720-42ef-4ac7-aaa3-7a0e45198890
keywords:</p>
<ul>
<li>WINBIO_BIR_HEADER structure Windows Biometric Framework API
topic_type:</li>
<li>apiref
api_name:</li>
<li>WINBIO_BIR_HEADER
api_location:</li>
<li>Winbio_types.h
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>WINBIO_BIR_HEADER structure</h1>
<p>The <strong>WINBIO_BIR_HEADER</strong> structure contains the header of a biometric information record (BIR).</p>
<h2>Syntax</h2>
<pre lang="C++"><code>typedef struct _WINBIO_BIR_HEADER {
  USHORT                   ValidFields;
  WINBIO_BIR_VERSION       HeaderVersion;
  WINBIO_BIR_VERSION       PatronHeaderVersion;
  WINBIO_BIR_DATA_FLAGS    DataFlags;
  WINBIO_BIOMETRIC_TYPE    Type;
  WINBIO_BIOMETRIC_SUBTYPE Subtype;
  WINBIO_BIR_PURPOSE       Purpose;
  WINBIO_BIR_QUALITY       DataQuality;
  LARGE_INTEGER            CreationDate;
  struct {
    LARGE_INTEGER BeginDate;
    LARGE_INTEGER EndDate;
  } ValidityPeriod;
  WINBIO_REGISTERED_FORMAT BiometricDataFormat;
  WINBIO_REGISTERED_FORMAT ProductId;
} WINBIO_BIR_HEADER;
</code></pre>
<h2>Members</h2>
<!-- raw HTML omitted -->
<p><strong>ValidFields</strong></p>
<!-- raw HTML omitted -->
<p>Bitmask that specifies which fields in this structure are valid. For more information, see <a href="winbio-bir-field-constants.html"><strong>WINBIO_BIR_FIELD Constants</strong></a>.</p>
<!-- raw HTML omitted -->
<p><strong>HeaderVersion</strong></p>
<!-- raw HTML omitted -->
<p>A <strong>WINBIO_BIR_VERSION</strong> constant that specifies the header version. Version numbers are 8-bit values where the upper four bits specify the major number and the low four bits specify the minor version number. Currently this must be WINBIO_CBEFF_HEADER_VERSION (0x11).</p>
<!-- raw HTML omitted -->
<p><strong>PatronHeaderVersion</strong></p>
<!-- raw HTML omitted -->
<p>A <strong>WINBIO_BIR_VERSION</strong> constant that specifies the header version. Version numbers are 8-bit values where the upper four bits specify the major number and the low four bits specify the minor version number. Currently this must be WINBIO_PATRON_HEADER_VERSION (0x11).</p>
<!-- raw HTML omitted -->
<p><strong>DataFlags</strong></p>
<!-- raw HTML omitted -->
<p>A value that specifies the format of the header data. This can be a bitwise <strong>OR</strong> of the following security and processing level flags. For more information, see <a href="winbio-bir-data-flags-constants.html"><strong>WINBIO_BIR_DATA_FLAGS Constants</strong></a>.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>WINBIO_DATA_FLAG_PRIVACY</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->((UCHAR)0x02)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The data is encrypted.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>WINBIO_DATA_FLAG_INTEGRITY</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->((UCHAR)0x01)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The data is digitally signed or protected by a message authentication code (MAC).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>WINBIO_DATA_FLAG_SIGNED</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->((UCHAR)0x04)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>If this flag and the <strong>WINBIO_DATA_FLAG_INTEGRITY</strong> flag are set, the data is signed. If this flag is not set but the <strong>WINBIO_DATA_FLAG_INTEGRITY</strong> flag is set, a MAC is computed over the data.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>WINBIO_DATA_FLAG_RAW</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->((UCHAR)0x20)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The data is in the format with which it was captured.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>WINBIO_DATA_FLAG_INTERMEDIATE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->((UCHAR)0x40)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The data is not raw but has not been completely processed.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>WINBIO_DATA_FLAG_PROCESSED</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->((UCHAR)0x80)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The data has been processed.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>WINBIO_DATA_FLAG_OPTION_MASK_PRESENT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->((UCHAR)0x08)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>This value is always 1.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><strong>Type</strong></p>
<!-- raw HTML omitted -->
<p>A WINBIO_BIOMETRIC_TYPE value that specifies the type of biometric data referenced in the biometric information record. Currently only <strong>WINBIO_TYPE_FINGERPRINT</strong> is supported. For more information, see <a href="winbio-biometric-type-constants.html"><strong>WINBIO_BIOMETRIC_TYPE Constants</strong></a>.</p>
<!-- raw HTML omitted -->
<p><strong>Subtype</strong></p>
<!-- raw HTML omitted -->
<p>A <strong>WINBIO_BIOMETRIC_SUBTYPE</strong> value that specifies the sub-factor associated with the biometric data. For more information, see Remarks and <a href="winbio-biometric-subtype-constants.html"><strong>WINBIO_BIOMETRIC_SUBTYPE Constants</strong></a>.</p>
<!-- raw HTML omitted -->
<p><strong>Purpose</strong></p>
<!-- raw HTML omitted -->
<p>A <strong>WINBIO_BIR_PURPOSE</strong> mask that specifies the intended use of the data. This can be a bitwise <strong>OR</strong> of the following values. For more information, see <a href="winbio-bir-purpose-constants.html"><strong>WINBIO_BIR_PURPOSE Constants</strong></a>.</p>
<ul>
<li>WINBIO_PURPOSE_VERIFY</li>
<li>WINBIO_PURPOSE_IDENTIFY</li>
<li>WINBIO_PURPOSE_ENROLL</li>
<li>WINBIO_PURPOSE_ENROLL_FOR_VERIFICATION</li>
<li>WINBIO_PURPOSE_ENROLL_FOR_IDENTIFICATION</li>
<li>WINBIO_PURPOSE_AUDIT</li>
</ul>
<!-- raw HTML omitted -->
<p><strong>DataQuality</strong></p>
<!-- raw HTML omitted -->
<p>A value that specifies the relative quality of the biometric data in the biometric information record (BIR). This can be an integer from 0 to 100 or one of the following values. For more information, see <a href="winbio-bir-quality-constants.html"><strong>WINBIO_BIR_QUALITY Constants</strong></a>.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>WINBIO_DATA_QUALITY_NOT_SET</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->((WINBIO_BIR_QUALITY)-1)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Quality measurements are supported by the BIR creator but no value is set in the BIR.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>WINBIO_DATA_QUALITY_NOT_SUPPORTED</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->((WINBIO_BIR_QUALITY)-2)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Quality measurements are not supported by the BIR creator.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><strong>CreationDate</strong></p>
<!-- raw HTML omitted -->
<p>The date and time, in Coordinated Universal Time (Greenwich Mean Time), that the BIR was created.</p>
<!-- raw HTML omitted -->
<p><strong>ValidityPeriod</strong></p>
<!-- raw HTML omitted -->
<p>The period for which the BIR is valid.</p>
<!-- raw HTML omitted -->
<p><strong>BeginDate</strong></p>
<!-- raw HTML omitted -->
<p>The date and time, in Coordinated Universal Time, that the validity period starts.</p>
<!-- raw HTML omitted -->
<p><strong>EndDate</strong></p>
<!-- raw HTML omitted -->
<p>The date and time, in Coordinated Universal Time, at which the BIR ceases to be valid.</p>
<!-- raw HTML omitted -->
<p><strong>BiometricDataFormat</strong></p>
<!-- raw HTML omitted -->
<p>A <a href="winbio-registered-format.html"><strong>WINBIO_REGISTERED_FORMAT</strong></a> structure that specifies the data format of the standard data block in the <a href="winbio-bir.html"><strong>WINBIO_BIR</strong></a> structure. The <strong>WINBIO_REGISTERED_FORMAT</strong> members cannot be zero. You can use the following constants to simplify error checking.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>WINBIO_NO_FORMAT_OWNER_AVAILABLE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->((USHORT)0)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>No IBIA (International Biometric Industry Association) assigned owner value has been specified.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>WINBIO_NO_FORMAT_TYPE_AVAILABLE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->((USHORT)0)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>No format type has been specified.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><strong>ProductId</strong></p>
<!-- raw HTML omitted -->
<p>A <a href="winbio-registered-format.html"><strong>WINBIO_REGISTERED_FORMAT</strong></a> structure that specifies the product ID of the component that generated the standard data block in the BIR. The <strong>WINBIO_REGISTERED_FORMAT</strong> members can be zero.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The <em>Subtype</em> parameter specifies the sub-factor associated with the biometric data. Currently, the Windows Biometric Framework (WBF) supports only fingerprint capture and uses the following constants to represent sub-type information:</p>
<ul>
<li>WINBIO_ANSI_381_POS_UNKNOWN</li>
<li>WINBIO_ANSI_381_POS_RH_THUMB</li>
<li>WINBIO_ANSI_381_POS_RH_INDEX_FINGER</li>
<li>WINBIO_ANSI_381_POS_RH_MIDDLE_FINGER</li>
<li>WINBIO_ANSI_381_POS_RH_RING_FINGER</li>
<li>WINBIO_ANSI_381_POS_RH_LITTLE_FINGER</li>
<li>WINBIO_ANSI_381_POS_LH_THUMB</li>
<li>WINBIO_ANSI_381_POS_LH_INDEX_FINGER</li>
<li>WINBIO_ANSI_381_POS_LH_MIDDLE_FINGER</li>
<li>WINBIO_ANSI_381_POS_LH_RING_FINGER</li>
<li>WINBIO_ANSI_381_POS_LH_LITTLE_FINGER</li>
<li>WINBIO_ANSI_381_POS_RH_FOUR_FINGERS</li>
<li>WINBIO_ANSI_381_POS_LH_FOUR_FINGERS</li>
<li>WINBIO_ANSI_381_POS_TWO_THUMBS</li>
</ul>
<blockquote>
<p>[!IMPORTANT]</p>
<p>Do not attempt to validate the value supplied for the <em>Subtype</em> parameter value. The Windows Biometrics Service will validate the supplied value before passing it through to your implementation. If the value is <strong>WINBIO_SUBTYPE_NO_INFORMATION</strong> or <strong>WINBIO_SUBTYPE_ANY</strong>, then validate where appropriate.</p>
</blockquote>
<p>If any of the following bits are asserted, the <strong>WINBIO_BIR_HEADER</strong> structure is not correctly formed.</p>
<pre lang="C++"><code>#define WINBIO_BIR_FIELD_NEVER_VALID    (WINBIO_BIR_FIELD_SUBHEAD_COUNT |   \
                                         WINBIO_BIR_FIELD_PATRON_ID |       \
                                         WINBIO_BIR_FIELD_INDEX |           \
                                         WINBIO_BIR_FIELD_CHALLENGE |       \
                                         WINBIO_BIR_FIELD_PAYLOAD )
</code></pre>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 7 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2008 R2 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Winbio_types.h (include Winbio.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="client-application-structures.html">Client Application Structures</a></p>
<!-- raw HTML omitted -->
<p><a href="winbio-biometric-subtype-constants.html"><strong>WINBIO_BIOMETRIC_SUBTYPE Constants</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="winbio-bir.html"><strong>WINBIO_BIR</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="winbio-bir-data-flags-constants.html"><strong>WINBIO_BIR_DATA_FLAGS Constants</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="winbio-bir-field-constants.html"><strong>WINBIO_BIR_FIELD Constants</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="winbio-bir-purpose-constants.html"><strong>WINBIO_BIR_PURPOSE Constants</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="winbio-bir-quality-constants.html"><strong>WINBIO_BIR_QUALITY Constants</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="winbio-bir-version-constants.html"><strong>WINBIO_BIR_VERSION Constants</strong></a></p>
<!-- raw HTML omitted -->
</body>
