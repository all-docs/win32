<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Engine Adapter Functions</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Engine Adapter Functions
description: An engine adapter generates biometric templates from captured samples, matches samples to existing templates, and indexes templates.
ms.assetid: d5f4683c-0613-493b-830f-0616ffa0694c
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Engine Adapter Functions</h1>
<p>An engine adapter generates biometric templates from captured samples, matches samples to existing templates, and indexes templates. The following functions must be implemented by the adapter developer. They are called by the Windows Biometric service.</p>
<h2>In this section</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_create_key_fn"><strong>EngineAdapterCreateKey</strong></a><!-- raw HTML omitted --></td>
<td>Called by the Windows Biometric Framework to push an HMAC key to the sensor. The returned key identifier will be passed back to the biometric unit when the framework calls <a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_identify_feature_set_secure_fn"><strong>EngineAdapterIdentifyFeatureSetSecure</strong></a>. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_accept_sample_data_fn"><strong>EngineAdapterAcceptSampleData</strong></a><!-- raw HTML omitted --></td>
<td>Accepts a raw biometric sample and extracts a feature set.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_activate_fn"><strong>EngineAdapterActivate</strong></a><!-- raw HTML omitted --></td>
<td>Gives the Engine Adapter the chance to perform any work needed to bring the sensor component out of an idle state.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_attach_fn"><strong>EngineAdapterAttach</strong></a><!-- raw HTML omitted --></td>
<td>Adds an engine adapter to the processing pipeline of the biometric unit.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_check_for_duplicate_fn"><strong>EngineAdapterCheckForDuplicate</strong></a><!-- raw HTML omitted --></td>
<td>Determines whether a new template in the pipeline duplicates any template already saved in the database regardless of the identity associated with the templates.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_clear_context_fn"><strong>EngineAdapterClearContext</strong></a><!-- raw HTML omitted --></td>
<td>Prepares the processing pipeline of the biometric unit for a new operation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_commit_enrollment_fn"><strong>EngineAdapterCommitEnrollment</strong></a><!-- raw HTML omitted --></td>
<td>Finalizes the enrollment object, converts it to a template, and saves the template in the database.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_control_unit_fn"><strong>EngineAdapterControlUnit</strong></a><!-- raw HTML omitted --></td>
<td>Performs a vendor-defined control operation that does not require elevated privilege.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_control_unit_privileged_fn"><strong>EngineAdapterControlUnitPrivileged</strong></a><!-- raw HTML omitted --></td>
<td>Performs a vendor-defined control operation that requires elevated privilege.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_create_enrollment_fn"><strong>EngineAdapterCreateEnrollment</strong></a><!-- raw HTML omitted --></td>
<td>Initializes the enrollment object in the biometric unit pipeline.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_deactivate_fn"><strong>EngineAdapterDeactivate</strong></a><!-- raw HTML omitted --></td>
<td>Gives the Engine Adapter the chance to perform any work needed to put the sensor component into an idle state.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_detach_fn"><strong>EngineAdapterDetach</strong></a><!-- raw HTML omitted --></td>
<td>Releases adapter-specific resources attached to the pipeline.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_discard_enrollment_fn"><strong>EngineAdapterDiscardEnrollment</strong></a><!-- raw HTML omitted --></td>
<td>Deletes intermediate enrollment state information from the pipeline.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_export_engine_data_fn"><strong>EngineAdapterExportEngineData</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves a copy of the most recently processed feature set or template from the engine in a standard biometric information record.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_get_enrollment_hash_fn"><strong>EngineAdapterGetEnrollmentHash</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the hash of the completed enrollment template in the pipeline.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_get_enrollment_status_fn"><strong>EngineAdapterGetEnrollmentStatus</strong></a><!-- raw HTML omitted --></td>
<td>Determines whether the enrollment object is ready to be committed to the pipeline.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_identify_all_fn"><strong>EngineAdapterIdentifyAll</strong></a><!-- raw HTML omitted --></td>
<td>Determines the identities of any people who are currently in camera frame.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_identify_feature_set_fn"><strong>EngineAdapterIdentifyFeatureSet</strong></a><!-- raw HTML omitted --></td>
<td>Builds a template from the current feature set and locates a matching template in the database.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_identify_feature_set_secure_fn"><strong>EngineAdapterIdentifyFeatureSetSecure</strong></a><!-- raw HTML omitted --></td>
<td>Called by the Windows Biometric Framework to build a template from the current feature set and locate a matching template in the database. If a match can be found, the engine adapter must fill the <em>Identity</em>, <em>SubFactor</em>, <em>Authorization</em>, and <em>AuthorizationSize</em> fields.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_notify_power_change_fn"><em>EngineAdapterNotifyPowerChange</em></a><!-- raw HTML omitted --></td>
<td>Receives notification about a change in the computer power state and prepares the engine adapter accordingly.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_pipeline_cleanup_fn"><strong>EngineAdapterPipelineCleanup</strong></a><!-- raw HTML omitted --></td>
<td>Gives the Engine Adapter the chance to perform any cleanup that requires help from the Storage Adapter.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_pipeline_init_fn"><strong>EngineAdapterPipelineInit</strong></a><!-- raw HTML omitted --></td>
<td>Gives the Engine Adapter the chance to perform any initialization that remains incomplete.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_calibration_data_fn"><strong>EngineAdapterQueryCalibrationData</strong></a><!-- raw HTML omitted --></td>
<td>Gets a set of post-capture calibration data from the engine adapter.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_extended_enrollment_status_fn"><strong>EngineAdapterQueryExtendedEnrollmentStatus</strong></a><!-- raw HTML omitted --></td>
<td>Queries the <strong>WINBIO_PROPERTY_EXTENDED_ENROLLMENT_STATUS</strong> property.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_extended_info_fn"><strong>EngineAdapterQueryExtendedInfo</strong></a><!-- raw HTML omitted --></td>
<td>Determines the capabilities and limitations of the biometric engine component.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_hash_algorithms_fn"><strong>EngineAdapterQueryHashAlgorithms</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves an array of object identifiers that represent the hash algorithms supported by the engine adapter.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_index_vector_size_fn"><strong>EngineAdapterQueryIndexVectorSize</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the size of the index vector used by the engine adapter.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_preferred_format_fn"><strong>EngineAdapterQueryPreferredFormat</strong></a><!-- raw HTML omitted --></td>
<td>Determines the input data format preferred by the engine adapter.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_sample_hint_fn"><strong>EngineAdapterQuerySampleHint</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves the number of correct samples required by the engine adapter to construct an enrollment template. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_refresh_cache_fn"><strong>EngineAdapterRefreshCache</strong></a><!-- raw HTML omitted --></td>
<td>Notifies the Engine Adapter that it should discard any cached templates that it may be keeping in memory.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_select_calibration_format_fn"><strong>EngineAdapterSelectCalibrationFormat</strong></a><!-- raw HTML omitted --></td>
<td>Called by the Windows Biometric Framework to determine which of the Sensor Adapter s calibration formats the Engine Adapter wants to use.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_set_account_policy_fn"><strong>EngineAdapterSetAccountPolicy</strong></a><!-- raw HTML omitted --></td>
<td>Sets the extended default and per-user antispoofing policies used by the engine adapter.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_set_enrollment_parameters_fn"><strong>EngineAdapterSetEnrollmentParameters</strong></a><!-- raw HTML omitted --></td>
<td>Gives the engine adapter additional information about an enrollment operation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_set_enrollment_selector_fn"><strong>EngineAdapterSetEnrollmentSelector</strong></a><!-- raw HTML omitted --></td>
<td>Tells the Engine Adapter which person to track for the current enrollment operation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_set_hash_algorithm_fn"><strong>EngineAdapterSetHashAlgorithm</strong></a><!-- raw HTML omitted --></td>
<td>Selects a hash algorithm for use in subsequent operations.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_update_enrollment_fn"><strong>EngineAdapterUpdateEnrollment</strong></a><!-- raw HTML omitted --></td>
<td>Adds the current feature set to the enrollment object.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nc-winbio_adapter-pibio_engine_verify_feature_set_fn"><strong>EngineAdapterVerifyFeatureSet</strong></a><!-- raw HTML omitted --></td>
<td>Compares the template in the current feature set with a specific template in the database.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><a href="/windows/desktop/api/Winbio_adapter/nf-winbio_adapter-wbioqueryengineinterface"><strong>WbioQueryEngineInterface</strong></a><!-- raw HTML omitted --></td>
<td>Retrieves a pointer to the <a href="/windows/desktop/api/Winbio_adapter/ns-winbio_adapter-winbio_engine_interface"><strong>WINBIO_ENGINE_INTERFACE</strong></a> structure for the engine adapter.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="plug-in-functions.html">Plug-in Functions</a></p>
<!-- raw HTML omitted -->
</body>
