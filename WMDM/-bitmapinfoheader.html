<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>_BITMAPINFOHEADER structure</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: '_BITMAPINFOHEADER structure'
description: The _BITMAPINFOHEADER structure defines the format of a video frame.
ms.assetid: 394b8ded-81db-4ad3-8cf7-086f1e832771
keywords:</p>
<ul>
<li>_BITMAPINFOHEADER structure windows Media Device Manager
topic_type:</li>
<li>apiref
api_name:</li>
<li>_BITMAPINFOHEADER
api_location:</li>
<li>wmdm.idl
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>_BITMAPINFOHEADER structure</h1>
<p>The <strong>_BITMAPINFOHEADER</strong> structure defines the format of a video frame.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>typedef struct _tagBITMAPINFOHEADER {
  DWORD biSize;
  LONG  biWidth;
  LONG  biHeight;
  WORD  biPlanes;
  WORD  biBitCount;
  DWORD biCompression;
  DWORD biSizeImage;
  LONG  biXPelsPerMeter;
  LONG  biYPelsPerMeter;
  DWORD biClrUsed;
  DWORD biClrImportant;
} _BITMAPINFOHEADER;
</code></pre>
<h2>Members</h2>
<!-- raw HTML omitted -->
<p><strong>biSize</strong></p>
<!-- raw HTML omitted -->
<p>Specifies the number of bytes required by the structure.</p>
<!-- raw HTML omitted -->
<p><strong>biWidth</strong></p>
<!-- raw HTML omitted -->
<p>Specifies the width of the bitmap, in pixels.</p>
<!-- raw HTML omitted -->
<p><strong>biHeight</strong></p>
<!-- raw HTML omitted -->
<p>Specifies the height of the bitmap, in pixels. If <strong>biHeight</strong> is positive, the bitmap is a bottom-up DIB and its origin is the lower-left corner. If <strong>biHeight</strong> is negative, the bitmap is a top-down DIB and its origin is the upper-left corner. If <strong>biHeight</strong> is negative, indicating a top-down DIB, <strong>biCompression</strong> must be either BI_RGB or BI_BITFIELDS. Top-down DIBs cannot be compressed.</p>
<!-- raw HTML omitted -->
<p><strong>biPlanes</strong></p>
<!-- raw HTML omitted -->
<p>Specifies the number of planes for the target device. This value must be set to 1.</p>
<!-- raw HTML omitted -->
<p><strong>biBitCount</strong></p>
<!-- raw HTML omitted -->
<p>Specifies the number of bits per pixel. The <strong>biBitCount</strong> member of the <strong>BITMAPINFOHEADER</strong> structure determines the number of bits that define each pixel and the maximum number of colors in the bitmap. This member must be one of the following values.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>The bitmap is monochrome, and the bmiColors member contains two entries. Each bit in the bitmap array represents a pixel. If the bit is clear, the pixel is displayed with the color of the first entry in the bmiColors table; if the bit is set, the pixel has the color of the second entry in the table.</td>
</tr>
<tr>
<td>2</td>
<td>The bitmap has four possible color values.</td>
</tr>
<tr>
<td>4</td>
<td>The bitmap has a maximum of 16 colors, and the bmiColors member contains up to 16 entries. Each pixel in the bitmap is represented by a 4-bit index into the color table. For example, if the first byte in the bitmap is 0x1F, the byte represents two pixels. The first pixel contains the color in the second table entry, and the second pixel contains the color in the sixteenth table entry.</td>
</tr>
<tr>
<td>8</td>
<td>The bitmap has a maximum of 256 colors, and the bmiColors member contains up to 256 entries. In this case, each byte in the array represents a single pixel.</td>
</tr>
<tr>
<td>16</td>
<td>The bitmap has a maximum of 2^16 colors. If the biCompression member of the BITMAPINFOHEADER is BI_RGB, the bmiColors member is <strong>NULL</strong>. Each WORD in the bitmap array represents a single pixel. The relative intensities of red, green, and blue are represented with 5 bits for each color component. The value for blue is in the least significant 5 bits, followed by 5 bits each for green and red. The most significant bit is not used. The bmiColors color table is used for optimizing colors used on palette-based devices, and must contain the number of entries specified by the biClrUsed member.</td>
</tr>
<tr>
<td>24</td>
<td>The bitmap has a maximum of 2^24 colors, and the bmiColors member is <strong>NULL</strong>. Each 3-byte triplet in the bitmap array represents the relative intensities of blue, green, and red, respectively, for a pixel. The bmiColors color table is used for optimizing colors used on palette-based devices, and must contain the number of entries specified by the biClrUsed member.</td>
</tr>
<tr>
<td>32</td>
<td>The bitmap has a maximum of 2^32 colors. If the biCompression member is BI_RGB, the bmiColors member is <strong>NULL</strong>. Each DWORD in the bitmap array represents the relative intensities of blue, green, and red, respectively, for a pixel. The high byte in each DWORD is not used. The bmiColors color table is used for optimizing colors used on palette-based devices, and must contain the number of entries specified by the biClrUsed member.</td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><strong>biCompression</strong></p>
<!-- raw HTML omitted -->
<p>Specifies the type of compression for a compressed bottom-up bitmap (top-down DIBs cannot be compressed). This member can be the one of the following values.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>BI_RGB</td>
<td>An uncompressed format.</td>
</tr>
<tr>
<td>BI_BITFIELDS</td>
<td>Specifies that the bitmap is not compressed and that the color table consists of three DWORD color masks that specify the red, green, and blue components, respectively, of each pixel. This is valid when used with 16-bpp and 32-bpp bitmaps. This value is valid in Microsoft Windows CE version 2.0 and later.</td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><strong>biSizeImage</strong></p>
<!-- raw HTML omitted -->
<p>Specifies the size of the image, in bytes. This may be set to zero for BI_RGB bitmaps.</p>
<!-- raw HTML omitted -->
<p><strong>biXPelsPerMeter</strong></p>
<!-- raw HTML omitted -->
<p>Specifies the horizontal resolution, in pixels per meter, of the target device for the bitmap. An application can use this value to select a bitmap from a resource group that best matches the characteristics of the current device.</p>
<!-- raw HTML omitted -->
<p><strong>biYPelsPerMeter</strong></p>
<!-- raw HTML omitted -->
<p>Specifies the vertical resolution, in pixels per meter, of the target device for the bitmap.</p>
<!-- raw HTML omitted -->
<p><strong>biClrUsed</strong></p>
<!-- raw HTML omitted -->
<p>Specifies the number of color indexes in the color table that are actually used by the bitmap. If this value is zero, the bitmap uses the maximum number of colors corresponding to the value of the <strong>biBitCount</strong> member for the compression mode specified by <strong>biCompression</strong>.</p>
<!-- raw HTML omitted -->
<p><strong>biClrImportant</strong></p>
<!-- raw HTML omitted -->
<p>Specifies the number of color indexes required for displaying the bitmap. If this value is zero, all colors are required.</p>
<p>If biClrUsed is nonzero and the biBitCount member is less than 16, the biClrUsed member specifies the actual number of colors the graphics engine or device driver accesses. If biBitCount is 16 or greater, the biClrUsed member specifies the size of the color table used to optimize performance of the system color palettes. If biBitCount equals 16 or 32, the optimal color palette starts immediately following the three DWORD masks.</p>
<p>If the bitmap is a packed bitmap (a bitmap in which the bitmap array immediately follows the _BITMAPINFOHEADER structure and is referenced by a single pointer), the biClrUsed member must be either zero or the actual size of the color table.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>This structure is contained within a <strong>_VIDEOINFOHEADER</strong> structure.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Wmdm.idl<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="structures.html"><strong>Structures</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="-videoinfoheader.html"><strong>_VIDEOINFOHEADER</strong></a></p>
<!-- raw HTML omitted -->
</body>
