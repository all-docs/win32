<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>IWMDRMDevice::GetMeterChallenge method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: IWMDRMDevice GetMeterChallenge method
description: The GetMeterChallenge method retrieves the metering challenge.
ms.assetid: 4c122886-46bd-4e63-8e7d-5e6132363662
keywords:</p>
<ul>
<li>GetMeterChallenge method windows Media Device Manager</li>
<li>GetMeterChallenge method windows Media Device Manager , IWMDRMDevice interface</li>
<li>IWMDRMDevice interface windows Media Device Manager , GetMeterChallenge method
topic_type:</li>
<li>apiref
api_name:</li>
<li>IWMDRMDevice.GetMeterChallenge
api_location:</li>
<li>mssachlp.lib</li>
<li>mssachlp.dll
api_type:</li>
<li>COM
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>IWMDRMDevice::GetMeterChallenge method</h1>
<p>The <strong>GetMeterChallenge</strong> method retrieves the metering challenge.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT GetMeterChallenge(
  [in]  BSTR  bstrMeterCert,
  [out] BYTE  **ppbMeterChallenge,
  [out] DWORD *pcbMeterChallenge
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>bstrMeterCert</em> [in]</p>
<!-- raw HTML omitted -->
<p>Metering certificate that the content owner sends to the host computer for collecting the associated metering data on the device</p>
<!-- raw HTML omitted -->
<p><em>ppbMeterChallenge</em> [out]</p>
<!-- raw HTML omitted -->
<p>Retrieved metering challenge result.</p>
<!-- raw HTML omitted -->
<p><em>pcbMeterChallenge</em> [out]</p>
<!-- raw HTML omitted -->
<p>The size of the metering challenge, in bytes.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>The method returns an <strong>HRESULT</strong>. Possible values include, but are not limited to, those in the following table.</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>S_OK</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The method succeeded.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>Metering data is collected and stored in the DRM data store on the device for content with metering enabled. Actions such as play will be recorded. When this function is called, the device collects the metering data in the DRM data store in the form of an XML document and sends it to the hostcomputer. If there is too much data, it is sent in phases.</p>
<p>When the host computer receives the metering data, it sends the data over the Internet to the URL specified in the metering certificate.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->WMDDRMSP.idl<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Mssachlp.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="iwmdrmdevice.html"><strong>IWMDRMDevice Interface</strong></a></p>
<!-- raw HTML omitted -->
</body>
