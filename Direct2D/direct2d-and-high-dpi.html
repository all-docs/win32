<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Direct2D and High-DPI</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Direct2D and High-DPI
description: Describes how Direct2D accommodates high-DPI display.
ms.assetid: 1809ab0e-853f-4dac-be97-563c92b9caee
keywords:</p>
<ul>
<li>Direct2D,high-DPI</li>
<li>high-DPI
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Direct2D and High-DPI</h1>
<p>Writing a DPI-aware application is the key to making a user interface (UI) look consistently good across a wide variety of high-DPI display settings. An application that is not DPI-aware but is running on a high-DPI display setting can suffer from many visual artifacts, including incorrect scaling of UI elements, clipped text, and blurry images. By adding support in your application for DPI-awareness, you make the presentation of your application's UI more predictable, making it more visually appealing and easier to read for users. Fortunately, Direct2D makes it easier than ever to write applications that work well in high-DPI. This topic contains the following sections.</p>
<ul>
<li><a href="#high-dpi-support-in-direct2d">High-DPI Support in Direct2D</a></li>
<li><a href="#windows-8-and-high-dpi">WindowsÂ 8 and High-DPI</a></li>
<li><a href="#what-is-a-dip">What is a DIP?</a></li>
<li><a href="#related-topics">Related topics</a></li>
</ul>
<h2>High-DPI Support in Direct2D</h2>
<p>Direct2D provides the following features for working with high-DPI scenarios:</p>
<ul>
<li>It automatically honors the system DPI when creating a windowed render target, so long as the application manifest indicates that the application handles DPI correctly. (For information on how to declare that your application is DPI-aware, see <a href="how-to--size-a-window-properly-for-high-dpi-displays.html">How to Ensure That Your Application Displays Properly on High-DPI Displays</a>.)</li>
<li>It expresses coordinates in DIPs (Device Independent Pixels), which enables the application to scale automatically when the DPI setting changes.</li>
<li>It enables bitmaps to have a DPI and correctly scales them by taking the DPI into account. This feature can also be used to maintain icons at different resolutions.</li>
<li>It expresses most resources in DIPs, which makes the resources automatically independent of resolution.</li>
<li>It uses a floating-point coordinate space and antialiasing, so any content can be scaled to any arbitrary DPI.</li>
</ul>
<p>The Direct2D graphics pipeline is designed to scale from 96 DPI to 1200DPI.</p>
<h2>Windows 8 and High-DPI</h2>
<p>Starting with WindowsÂ 8, there are additional features for high-DPI support.</p>
<p>If the device context DPI is high enough, Direct2D changes the threshold it uses to enable vertical antialiasing of text. This results in faster text rendering on high-DPI displays. Additionally, you can switch the unit mode to pixels instead of DIPs using the <a href="/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1devicecontext-setunitmode"><strong>ID2D1DeviceContext::SetUnitMode</strong></a> method. If you set the unit mode to pixels and the device context DPI to the screen DPI, the optimization is still enabled.</p>
<h2>What is a DIP?</h2>
<p>A device independent pixel (DIP) is a logical pixel that maps to the pixels of the physical device through a scalar, the DPI. DPI stands for dots per inch, where a dot represents a physical device pixel. (The nomenclature comes from printing, where dots are the smallest ink dot that a printing process can produce). Because a standard monitor used to have 96 dots per inch, a DPI of 96 meant that a device independent pixel (or DIP) mapped 1:1 with a physical pixel. For example, if the DPI were 96*2 = 192, then a single DIP would encompass two physical pixels.</p>
<p>There are many reasons why applications don't necessarily handle this scaling correctly; one of the simplest reasons is that it requires extra work to discover and use this scalar value when rendering. In Direct2D, the scaling is applied by default. Because of this mapping, physical device pixels might end up at fractional DIP coordinates, which is one of the reasons why Direct2D uses a floating-point coordinate space.</p>
<!-- raw HTML omitted -->
<p>To convert a physical pixel to a DIP, use this formula:</p>
<!-- raw HTML omitted -->
<blockquote>
<p>[!Note]</p>
<p>Starting with WindowsÂ 8, you can switch the unit mode to pixels instead of DIPs using the <a href="/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1devicecontext-setunitmode"><strong>ID2D1DeviceContext::SetUnitMode</strong></a> method.</p>
</blockquote>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="how-to--size-a-window-properly-for-high-dpi-displays.html">How to Ensure That Your Application Displays Properly on High-DPI Displays</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
