<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ID2D1CommandSink1::SetPrimitiveBlend1 method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: ID2D1CommandSink1 SetPrimitiveBlend1 method
description: Sets a new primitive blend mode.
ms.assetid: 3EA9EC07-1B2F-48A2-ABFB-2DA0E2EFFBF4
keywords:</p>
<ul>
<li>SetPrimitiveBlend1 method Direct2D</li>
<li>SetPrimitiveBlend1 method Direct2D , ID2D1CommandSink1 interface</li>
<li>ID2D1CommandSink1 interface Direct2D , SetPrimitiveBlend1 method
topic_type:</li>
<li>apiref
api_name:</li>
<li>ID2D1CommandSink1.SetPrimitiveBlend1
api_type:</li>
<li>COM
ms.topic: reference
ms.date: 05/31/2018
api_location:</li>
</ul>
<hr />
<h1>ID2D1CommandSink1::SetPrimitiveBlend1 method</h1>
<p>Sets a new primitive blend mode.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT SetPrimitiveBlend1(
   D2D1_PRIMITIVE_BLEND primitiveBlend
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>primitiveBlend</em></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_primitive_blend"><strong>D2D1_PRIMITIVE_BLEND</strong></a></strong></p>
<p>The primitive blend that will apply to subsequent primitives.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong>HRESULT</strong></p>
<p>If the method succeeds, it returns <strong>S_OK</strong>. If it fails, it returns an <strong>HRESULT</strong> error code.</p>
<h2>Remarks</h2>
<h3>Blend modes</h3>
<p>For aliased rendering (except for MIN mode), the output value O is computed by linearly interpolating the value <em>blend(S, D)</em> with the destination pixel value, based on the amount that the primitive covers the destination pixel.</p>
<p>The table here shows the primitive blend modes for both aliased and antialiased blending. The equations listed in the table use these elements:</p>
<ul>
<li>O = Output</li>
<li>S = Source</li>
<li>SA = Source Alpha</li>
<li>D = Destination</li>
<li>DA = Destination Alpha</li>
<li>C = Pixel coverage</li>
</ul>
<table>
<thead>
<tr>
<th>Primitive blend mode</th>
<th>Aliased blending</th>
<th>Antialiased blending</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>D2D1_PRIMITIVE_BLEND_SOURCE_OVER</td>
<td>O = (S + (1   SA) * D) * C + D * (1   C)</td>
<td>O = S * C + D *(1   SA *C)</td>
<td>The standard source-over-destination blend mode.</td>
</tr>
<tr>
<td>D2D1_PRIMITIVE_BLEND_COPY</td>
<td>O = S * C + D * (1   C)</td>
<td>O = S * C + D * (1   C)</td>
<td>The source is copied to the destination; the destination pixels are ignored.</td>
</tr>
<tr>
<td>D2D1_PRIMITIVE_BLEND_MIN</td>
<td>O = Min(S + 1-SA, D)</td>
<td>O = Min(S * C + 1   SA *C, D)</td>
<td>The resulting pixel values use the minimum of the source and destination pixel values. Available in Windows 8 and later.</td>
</tr>
<tr>
<td>D2D1_PRIMITIVE_BLEND_ADD</td>
<td>O = (S + D) * C + D * (1   C)</td>
<td>O = S * C + D</td>
<td>The resulting pixel values are the sum of the source and destination pixel values. Available in Windows 8 and later.</td>
</tr>
</tbody>
</table>
<p><img src="images/primblenddemo.png" alt="an illustration of direct2d primitive blend modes with varying opacity and backgrounds." /></p>
<p>An illustration of the primitive blend modes with varying opacity and backgrounds.</p>
<p>The primitive blend will apply to all of the primitive drawn on the context, unless this is overridden with the <em>compositeMode</em> parameter on the <a href="/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1devicecontext-drawimage(id2d1image_constd2d1_point_2f_constd2d1_rect_f_d2d1_interpolation_mode_d2d1_composite_mode)"><strong>DrawImage</strong></a> API.</p>
<p>The primitive blend applies to the interior of any primitives drawn on the context. In the case of <a href="/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1devicecontext-drawimage(id2d1image_constd2d1_point_2f_constd2d1_rect_f_d2d1_interpolation_mode_d2d1_composite_mode)"><strong>DrawImage</strong></a>, this will be implied by the image rectangle, offset and world transform.</p>
<p>If the primitive blend is anything other than <strong>D2D1_PRIMITIVE_BLEND_OVER</strong> then ClearType rendering will be turned off. If the application explicitly forces ClearType rendering in these modes, the drawing context will be placed in an error state. D2DERR_WRONG_STATE will be returned from either <a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw"><strong>EndDraw</strong></a> or <a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush"><strong>Flush</strong></a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 8.1 [desktop apps | UWP apps]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2012 R2 [desktop apps | UWP apps]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported phone<!-- raw HTML omitted --></td>
<td>Windows Phone 8.1 [Windows Phone Silverlight 8.1 and Windows Runtime apps]<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d2d1_2/nn-d2d1_2-id2d1commandsink1"><strong>ID2D1CommandSink1</strong></a></p>
<!-- raw HTML omitted -->
</body>
