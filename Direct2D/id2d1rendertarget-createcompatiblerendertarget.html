<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ID2D1RenderTarget::CreateCompatibleRenderTarget methods</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: ID2D1RenderTarget CreateCompatibleRenderTarget methods (D2d1.h)
description: Creates a new bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target .
ms.assetid: 4a799a7c-0d2f-460f-99f9-24c6cf7c4537
keywords:</p>
<ul>
<li>CreateCompatibleRenderTarget methods Direct2D
topic_type:</li>
<li>apiref
api_location:</li>
<li>D2d1.dll
api_type:</li>
<li>DllExport
ms.date: 07/02/2019
ms.topic: reference</li>
</ul>
<hr />
<h1>ID2D1RenderTarget::CreateCompatibleRenderTarget methods</h1>
<p>Creates a new bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target .</p>
<h3>Overload list</h3>
<table>
<thead>
<tr>
<th align="left">Method</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_d2d1_pixel_format_d2d1_compatible_render_target_options_id2d1bitmaprendertarget)"><strong>CreateCompatibleRenderTarget(D2D1_SIZE_F,D2D1_SIZE_U,D2D1_PIXEL_FORMAT,D2D1_COMPATIBLE_RENDER_TARGET_OPTIONS,ID2D1BitmapRenderTarget**)</strong></a></td>
<td align="left">Creates a bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_d2d1_pixel_format_d2d1_compatible_render_target_options_id2d1bitmaprendertarget)"><strong>CreateCompatibleRenderTarget(D2D1_SIZE_F*,D2D1_SIZE_U*,D2D1_PIXEL_FORMAT*,D2D1_COMPATIBLE_RENDER_TARGET_OPTIONS,ID2D1BitmapRenderTarget**)</strong></a></td>
<td align="left">Creates a bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)"><strong>CreateCompatibleRenderTarget(ID2D1BitmapRenderTarget**)</strong></a></td>
<td align="left">Creates a new bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target and has the same size, DPI, and pixel format (but not alpha mode) as the current render target. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_id2d1bitmaprendertarget)"><strong>CreateCompatibleRenderTarget(D2D1_SIZE_F,ID2D1BitmapRenderTarget**)</strong></a></td>
<td align="left">Creates a new bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target and has the same pixel format (but not alpha mode) as the current render target. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_id2d1bitmaprendertarget)"><strong>CreateCompatibleRenderTarget(D2D1_SIZE_F,D2D1_SIZE_U,ID2D1BitmapRenderTarget**)</strong></a></td>
<td align="left">Creates a bitmap render target for use during intermediate off-screen drawing that is compatible with the current render target. The new bitmap render target has the same pixel format (but not alpha mode) as the current render target. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_d2d1_pixel_format_id2d1bitmaprendertarget)"><strong>CreateCompatibleRenderTarget(D2D1_SIZE_F,D2D1_SIZE_U,D2D1_PIXEL_FORMAT,ID2D1BitmapRenderTarget**)</strong></a></td>
<td align="left">Creates a bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target. <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Examples</h2>
<p>The following example uses the <strong>CreateCompatibleRenderTarget</strong> method to create an <a href="/windows/win32/api/d2d1/nn-d2d1-id2d1bitmaprendertarget"><strong>ID2D1BitmapRenderTarget</strong></a> and uses it to draw a grid pattern. The grid pattern is used as the source of an <a href="/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush"><strong>ID2D1BitmapBrush</strong></a>.</p>
<pre lang="C++"><code>HRESULT DemoApp::CreateGridPatternBrush(
    ID2D1RenderTarget *pRenderTarget,
    ID2D1BitmapBrush **ppBitmapBrush
    )
{
    // Create a compatible render target.
    ID2D1BitmapRenderTarget *pCompatibleRenderTarget = NULL;
    HRESULT hr = pRenderTarget-&gt;CreateCompatibleRenderTarget(
        D2D1::SizeF(10.0f, 10.0f),
        &amp;amp;pCompatibleRenderTarget
        );
    if (SUCCEEDED(hr))
    {
        // Draw a pattern.
        ID2D1SolidColorBrush *pGridBrush = NULL;
        hr = pCompatibleRenderTarget-&gt;CreateSolidColorBrush(
            D2D1::ColorF(D2D1::ColorF(0.93f, 0.94f, 0.96f, 1.0f)),
            &amp;amp;pGridBrush
            );
        if (SUCCEEDED(hr))
        {
            pCompatibleRenderTarget-&gt;BeginDraw();
            pCompatibleRenderTarget-&gt;FillRectangle(D2D1::RectF(0.0f, 0.0f, 10.0f, 1.0f), pGridBrush);
            pCompatibleRenderTarget-&gt;FillRectangle(D2D1::RectF(0.0f, 0.1f, 1.0f, 10.0f), pGridBrush);
            pCompatibleRenderTarget-&gt;EndDraw();

            // Retrieve the bitmap from the render target.
            ID2D1Bitmap *pGridBitmap = NULL;
            hr = pCompatibleRenderTarget-&gt;GetBitmap(&amp;amp;pGridBitmap);
            if (SUCCEEDED(hr))
            {
                // Choose the tiling mode for the bitmap brush.
                D2D1_BITMAP_BRUSH_PROPERTIES brushProperties =
                    D2D1::BitmapBrushProperties(D2D1_EXTEND_MODE_WRAP, D2D1_EXTEND_MODE_WRAP);

                // Create the bitmap brush.
                hr = m_pRenderTarget-&gt;CreateBitmapBrush(pGridBitmap, brushProperties, ppBitmapBrush);

                pGridBitmap-&gt;Release();
            }

            pGridBrush-&gt;Release();
        }

        pCompatibleRenderTarget-&gt;Release();
    }

    return hr;
}
</code></pre>
<p>The following code example uses the brush to paint a pattern.</p>
<pre lang="C++"><code>// Paint a grid background.
m_pRenderTarget-&gt;FillRectangle(
    D2D1::RectF(0.0f, 0.0f, renderTargetSize.width, renderTargetSize.height),
    m_pGridPatternBitmapBrush
    );
</code></pre>
<p>Code has been omitted from this example.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D2d1.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D2d1.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D2d1.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget"><strong>ID2D1RenderTarget</strong></a></p>
<!-- raw HTML omitted -->
<p>ï¿½</p>
<p>ï¿½</p>
</body>
