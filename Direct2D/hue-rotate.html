<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Hue rotation effect</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Hue rotation effect
description: Use the hue rotate effect to alter the hue of an image by applying a color matrix based on the rotation angle.
ms.assetid: D322DB2C-2B8B-4101-BFB2-97E49CAC7BF6
keywords:</p>
<ul>
<li>hue rotation effect
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Hue rotation effect</h1>
<p>Use the hue rotate effect to alter the hue of an image by applying a color matrix based on the rotation angle.</p>
<p>The CLSID for this effect is CLSID_D2D1HueRotation.</p>
<ul>
<li><a href="#example-image">Example image</a></li>
<li><a href="#effect-properties">Effect properties</a></li>
<li><a href="#output-bitmap">Output bitmap</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#related-topics">Related topics</a></li>
</ul>
<h2>Example image</h2>
<p>The example here shows the input and output images of the hue rotate effect with a rotation angle of 270 degrees.</p>
<table>
<thead>
<tr>
<th>Before</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="images/default-before.jpg" alt="the image before the effect." /></td>
</tr>
<tr>
<td>After</td>
</tr>
<tr>
<td><img src="images/17-huerotation.png" alt="the image after the transform." /></td>
</tr>
</tbody>
</table>
<pre lang="C++"><code>ComPtr&lt;ID2D1Effect&gt; hueRotationEffect;
m_d2dContext-&gt;CreateEffect(CLSID_D2D1HueRotation, &amp;hueRotationEffect);

hueRotationEffect-&gt;SetInput(0, bitmap);
hueRotationEffect-&gt;SetValue(D2D1_HUEROTATION_PROP_ANGLE, 270.0f);

m_d2dContext-&gt;BeginDraw();
m_d2dContext-&gt;DrawImage(hueRotationEffect.Get());
m_d2dContext-&gt;EndDraw();
</code></pre>
<p>The effect calculates a color matrix based on the rotation angle (<em>?</em>) you specify with the D2D1_HUEROTATION_PROP_ANGLE property. Here are the matrix equations.</p>
<p><img src="images/hue-formula.png" alt="hue rotation calculations" /></p>
<p>The matrix created depends only on the rotation angle. You can use the <a href="color-matrix.html">color matrix</a> effect if you need a specific matrix.</p>
<h2>Effect properties</h2>
<table>
<thead>
<tr>
<th>Display name and index enumeration</th>
<th>Type and default value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Angle<!-- raw HTML omitted --> D2D1_HUEROTATION_PROP_ANGLE<!-- raw HTML omitted --></td>
<td>FLOAT<!-- raw HTML omitted --> 0.0f<!-- raw HTML omitted --></td>
<td>The angle to rotate the hue, in degrees.</td>
</tr>
</tbody>
</table>
<h2>Output bitmap</h2>
<p>The output bitmap size is the same as the input bitmap size.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client</td>
<td>Windows 8 and Platform Update for Windows 7 [desktop apps | Windows Store apps]</td>
</tr>
<tr>
<td>Minimum supported server</td>
<td>Windows 8 and Platform Update for Windows 7 [desktop apps | Windows Store apps]</td>
</tr>
<tr>
<td>Header</td>
<td>d2d1effects.h</td>
</tr>
<tr>
<td>Library</td>
<td>d2d1.lib, dxguid.lib</td>
</tr>
</tbody>
</table>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect"><strong>ID2D1Effect</strong></a></p>
<!-- raw HTML omitted -->
</body>
