<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>DPI compensation effect</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: DPI compensation effect
description: Use the DPI compensation effect to automatically adjust an input bitmap to match the DPI of the context. This is useful for situations where a bitmap is created or loaded at a different DPI than the screen.
ms.assetid: EA8AD89B-A710-468F-A6F3-474DA29586F1
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>DPI compensation effect</h1>
<p>Use the DPI compensation effect to automatically adjust an input bitmap to match the DPI of the context. This is useful for situations where a bitmap is created or loaded at a different DPI than the screen.</p>
<p>The CLSID for this effect is CLSID_D2D1DpiCompensation.</p>
<h2>Effect properties</h2>
<table>
<thead>
<tr>
<th>Display name and index enumeration</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>InterpolationMode<!-- raw HTML omitted --> D2D1_DPICOMPENSATION_PROP_INTERPOLATION_MODE<!-- raw HTML omitted --></td>
<td>The interpolation mode the effect uses to scale the image.<!-- raw HTML omitted --> The type is D2D1_DPICOMPENSATION_INTERPOLATION_MODE.<!-- raw HTML omitted --> The default value is D2D1_DPICOMPENSATION_INTERPOLATION_MODE_LINEAR .<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>BorderMode<!-- raw HTML omitted --> D2D1_DPICOMPENSATION_PROP_BORDER_MODE<!-- raw HTML omitted --></td>
<td>The mode used to calculate the border of the image, soft or hard. See <a href="https://www.bing.com/search?q=Border+modes">Border modes</a> for more info. <!-- raw HTML omitted --> The type is D2D1_BORDER_MODE.<!-- raw HTML omitted --> The default value is D2D1_BORDER_MODE_SOFT.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>InputDpi<!-- raw HTML omitted --> D2D1_DPICOMPENSATION_PROP_INPUT_DPI<!-- raw HTML omitted --></td>
<td>The DPI of the input image.<!-- raw HTML omitted --> The type is FLOAT.<!-- raw HTML omitted --> The default value is 96.0f.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Interpolation modes</h2>
<table>
<thead>
<tr>
<th>Enumeration</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>D2D1_DPICOMPENSATION_INTERPOLATION_MODE_NEAREST_NEIGHBOR</td>
<td>Samples the nearest single point and uses that. This mode uses less processing time, but outputs the lowest quality image.</td>
</tr>
<tr>
<td>D2D1_DPICOMPENSATION_INTERPOLATION_MODE_LINEAR</td>
<td>Uses a four point sample and linear interpolation. This mode uses more processing time than the nearest neighbor mode, but outputs a higher quality image.</td>
</tr>
<tr>
<td>D2D1_DPICOMPENSATION_INTERPOLATION_MODE_CUBIC</td>
<td>Uses a 16 sample cubic kernel for interpolation. This mode uses the most processing time, but outputs a higher quality image.</td>
</tr>
<tr>
<td>D2D1_DPICOMPENSATION_INTERPOLATION_MODE_MULTI_SAMPLE_LINEAR</td>
<td>Uses 4 linear samples within a single pixel for good edge anti-aliasing. This mode is good for scaling down by small amounts on images with few pixels.</td>
</tr>
<tr>
<td>D2D1_DPICOMPENSATION_INTERPOLATION_MODE_ANISOTROPIC</td>
<td>Uses anisotropic filtering to sample a pattern according to the transformed shape of the bitmap.</td>
</tr>
<tr>
<td>D2D1_DPICOMPENSATION_INTERPOLATION_MODE_HIGH_QUALITY_CUBIC</td>
<td>Uses a variable size high quality cubic kernel to perform a pre-downscale the image if downscaling is involved in the transform matrix. Then uses the cubic interpolation mode for the final output.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>[!Note]<br />
If you don't select a mode, the effect defaults to D2D1_DPICOMPENSTION_INTERPOLATION_MODE_LINEAR.</p>
</blockquote>
<h2>Border modes</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>D2D1_BORDER_MODE_SOFT</td>
<td>Pixels outside of the input boundaries are generated by the <a href="border.html">mirror border effect</a>. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>D2D1_BORDER_MODE_HARD</td>
<td>Pixels outside of the input boundaries are transparent black.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client</td>
<td>Windows 8 and Platform Update for Windows 7 [desktop apps | Windows Store apps]</td>
</tr>
<tr>
<td>Minimum supported server</td>
<td>Windows 8 and Platform Update for Windows 7 [desktop apps | Windows Store apps]</td>
</tr>
<tr>
<td>Header</td>
<td>d2d1effects.h</td>
</tr>
<tr>
<td>Library</td>
<td>d2d1.lib, dxguid.lib</td>
</tr>
</tbody>
</table>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect"><strong>ID2D1Effect</strong></a></p>
<!-- raw HTML omitted -->
</body>
