<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Saturation effect</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Saturation effect
description: Use this effect to alter the saturation of an image.
ms.assetid: 03A374D9-BED4-49ED-B90E-21193909C8AB
keywords:</p>
<ul>
<li>saturation effect
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>Saturation effect</h1>
<p>Use this effect to alter the saturation of an image. The saturation effect is a specialization of the <a href="color-matrix.html">color matrix</a> effect.</p>
<p>The CLSID for this effect is CLSID_D2D1Saturation.</p>
<ul>
<li><a href="#example-image">Example image</a></li>
<li><a href="#effect-properties">Effect properties</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#related-topics">Related topics</a></li>
</ul>
<h2>Example image</h2>
<p>The example here shows the input and output images of the saturation effect with a saturation of 0%.</p>
<table>
<thead>
<tr>
<th>Before</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="images/default-before.jpg" alt="the image before the effect." /></td>
</tr>
<tr>
<td>After</td>
</tr>
<tr>
<td><img src="images/16-saturation.png" alt="the image after the transform." /></td>
</tr>
</tbody>
</table>
<pre lang="C++"><code>ComPtr&lt;ID2D1Effect&gt; saturationEffect;
m_d2dContext-&gt;CreateEffect(CLSID_D2D1Saturation, &amp;saturationEffect);

saturationEffect-&gt;SetInput(0, bitmap);

saturationEffect-&gt;SetValue(D2D1_SATURATION_PROP_SATURATION, 0.0f);

m_d2dContext-&gt;BeginDraw();
m_d2dContext-&gt;DrawImage(saturationEffect.Get());
m_d2dContext-&gt;EndDraw();
</code></pre>
<p>The effect calculates a color matrix based on the saturation value (<em>s</em> in the equation here) you specify with the D2D1_SATURATION_PROP_SATURATION property. The matrix equation is shown here.</p>
<p><img src="images/saturation-formula.png" alt="formula for calculating a saturation matrix." /></p>
<p>The matrix created depends only on the saturation value. You can use the <a href="color-matrix.html">color matrix</a> effect if you need a specific matrix.</p>
<p>This effect consumes and outputs premultiplied alpha images. The effect won't work on straight alpha images unless they are fully opaque.</p>
<h2>Effect properties</h2>
<table>
<thead>
<tr>
<th>Display name and index enumeration</th>
<th>Type and default value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Saturation<!-- raw HTML omitted --> D2D1_SATURATION_PROP_SATURATION<!-- raw HTML omitted --></td>
<td>FLOAT<!-- raw HTML omitted --> 0.5f<!-- raw HTML omitted --></td>
<td>The saturation of the image. You can set the saturation to a value between 0 and 1. If you set it to 1 the output image is fully saturated. If you set it to 0 the output image is monochrome. The saturation value is unitless.</td>
</tr>
</tbody>
</table>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client</td>
<td>Windows 8 and Platform Update for Windows 7 [desktop apps | Windows Store apps]</td>
</tr>
<tr>
<td>Minimum supported server</td>
<td>Windows 8 and Platform Update for Windows 7 [desktop apps | Windows Store apps]</td>
</tr>
<tr>
<td>Header</td>
<td>d2d1effects.h</td>
</tr>
<tr>
<td>Library</td>
<td>d2d1.lib, dxguid.lib</td>
</tr>
</tbody>
</table>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect"><strong>ID2D1Effect</strong></a></p>
<!-- raw HTML omitted -->
</body>
