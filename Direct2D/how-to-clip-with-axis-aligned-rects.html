<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>How to Clip with an Axis-Aligned Clip Rectangle</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: How to Clip with an Axis-Aligned Clip Rectangle
description: Shows how to clip a region with an axis-aligned clip rectangle.
ms.assetid: 4196653a-9177-4a41-9db9-4738a41313aa
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>How to Clip with an Axis-Aligned Clip Rectangle</h1>
<p>This topic describes how to clip an image with an axis-aligned clip rectangle. This approach produces only rectangular clips, because the content bounds are aligned to the axis of the rectangle. This approach is more efficient than using layers with the content bounds. For more information, see <a href="direct2d-layers-overview.html">Layers Overview</a>.</p>
<p><strong>To clip with an axis-aligned clip rectangle</strong></p>
<ol>
<li>
<p>Load the original image from a resource. For information on how to load a bitmap, see <a href="how-to-load-a-bitmap-from-a-resource.html">How to Load a Bitmap from a Resource</a>.</p>
</li>
<li>
<p>Call <a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)"><strong>ID2D1RenderTarget::PushAxisAlignedClip</strong></a> to specify a rectangle. The rendering commands are clipped to the rectangle.</p>
</li>
<li>
<p>Paint the original image.</p>
</li>
<li>
<p>Call <a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-popaxisalignedclip"><strong>ID2D1RenderTarget::PopAxisAlignedClip</strong></a> to remove the last axis-aligned clip from the render target.</p>
</li>
</ol>
<p>For example, in the following illustration, the original bitmap on the left is 200*130 pixels. The bitmap on the right is the original bitmap clipped to the axis-aligned clip rectangle. The dimensions are (20, 20) to (100, 100).</p>
<p><img src="images/cliparegion-axisalignedclip.png" alt="illustration of a goldfish bitmap before and after the bitmap is clipped" /></p>
<p>To create the clipped image, create a rectangle structure as the clipping area. Call <a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)"><strong>PushAxisAlignedClip</strong></a> with the clipping area and paint the original image. Call <a href="/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-popaxisalignedclip"><strong>PopAxisAlignedClip</strong></a> to remove the clip from the render target. The following code shows how to do this.</p>
<pre lang="C++"><code>pRT-&gt;PushAxisAlignedClip(
    D2D1::RectF(20, 20, 100, 100),
    D2D1_ANTIALIAS_MODE_PER_PRIMITIVE
    );

pRT-&gt;FillRectangle(D2D1::RectF(0, 0, 200, 133), m_pOriginalBitmapBrush);
pRT-&gt;PopAxisAlignedClip();
</code></pre>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="reference.html">Direct2D Reference</a></p>
<!-- raw HTML omitted -->
</body>
