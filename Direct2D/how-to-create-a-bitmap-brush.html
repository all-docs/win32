<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>How to Create a Bitmap Brush</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: How to Create a Bitmap Brush
description: Shows how to create a bitmap brush using Direct2D.
ms.assetid: 8f78b30a-7507-4dd8-b6f4-12d88e3c9a1d
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>How to Create a Bitmap Brush</h1>
<p>To create a bitmap brush, use the <a href="id2d1rendertarget-createbitmapbrush.html"><strong>ID2D1RenderTarget::CreateBitmapBrush</strong></a> method and specify the bitmap brush properties. Some overloads enable you to specify the brush properties. The following code shows how to create a bitmap brush to fill a square, and a solid black brush to draw the outline of the square. The code produces the output shown in the following screen shot.</p>
<blockquote>
<p>[!Note]<br />
Starting with WindowsÂ 8, you can use the <a href="/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1devicecontext-createbitmapbrush(id2d1bitmap_constd2d1_bitmap_brush_properties1_constd2d1_brush_properties_id2d1bitmapbrush1)"><strong>CreateBitmapBrush</strong></a> method on the <a href="/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1devicecontext"><strong>ID2D1DeviceContext</strong></a> interface to create a <a href="/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1bitmapbrush1"><strong>ID2D1BitmapBrush1</strong></a> instead of a <strong>ID2D1BitmapBrush</strong>. <strong>ID2D1BitmapBrush1</strong> adds high-quality scaling modes to the bitmap brush.</p>
</blockquote>
<p>Â </p>
<p><img src="images/brushes-ovw-bitmap.png" alt="screen shot of a square filled with a plant bitmap" /></p>
<ol>
<li>
<p>Declare a variable of type <a href="/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush"><strong>ID2D1BitmapBrush</strong></a>.</p>
<pre lang="C++"><code>    ID2D1BitmapBrush *m_pBitmapBrush;
</code></pre>
</li>
<li>
<p>Load a bitmap from a resource. For more information, see <a href="how-to-load-a-bitmap-from-a-resource.html">How to Load a Bitmap from a Resource</a>.</p>
<pre lang="C++"><code>// Create the bitmap to be used by the bitmap brush.
if (SUCCEEDED(hr))
{
    hr = LoadResourceBitmap(
        m_pRenderTarget,
        m_pWICFactory,
        L&quot;FERN&quot;,
        L&quot;Image&quot;,
        &amp;m_pBitmap
        );
</code></pre>
</li>
<li>
<p>Choose the extend modes (<a href="/windows/desktop/api/d2d1/ne-d2d1-d2d1_extend_mode"><strong>D2D1_EXTEND_MODE</strong></a>) and interpolation mode (<a href="/windows/desktop/api/d2d1/ne-d2d1-d2d1_bitmap_interpolation_mode"><strong>D2D1_BITMAP_INTERPOLATION_MODE</strong></a>) of the bitmap brush and then call the <a href="id2d1rendertarget-createbitmapbrush.html"><strong>CreateBitmapBrush</strong></a> method to create a brush, as shown in the following code.</p>
<pre lang="C++"><code>hr = m_pRenderTarget-&gt;CreateBitmapBrush(
    m_pBitmap,
    &amp;m_pBitmapBrush
    );
</code></pre>
</li>
</ol>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="reference.html">Direct2D Reference</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
