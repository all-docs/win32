<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Negotiation of Authentication Level</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Negotiation of Authentication Level
ms.assetid: 31353d02-bfe2-48ac-81a1-0e38895a8a75
title: Negotiation of Authentication Level
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Negotiation of Authentication Level</h1>
<p>Both client and server must participate in authentication, and each party indicates that it wants to perform a certain level of authentication. At the beginning of a call, the authentication level is negotiated between the two parties, an appropriate service is chosen, and the call is authenticated and proceeds (with possible encryption, depending on the authentication level chosen). The authentication level negotiated between client and server is determined as Maximum(<em>Client preference</em>, <em>Server preference</em>). The effect of this means that the server can always dictate a minimum level of authentication that it is comfortable with; that is, authentication can be administratively dictated from the server.</p>
<p>The client specifies that it wants to perform authentication at a certain level as with any COM application. The client authentication level can be indicated as follows:</p>
<ul>
<li>Per client machine, with the machine-wide COM authentication level set by using either <a href="/windows/desktop/com/setting-machine-wide-security-using-dcomcnfg">DCOMCNFG</a> or the Component Services administrative tool.</li>
<li>Per client application administratively, using <a href="/windows/desktop/com/setting-processwide-security-using-dcomcnfg">DCOMCNFG</a> or using the Component Services administrative tool if the client should be a COM+ application.</li>
<li>Per client process programmatically, with <a href="/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity"><strong>CoInitializeSecurity</strong></a>.</li>
<li>At any point programmatically, using <a href="/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket"><strong>CoSetProxyBlanket</strong></a>.</li>
</ul>
<p>The COM+ server application specifies an authentication level administratively by using the Component Services administrative tool (or through an administrative script).</p>
<p>Negotiating authentication for a call proceeds in the following sequence:</p>
<ol>
<li>Authentication level is chosen as MAX(<em>client</em>, <em>server</em>).</li>
<li>Negotiation of authentication protocol.</li>
<li>Server authenticates client identity.</li>
<li>Optionally, client authenticates server identity, depending on the authentication protocol.</li>
<li>Method calls are communicated with the chosen level of authentication.</li>
</ol>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="client-authentication.html">Client Authentication</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
