<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Processing Groups and Callbacks</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Processing Groups and Callbacks
description: The following table summarizes a series of steps in an operational interaction between a routing protocol and the multicast group manager.
ms.assetid: 43c1dc12-70fd-4e02-a7b1-5818e6d7ddc6
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Processing Groups and Callbacks</h1>
<p>The following table summarizes a series of steps in an operational interaction between a routing protocol and the multicast group manager. The first column describes the actions that the routing protocol performs and the routing protocol's responses to the multicast group manager. The second column describes the multicast group manager's responses to the routing protocol and any actions the multicast group manager performs such as callbacks. The third column presents any additional information.</p>
<p>Each row of the table represents one step.</p>
<p>The tasks listed in this table do not occur in any specific order; rather, they occur based on the status of multicast group memberships. The table below shows an example order.</p>
<table>
<thead>
<tr>
<th>Routing protocol action</th>
<th>Multicast group manager action</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Manage group memberships based on protocol information received on those interfaces that the protocol owns. Management is performed using the following functions:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->MgmAddGroupMembershipEntry<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->MgmDeleteGroupMembershipEntry<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Add to and delete from the outgoing interface list for the specified (s, g), (<em>, g), and (</em>, *) entries. This list represents the set of interfaces on which data for this group is forwarded. The data for this group is from the specified source.</td>
<td></td>
</tr>
<tr>
<td>Send alerts to routing protocols in the form of callbacks. The following events trigger the multicast group manager to invoke a callback:<!-- raw HTML omitted --><!-- raw HTML omitted -->Join or leave groups ( <!-- raw HTML omitted --><!-- raw HTML omitted -->PMGM_JOIN_ALERT_CALLBACK<!-- raw HTML omitted --><!-- raw HTML omitted -->, <!-- raw HTML omitted --><!-- raw HTML omitted -->PMGM_PRUNE_ALERT_CALLBACK<!-- raw HTML omitted --><!-- raw HTML omitted -->).<!-- raw HTML omitted --><!-- raw HTML omitted -->Group membership changed by IGMP ( <!-- raw HTML omitted --><!-- raw HTML omitted -->PMGM_LOCAL_JOIN_CALLBACK<!-- raw HTML omitted --><!-- raw HTML omitted -->, <!-- raw HTML omitted --><!-- raw HTML omitted -->PMGM_LOCAL_LEAVE_CALLBACK<!-- raw HTML omitted --><!-- raw HTML omitted -->).<!-- raw HTML omitted --><!-- raw HTML omitted -->Data received on wrong interface ( <!-- raw HTML omitted --><!-- raw HTML omitted -->PMGM_WRONG_IF_CALLBACK<!-- raw HTML omitted --><!-- raw HTML omitted -->).<!-- raw HTML omitted --><!-- raw HTML omitted -->Data received from new sources or to a new group ( <!-- raw HTML omitted --><!-- raw HTML omitted -->PMGM_CREATION_ALERT_CALLBACK<!-- raw HTML omitted --><!-- raw HTML omitted --> and <!-- raw HTML omitted --><!-- raw HTML omitted -->PMGM_RPF_CALLBACK<!-- raw HTML omitted --><!-- raw HTML omitted -->).<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Using these callbacks, the multicast group manager is able to coordinate packet forwarding when several multicast routing protocols are present on a router.</td>
<td></td>
</tr>
<tr>
<td>Enumerate the multicast forwarding entries (MFEs), using the <!-- raw HTML omitted --><!-- raw HTML omitted -->MgmGetFirstMfe<!-- raw HTML omitted --><!-- raw HTML omitted -->, <!-- raw HTML omitted --><!-- raw HTML omitted -->MgmGetNextMfe<!-- raw HTML omitted --><!-- raw HTML omitted -->, and <!-- raw HTML omitted --><!-- raw HTML omitted -->MgmGetMfe<!-- raw HTML omitted --><!-- raw HTML omitted --> functions. Make decisions about multicast data based on the results of the enumeration.</td>
<td>Return the requested MFEs. Return ERROR_NO_MORE ITEMS when there are no more MFEs to return.<!-- raw HTML omitted --></td>
<td>Use the <!-- raw HTML omitted --><!-- raw HTML omitted -->MgmGetFirstMfeStats<!-- raw HTML omitted --><!-- raw HTML omitted -->, <!-- raw HTML omitted --><!-- raw HTML omitted -->MgmGetNextMfeStats<!-- raw HTML omitted --><!-- raw HTML omitted -->, <!-- raw HTML omitted --><!-- raw HTML omitted -->MgmGetMfeStats<!-- raw HTML omitted --><!-- raw HTML omitted --> functions to enumerate MFE statistics. See <!-- raw HTML omitted -->Administrative Application Scenario<!-- raw HTML omitted --> for a complete example of using these functions.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Modify the upstream neighbor in an MFE using the <!-- raw HTML omitted --><!-- raw HTML omitted -->MgmSetMfe<!-- raw HTML omitted --><!-- raw HTML omitted --> function.</td>
<td>Clients use this function to modify the information regarding the incoming interface.</td>
<td></td>
</tr>
</tbody>
</table>
</body>
