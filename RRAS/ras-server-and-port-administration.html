<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>About RAS Server and Port Administration</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: About RAS Server and Port Administration
description: The RAS server administration functions get information about a specified RAS server and its ports. These functions are also used to terminate a connection on a specified RAS server port.
ms.assetid: eedac23e-d716-451e-b08b-594398656bb5
keywords:</p>
<ul>
<li>RAS Administration RRAS , server and port administration
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>About RAS Server and Port Administration</h1>
<p>The RAS server administration functions get information about a specified RAS server and its ports. These functions are also used to terminate a connection on a specified RAS server port.</p>
<p>The <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminservergetinfo"><strong>MprAdminServerGetInfo</strong></a> function returns a <a href="/windows/desktop/api/Mprapi/ns-mprapi-mpr_server_0"><strong>MPR_SERVER_0</strong></a> structure that contains information about the configuration of a RAS server. The returned information includes the number of ports currently available for connections, the number of ports currently in use, and the server version number.</p>
<p>The <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminportenum"><strong>MprAdminPortEnum</strong></a> function retrieves an array of <a href="/windows/desktop/api/Mprapi/ns-mprapi-ras_port_0"><strong>RAS_PORT_0</strong></a> structures. Each structure contains information for one of the ports configured on a RAS server. The information for each port includes:</p>
<ul>
<li>The name of the port</li>
<li>Information about the device attached to the port</li>
<li>Whether the RAS server associated with the port is a WindowsÂ NT/WindowsÂ 2000 Server</li>
<li>Whether the port is currently in use and, if it is, information about the connection</li>
</ul>
<p>To obtain the ports in use by a specific connection, pass <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminportenum"><strong>MprAdminPortEnum</strong></a> a handle to that connection in the <em>hConnection</em> parameter. To obtain a handle to a connection, use the <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionenum"><strong>MprAdminConnectionEnum</strong></a> function. Alternatively, if you have implemented a <a href="ras-administration-dll.html">RAS Administration DLL</a>, the <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection"><strong>MprAdminAcceptNewConnection</strong></a> and <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2"><strong>MprAdminAcceptNewConnection2</strong></a> functions receive a handle to each new connection at the time the connection is established.</p>
<p>You can call the <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminportgetinfo"><strong>MprAdminPortGetInfo</strong></a> function to get additional information about a specified port on a RAS server. This function returns a <a href="/windows/desktop/api/Mprapi/ns-mprapi-ras_port_1"><strong>RAS_PORT_1</strong></a> structure that contains a <a href="/windows/desktop/api/Mprapi/ns-mprapi-ras_port_0"><strong>RAS_PORT_0</strong></a> structure and additional information about the current state of the port. The <a href="rasadminportgetinfo.html"><strong>RasAdminPortGetInfo</strong></a> function also returns an array of <a href="ras-parameters-str.html"><strong>RAS_PARAMETERS</strong></a> structures that describe the values of any media-specific keys associated with the port. A <strong>RAS_PARAMETERS</strong> structure uses a value from the <a href="ras-params-format-str.html"><strong>RAS_PARAMS_FORMAT</strong></a> enumeration to indicate the format of the value for each media-specific key.</p>
<p>The <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminportgetinfo"><strong>MprAdminPortGetInfo</strong></a> function also returns a <a href="ras-port-statistics-str.html"><strong>RAS_PORT_STATISTICS</strong></a> structure that contains various statistic counters for the current connection, if any, on the port. For a port that is part of a multilink connection, <strong>MprAdminPortGetInfo</strong> returns statistics for the individual port and cumulative statistics for all ports involved in the connection. You can use the <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminportclearstats"><strong>MprAdminPortClearStats</strong></a> function to reset the statistic counters for the port. The <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminportdisconnect"><strong>MprAdminPortDisconnect</strong></a> function disconnects a port that is in use.</p>
<p>Use the <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminbufferfree"><strong>MprAdminBufferFree</strong></a> function to free memory allocated by the <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminportenum"><strong>MprAdminPortEnum</strong></a> and <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradminportgetinfo"><strong>MprAdminPortGetInfo</strong></a> functions. Use the <a href="/windows/desktop/api/Mprapi/nf-mprapi-mpradmingeterrorstring"><strong>MprAdminGetErrorString</strong></a> function to get a string that describes a RAS error code returned by one of the RAS server administration (RasAdmin) functions.</p>
<p>Â </p>
<p>Â </p>
</body>
