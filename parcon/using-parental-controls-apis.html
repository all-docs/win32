<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Using Parental Controls APIs</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Using Parental Controls APIs
ms.assetid: 3d0bb750-0882-4b95-a595-38611f161ca9
title: Using Parental Controls APIs
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Using Parental Controls APIs</h1>
<h2>API Selection</h2>
<p>As noted in the overview section, development involves use of up to three APIs:</p>
<ul>
<li>Basic settings access: the Parental Controls minimum compliance COM API (Compliance API) defined in Wpcapi.h for simple access to a key subset of Parental Controls state.</li>
<li>Full settings write/read access: use of a small subset of the WMI COM API for full access is only required if the ISV needs to modify settings. Addition of a UI extensibility link, replacement of the Web Content Filter, or additions to the computer-wide HTTP application or URL filtering exemption lists are the primarily reasons to use the API. As the WMI Parental Controls namespace usage provides raw access to the underlying settings store, ISVs should proceed with caution in interpreting state from individual settings that may in fact have gating dependencies on other settings. It is therefore recommended to use the Compliance API for reading state for all values exposed by that API.</li>
<li>Logging: the WindowsÂ Vista Event Tracing and Reporting system API (also referred to as ETW) for publishing activity events into the Parental Controls logs, in conjunction with event descriptors and array enumerations defined in WpcEvent.h.</li>
</ul>
<p>All of the APIs are callable as a standard user. For logging, any user may source log events. Calling to retrieve or change settings for another user will fail if the caller does not have administrator privileges. In other words, a standard user can access his or her own settings only, and only for reading.</p>
<p>Settings and logging API usage are discussed further in these sections:</p>
<ul>
<li><a href="using-parental-controls-settings-apis.html">Using Parental Controls Settings APIs</a></li>
<li><a href="using-logging-apis-for-parental-controls.html">Using Logging APIs for Parental Controls</a></li>
</ul>
<h2>Development Environment</h2>
<p>Developing for Parental Controls requires access to three header files: Wpc.h, WpcApi.h, and WpcEvent.h. Wpc.h is a collector that includes the settings public compliance API and event headers, so it is sufficient to include Wpc.h in application code.</p>
<p>Read/write permissions to the WMI API is specified by the Wpcsprov.mof file. This file is installed to the WBEM subdirectory under the Windows System32 directory.</p>
<p>The Microsoft Windows Software Development Kit (SDK) contains sample code to reinforce example code shown here and provide simple command-line driven tools for API exploration or integration testing.</p>
<p>Â </p>
<p>Â </p>
</body>
