<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Geometry-Shader Object</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: Geometry-Shader Object
description: A geometry-shader object processes entire primitives. Use the following syntax to declare a geometry-shader object.
ms.assetid: d5c1c22b-6fa6-40a8-900f-6d74f74468c1
keywords:</p>
<ul>
<li>maxvertexcount (DirectX HLSL)
ms.topic: article
ms.date: 05/31/2018
topic_type:</li>
<li>kbArticle
api_name:
api_type:
api_location:</li>
</ul>
<hr />
<h1>Geometry-Shader Object</h1>
<p>A geometry-shader object processes entire primitives. Use the following syntax to declare a geometry-shader object.</p>
<p>[maxvertexcount(<em>NumVerts</em>)] void <em>ShaderName</em> (   <em>PrimitiveType DataType Name [ NumElements ]</em>,   inout <em>StreamOutputObject</em>  );</p>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->[maxvertexcount(<em>NumVerts</em>)]</p>
<!-- raw HTML omitted -->
<p>[in] Declaration for the maximum number of vertices to create.</p>
<ul>
<li>[maxvertexcount()] - required keyword; brackets and parenthesis are required characters for correct syntax.</li>
<li><em>NumVerts</em> - An integer number representing the number of vertices.</li>
</ul>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>ShaderName</em></p>
<!-- raw HTML omitted -->
<p>[in] An ASCII string that contains a unique name for the geometry-shader function.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>PrimitiveType DataType Name [ NumElements ]</em></p>
<!-- raw HTML omitted -->
<p><em>PrimitiveType</em> - Primitive type, which determines the order of the primitive data.</p>
<table>
<thead>
<tr>
<th>Primitive Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>point</em></td>
<td>Point list</td>
</tr>
<tr>
<td><em>line</em></td>
<td>Line list or line strip</td>
</tr>
<tr>
<td><em>triangle</em></td>
<td>Triangle list or triangle strip</td>
</tr>
<tr>
<td><em>lineadj</em></td>
<td>Line list with adjacency or line strip with adjacency</td>
</tr>
<tr>
<td><em>triangleadj</em></td>
<td>Triangle list with adjacency or triangle strip with adjacency</td>
</tr>
</tbody>
</table>
<p><em>DataType</em> - [in] An input data type; can be any <a href="dx-graphics-hlsl-data-types.html">HLSL data type</a>.</p>
<p><em>Name</em> - Argument name; this is an ASCII string.</p>
<p><em>NumElements</em> - Array size of the input, which depends on the <em>PrimitiveType</em> as shown in the following table.</p>
<table>
<thead>
<tr>
<th>Primitive Type</th>
<th>NumElements</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>point</em></td>
<td>[1]<!-- raw HTML omitted --> You operate on only one point at a time.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><em>line</em></td>
<td>[2]<!-- raw HTML omitted --> A line requires two vertices.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><em>triangle</em></td>
<td>[3]<!-- raw HTML omitted --> A triangle requires three vertices.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><em>lineadj</em></td>
<td>[4]<!-- raw HTML omitted --> A lineadj has two ends; therefore, it requires four vertices.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><em>triangleadj</em></td>
<td>[6]<!-- raw HTML omitted --> A triangleadj borders three more triangles; therefore, it requires six vertices.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>StreamOutputObject</em></p>
<!-- raw HTML omitted -->
<p>The declaration of the <a href="dx-graphics-hlsl-so-type.html">stream-output object</a>.</p>
<!-- raw HTML omitted -->
<h2>Return Value</h2>
<p>None</p>
<h2>Remarks</h2>
<p>The following diagram shows the various primitive types for a geometry shader object.</p>
<p><img src="images/d3d11-gsinputs1.png" alt="illustration of the various primitive types for a geometry shader object" /></p>
<p>The following diagram shows geometry shader invocations.</p>
<p><img src="images/d3d11-gsinputs2.png" alt="illustration of geometry shader invocations" /></p>
<h2>Examples</h2>
<p>This example is from exercise 1 from the <a href="https://msdn.microsoft.com/library/Ee416554(v=VS.85).aspx">Direct3D 10 Shader Model 4.0 Workshop</a>.</p>
<pre><code>[maxvertexcount(3)]
void GSScene( triangleadj GSSceneIn input[6], inout TriangleStream&lt;PSSceneIn&gt; OutputStream )
{   
    PSSceneIn output = (PSSceneIn)0;

    for( uint i=0; i&lt;6; i+=2 )
    {
        output.Pos = input[i].Pos;
        output.Norm = input[i].Norm;
        output.Tex = input[i].Tex;
        
        OutputStream.Append( output );
    }
    
    OutputStream.RestartStrip();
}
</code></pre>
<h2>Minimum Shader Model</h2>
<p>This object is supported in the following shader models.</p>
<table>
<thead>
<tr>
<th>Shader Model</th>
<th>Supported</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="dx-graphics-hlsl-sm4.html">Shader Model 4</a> and higher shader models</td>
<td>yes</td>
</tr>
</tbody>
</table>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="dx-graphics-hlsl-sm4.html">Shader Model 4</a></p>
<!-- raw HTML omitted -->
</body>
