<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>texkill - ps</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: texkill - ps
description: Cancels rendering of the current pixel if any of the first three components (UVW) of the texture coordinates is less than zero.
ms.assetid: 7641aef8-8931-4a19-827a-75ab17e901ac
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>apiref
api_name:
api_type:
api_location:</li>
</ul>
<hr />
<h1>texkill - ps</h1>
<p>Cancels rendering of the current pixel if any of the first three components (UVW) of the texture coordinates is less than zero.</p>
<h2>Syntax</h2>
<table>
<thead>
<tr>
<th>texkill dst</th>
</tr>
</thead>
</table>
<p>Â </p>
<p>where</p>
<ul>
<li>dst is a destination register</li>
</ul>
<h2>Remarks</h2>
<table>
<thead>
<tr>
<th>Pixel shader versions</th>
<th>1_1</th>
<th>1_2</th>
<th>1_3</th>
<th>1_4</th>
<th>2_0</th>
<th>2_x</th>
<th>2_sw</th>
<th>3_0</th>
<th>3_sw</th>
</tr>
</thead>
<tbody>
<tr>
<td>texkill</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>This instruction corresponds to the HLSL's <a href="dx-graphics-hlsl-clip.html"><strong>clip</strong></a> function.</p>
<p>texkill does not sample any texture. It operates on the first three components of the texture coordinates given by the destination register number. For ps_1_4, texkill operates on the data in the first three components of the destination register.</p>
<p>You can use this instruction to implement arbitrary clip planes in the rasterizer.</p>
<p>When using vertex shaders, the application is responsible for applying the perspective transform. This can cause problems for the arbitrary clipping planes because if it contains anisomorphic scale factors, the clip planes need to be transformed as well. Therefore, it is best to provide an unprojected vertex position to use in the arbitrary clipper, which is the texture coordinate set identified by the texkill operator.</p>
<p>This instruction is used as follows:</p>
<!-- raw HTML omitted -->
<p>For pixel shader 1_1, 1_2, and 1_3, texkill operates on the texture coordinate set given by the destination register number. In version 1_4, however, texkill operates on the data contained in the <a href="dx9-graphics-reference-asm-ps-registers-texture-coordinate.html">Texture Coordinate Register</a> (tn) or in the temporary register (rn) that has been specified as the destination.</p>
<p>When multisampling is enabled, any antialiasing effect achieved on polygon edges due to multisampling will not be achieved along any edge that has been generated by texkill. The pixel shader runs once per pixel.</p>
<p>This example is for illustration only.</p>
<p>This example masks out pixels that have negative texture coordinates. The pixel colors are interpolated from vertex colors provided in the vertex data.</p>
<pre><code>ps_1_1       // Version instruction
texkill t0   // Mask out pixel using texture coordinates from stage 0
mov r0, v0   // Move the diffuse color in v0 to r0

// The rendered output from the pixel shader is shown below
</code></pre>
<p>The texture coordinates range from -0.5 to 0.5 in u, and 0.0 to 1.0 in v. This instruction causes the negative u values to get masked out. The first illustration below shows the vertex color applied to the quad without the texkill instruction applied. The second illustration below shows the result of the texkill instruction. The pixel colors from the texture coordinates below 0 (where x goes from -0.5 to 0.0) are masked out. The background color (white) is used where the pixel color is masked.</p>
<p><img src="images/pstexkill-in.jpg" alt="illustration of the output with the vertex color applied to the quad without the texkill instruction" /><img src="images/pstexkill-out.jpg" alt="illustration of the output with the texkill instruction applied" /></p>
<p>The texture coordinate data is declared in the vertex data declaration in this example.</p>
<pre><code>   
struct CUSTOMVERTEX
{
    FLOAT x, y, z;
    DWORD color;
    FLOAT tu1, tv1;
};

#define D3DFVF_CUSTOMVERTEX (D3DFVF_XYZ|D3DFVF_DIFFUSE|D3DFVF_TEX1|D3DTEXCOORD2(0))

static CUSTOMVERTEX g_Vertices[]=
{
    //  x      y     z    color         u1,    v1  
    { -1.0f, -1.0f, 0.0f, 0xffff0000, -0.5f,  1.0f, },
    {  1.0f, -1.0f, 0.0f, 0xff00ff00,  0.5f,  1.0f, },
    {  1.0f,  1.0f, 0.0f, 0xff0000ff,  0.5f,  0.0f, },
    { -1.0f,  1.0f, 0.0f, 0xffffffff, -0.5f,  0.0f, },

};
</code></pre>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="dx9-graphics-reference-asm-ps-instructions.html">Pixel Shader Instructions</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
