<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>numthreads</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: numthreads
description: Defines the number of threads to be executed in a single thread group when a compute shader is dispatched (see ID3D11DeviceContext Dispatch).
ms.assetid: ec6b751c-d81c-4221-ae80-166d2a3707fe
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>apiref
api_name:
api_type:
api_location:</li>
</ul>
<hr />
<h1>numthreads</h1>
<p>Defines the number of threads to be executed in a single thread group when a compute shader is dispatched (see <a href="/windows/desktop/api/d3d11/nf-d3d11-id3d11devicecontext-dispatch"><strong>ID3D11DeviceContext::Dispatch</strong></a>).</p>
<pre><code>numthreads(X, Y, Z)    
</code></pre>
<p>The X, Y and Z values indicate the size of the thread group in a particular direction and the total of X*Y*Z gives the number of threads in the group. The ability to specify the size of the thread group across three dimensions allows individual threads to be accessed in a manner that logically 2D and 3D data structures.</p>
<p>For example, if a compute shader is doing 4x4 matrix addition then numthreads could be set to numthreads(4,4,1) and the indexing in the individual threads would automatically match the matrix entries. The compute shader could also declare a thread group with the same number of threads (16) using numthreads(16,1,1), however it would then have to calculate the current matrix entry based on the current thread number.</p>
<p>The allowable parameter values for <strong>numthreads</strong> depends on the compute shader version.</p>
<table>
<thead>
<tr>
<th>Compute Shader</th>
<th>Maximum Z</th>
<th>Maximum Threads (X*Y*Z)</th>
</tr>
</thead>
<tbody>
<tr>
<td>cs_4_x</td>
<td>1</td>
<td>768</td>
</tr>
<tr>
<td>cs_5_0</td>
<td>64</td>
<td>1024</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The following illustration shows the relationship between the parameters passed to <a href="/windows/desktop/api/d3d11/nf-d3d11-id3d11devicecontext-dispatch"><strong>ID3D11DeviceContext::Dispatch</strong></a>, Dispatch(5,3,2), the values specified in the numthreads attribute, numthreads(10,8,3), and values that will passed to the compute shader for the thread related system values (<a href="sv-groupindex.html">SV_GroupIndex</a>,<a href="sv-dispatchthreadid.html">SV_DispatchThreadID</a>,<a href="sv-groupthreadid.html">SV_GroupThreadID</a>,<a href="sv-groupid.html">SV_GroupID</a>).</p>
<p><img src="images/threadgroupids.png" alt="illustration of the relationship between dispatch, thread groups, and threads" /></p>
<p>This attribute is supported in the following types of shaders:</p>
<table>
<thead>
<tr>
<th>Vertex</th>
<th>Hull</th>
<th>Domain</th>
<th>Geometry</th>
<th>Pixel</th>
<th>Compute</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>x</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="d3d11-graphics-reference-sm5-attributes.html">Shader Model 5 Attributes</a></p>
<!-- raw HTML omitted -->
<p><a href="d3d11-graphics-reference-sm5.html">Shader Model 5</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
