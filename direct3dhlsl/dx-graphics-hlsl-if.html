<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>if Statement</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: if Statement
description: Conditionally execute a series of statements, based on the evaluation of the conditional expression.
ms.assetid: ed4e347b-b5ee-40bc-a3f8-36e83ccf45b8
keywords:</p>
<ul>
<li>if Statement HLSL
topic_type:</li>
<li>apiref
api_name:</li>
<li>if Statement
api_type:</li>
<li>NA
ms.topic: reference
ms.date: 05/31/2018
api_location:</li>
</ul>
<hr />
<h1>if Statement</h1>
<p>Conditionally execute a series of statements, based on the evaluation of the conditional expression.</p>
<p>[<em>Attribute</em>] if ( <em>Conditional</em> ) {   <em>Statement Block</em>; }</p>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>Attribute</em></p>
<!-- raw HTML omitted -->
<p>An optional parameter that controls how the statement is compiled.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>branch</td>
<td>Evaluate only one side of the if statement depending on the given condition. <strong>Note:</strong> When you use <a href="dx-graphics-hlsl-sm2.html">Shader Model 2.x</a> or <a href="dx-graphics-hlsl-sm3.html">Shader Model 3.0</a>, each time you use dynamic branching you consume resources. So, if you use dynamic branching excessively when you target these profiles, you can receive compilation errors.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>flatten</td>
<td>Evaluate both sides of the if statement and choose between the two resulting values.</td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>Conditional</em></p>
<!-- raw HTML omitted -->
<p>A conditional <a href="dx-graphics-hlsl-expressions.html">expression</a>. The expression is evaluated, and if true, the statement block is executed.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>Statement Block</em></p>
<!-- raw HTML omitted -->
<p>One or more <a href="dx-graphics-hlsl-statement-blocks.html">HLSL statements</a>.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>When the compiler uses the branch method for compiling an if statement it will generate code that will evaluate only one side of the if statement depending on the given condition. For example, in the if statement:</p>
<pre><code>[branch] if(x)
{
    x = sqrt(x);
}
</code></pre>
<p>The <strong>if</strong> statement has an implicit else block, which is equivalent to x = x. Because we have told the compiler to use the branch method with the preceding branch attribute, the compiled code will evaluate x and execute only the side that should be executed; if x is zero, then it will execute the <strong>else</strong> side, and if it is non-zero it will execute the <strong>then</strong> side.</p>
<p>Conversely, if the <strong>flatten</strong> attribute is used, then the compiled code will evaluate both sides of the <strong>if</strong> statement and choose between the two resulting values using the original value of x. Here is an example of a usage of the flatten attribute:</p>
<pre><code>[flatten] if(x)
{
    x = sqrt(x);
}
</code></pre>
<p>There are certain cases where using the branch or flatten attributes may generate a compile error. The branch attribute may fail if either side of the if statement contains a gradient function, such as <a href="dx-graphics-hlsl-tex2d.html"><strong>tex2D</strong></a>. The flatten attribute may fail if either side of the if statement contains a stream append statement or any other statement that has side-effects.</p>
<p>An <strong>if</strong> statement can also use an optional else block. If the <strong>if</strong> expression is true, the code in the statement block associated with the if statement is processed. Otherwise, the statement block associated with the optional else block is processed.</p>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dx-graphics-hlsl-flow-control.html">Flow Control</a></p>
<!-- raw HTML omitted -->
</body>
