<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WM_SYSCOMMAND message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: WM_SYSCOMMAND message (Winuser.h)
description: A window receives this message when the user chooses a command from the Window menu (formerly known as the system or control menu) or when the user chooses the maximize button, minimize button, restore button, or close button.
ms.assetid: 82c7cc95-82d5-4f0f-8c78-ab325561b04e
keywords:</p>
<ul>
<li>WM_SYSCOMMAND message Menus and Other Resources
topic_type:</li>
<li>apiref
api_name:</li>
<li>WM_SYSCOMMAND
api_location:</li>
<li>Winuser.h
api_type:</li>
<li>HeaderDef
ms.topic: reference
ms.custom: snippet-project
ms.date: 07/27/2020</li>
</ul>
<hr />
<h1>WM_SYSCOMMAND message</h1>
<p>A window receives this message when the user chooses a command from the <strong>Window</strong> menu (formerly known as the system or control menu) or when the user chooses the maximize button, minimize button, restore button, or close button.</p>
<pre lang="C++"><code>#define WM_SYSCOMMAND                   0x0112
</code></pre>
<h2>Example</h2>
<pre lang="cpp"><code> case WM_SYSCOMMAND:
        if ((wParam &amp; 0xFFF0) == SC_CLOSE)
        {
            EndDialog (hDlg, TRUE);
            return(TRUE);
        }
        break;

</code></pre>
<p>Example from <a href="https://github.com/microsoft/Windows-classic-samples/blob/1d363ff4bd17d8e20415b92e2ee989d615cc0d91/Samples/Win7Samples/winbase/registry/RegExplorer.c">Windows Classic Samples</a> on GitHub.</p>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>wParam</em></p>
<!-- raw HTML omitted -->
<p>The type of system command requested. This parameter can be one of the following values.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_CLOSE<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF060<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Closes the window.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_CONTEXTHELP<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF180<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Changes the cursor to a question mark with a pointer. If the user then clicks a control in the dialog box, the control receives a <!-- raw HTML omitted --><!-- raw HTML omitted -->WM_HELP<!-- raw HTML omitted --><!-- raw HTML omitted --> message.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_DEFAULT<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF160<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Selects the default item; the user double-clicked the window menu.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_HOTKEY<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF150<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Activates the window associated with the application-specified hot key. The <!-- raw HTML omitted -->lParam<!-- raw HTML omitted --> parameter identifies the window to activate.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_HSCROLL<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF080<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Scrolls horizontally.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SCF_ISSECURE<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0x00000001<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Indicates whether the screen saver is secure. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_KEYMENU<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF100<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Retrieves the window menu as a result of a keystroke. For more information, see the Remarks section.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_MAXIMIZE<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF030<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Maximizes the window.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_MINIMIZE<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF020<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Minimizes the window.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_MONITORPOWER<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF170<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Sets the state of the display. This command supports devices that have power-saving features, such as a battery-powered personal computer. <!-- raw HTML omitted --> The <!-- raw HTML omitted -->lParam<!-- raw HTML omitted --> parameter can have the following values:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->-1 (the display is powering on)<!-- raw HTML omitted --><!-- raw HTML omitted -->1 (the display is going to low power)<!-- raw HTML omitted --><!-- raw HTML omitted -->2 (the display is being shut off)<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_MOUSEMENU<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF090<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Retrieves the window menu as a result of a mouse click.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_MOVE<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF010<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Moves the window.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_NEXTWINDOW<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF040<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Moves to the next window.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_PREVWINDOW<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF050<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Moves to the previous window.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_RESTORE<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF120<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Restores the window to its normal position and size.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_SCREENSAVE<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF140<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Executes the screen saver application specified in the [boot] section of the System.ini file.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_SIZE<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF000<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Sizes the window.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_TASKLIST<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF130<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Activates the <!-- raw HTML omitted -->Start<!-- raw HTML omitted --> menu.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SC_VSCROLL<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->0xF070<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>Scrolls vertically.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><em>lParam</em></p>
<!-- raw HTML omitted -->
<p>The low-order word specifies the horizontal position of the cursor, in screen coordinates, if a window menu command is chosen with the mouse. Otherwise, this parameter is not used.</p>
<p>The high-order word specifies the vertical position of the cursor, in screen coordinates, if a window menu command is chosen with the mouse. This parameter is  1 if the command is chosen using a system accelerator, or zero if using a mnemonic.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>An application should return zero if it processes this message.</p>
<h2>Remarks</h2>
<p>To obtain the position coordinates in screen coordinates, use the following code:</p>
<pre><code>xPos = GET_X_LPARAM(lParam);    // horizontal position 
yPos = GET_Y_LPARAM(lParam);    // vertical position
</code></pre>
<p>The <a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a> function carries out the window menu request for the predefined actions specified in the previous table.</p>
<p>In <strong>WM_SYSCOMMAND</strong> messages, the four low-order bits of the <em>wParam</em> parameter are used internally by the system. To obtain the correct result when testing the value of <em>wParam</em>, an application must combine the value 0xFFF0 with the <em>wParam</em> value by using the bitwise AND operator.</p>
<p>The menu items in a window menu can be modified by using the <a href="/windows/desktop/api/Winuser/nf-winuser-getsystemmenu"><strong>GetSystemMenu</strong></a>, <a href="/windows/desktop/api/Winuser/nf-winuser-appendmenua"><strong>AppendMenu</strong></a>, <a href="/windows/desktop/api/Winuser/nf-winuser-insertmenua"><strong>InsertMenu</strong></a>, <a href="/windows/desktop/api/Winuser/nf-winuser-modifymenua"><strong>ModifyMenu</strong></a>, <a href="/windows/desktop/api/Winuser/nf-winuser-insertmenuitema"><strong>InsertMenuItem</strong></a>, and <a href="/windows/desktop/api/Winuser/nf-winuser-setmenuiteminfoa"><strong>SetMenuItemInfo</strong></a> functions. Applications that modify the window menu must process <strong>WM_SYSCOMMAND</strong> messages.</p>
<p>An application can carry out any system command at any time by passing a <strong>WM_SYSCOMMAND</strong> message to <a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a>. Any <strong>WM_SYSCOMMAND</strong> messages not handled by the application must be passed to <strong>DefWindowProc</strong>. Any command values added by an application must be processed by the application and cannot be passed to <strong>DefWindowProc</strong>.</p>
<p>If password protection is enabled by policy, the screen saver is started regardless of what an application does with the <strong>SC_SCREENSAVE</strong> notification even if fails to pass it to <a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a>.</p>
<p>Accelerator keys that are defined to choose items from the window menu are translated into <strong>WM_SYSCOMMAND</strong> messages; all other accelerator keystrokes are translated into <a href="wm-command.html"><strong>WM_COMMAND</strong></a> messages.</p>
<p>If the <em>wParam</em> is <strong>SC_KEYMENU</strong>, <em>lParam</em> contains the character code of the key that is used with the ALT key to display the popup menu. For example, pressing ALT+F to display the File popup will cause a <strong>WM_SYSCOMMAND</strong> with <em>wParam</em> equal to <strong>SC_KEYMENU</strong> and <em>lParam</em> equal to 'f'.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 2000 Professional [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows 2000 Server [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Winuser.h (include Windows.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><strong>Reference</strong></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Winuser/nf-winuser-appendmenua"><strong>AppendMenu</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/winuser/nf-winuser-defwindowproca"><strong>DefWindowProc</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/windowsx/nf-windowsx-get_x_lparam"><strong>GET_X_LPARAM</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/windowsx/nf-windowsx-get_y_lparam"><strong>GET_Y_LPARAM</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Winuser/nf-winuser-getsystemmenu"><strong>GetSystemMenu</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Winuser/nf-winuser-insertmenua"><strong>InsertMenu</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Winuser/nf-winuser-modifymenua"><strong>ModifyMenu</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="wm-command.html"><strong>WM_COMMAND</strong></a></p>
<!-- raw HTML omitted -->
<p><strong>Conceptual</strong></p>
<!-- raw HTML omitted -->
<p><a href="keyboard-accelerators.html">Keyboard Accelerators</a></p>
<!-- raw HTML omitted -->
</body>
