<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>MrmIndexFile function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: MrmIndexFile function (MrmResourceIndexer.h)
description: Adds a file resource to a Resource Indexer.
ms.assetid: C9F245B4-D2D3-4863-BB64-72619FC73D3C
keywords:</p>
<ul>
<li>MrmIndexFile function Menus and Other Resources
topic_type:</li>
<li>apiref
api_name:</li>
<li>MrmIndexFile
api_location:</li>
<li>Mrmsupport.dll
api_type:</li>
<li>DllExport
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>MrmIndexFile function</h1>
<p>Adds a file resource to a Resource Indexer. Note that it is the resource name that is indexed, not the file.
In other words, this function does not search the filename (or file contents) looking for things to index.</p>
<p>See <a href="mrmfiles.html">File resources in MRM</a> for more info.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT HRESULT MrmIndexFile(
  _In_     MrmResourceIndexerHandle indexer,
  _In_     PCWSTR                   resourceUri,
  _In_     PCWSTR                   filePath,
  _In_opt_ PCWSTR                   qualifiers
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>indexer</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="mrmresourceindexerhandle.html"><strong>MrmResourceIndexerHandle</strong></a></strong></p>
<p>A handle identifying the resource indexer to add the resource to. This handle is returned via a call to
<a href="mrmcreateresourceindexer.html"><strong>MrmCreateResourceIndexer</strong></a> or one of the related <strong>MrmCreateResourceIndexer...</strong>* functions.</p>
<!-- raw HTML omitted -->
<p><em>resourceUri</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>PCWSTR</strong></p>
<p>The URI (name) to assign to the resource. By convention, file resources are added to the <code>files/</code> path (for example,
<code>ms-resource:///files/logo.png</code>). See <a href="mrmresourcenames.html">Resource names in MRM</a> for more info.</p>
<!-- raw HTML omitted -->
<p><em>filePath</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>PCWSTR</strong></p>
<p>The file path to be added to the index. Typically, this should be a relative path to a file as it will exist
after your app is intalled.</p>
<!-- raw HTML omitted -->
<p><em>qualifiers</em> [in, optional]</p>
<!-- raw HTML omitted -->
<p>Type: <strong>PCWSTR</strong></p>
<p>An optional list of resource qualifiers for the resource, for example &quot;language-en-US&quot;. Passing an empty
string or <strong>NULL</strong> indicates a neutral resource that is applicable in any resource context. See
<a href="mrmqualifiers.html">Qualifiers in MRM</a> for more info.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong>HRESULT</strong></p>
<p>S_OK if the function succeeded, otherwise some other value. Use the <strong>SUCCEEDED</strong> or <strong>FAILED</strong> macros
(defined in winerror.h) to determine success or failure.</p>
<h2>Remarks</h2>
<p>The provided <em>filePath</em> is added directly to the indexer without any parsing. The file does not need to exist,
and no checks are performed to see if it contains illegal path characters. The <em>resourceUri</em> is entirely unrelated
to the file path, for example a file may have a <em>resourceUri</em> of <code>/files/logo.png</code> but a <em>filePath</em> of
&quot;Assets\Logos\2x\logo.png&quot;. Since the <em>filePath</em> is just a string, it can also contain absolute paths or
parent-paths (those including &quot;..&quot;) although such files may not exist at runtime.</p>
<p>Note that files added with <strong>MrmIndexFile</strong> do not get qualifiers automatically added based on the filename - any
qualifiers must be explicitly added with the <em>qualifers</em> parameter. To automatically deduce qualifiers based
on the filename (as is performed by Visual Studio and the <strong>MakePri</strong> tool), use
<a href="mrmindexfileautoqualifiers.html"><strong>MrmIndexFileAutoQualifiers</strong></a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 10, version 1803 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->MrmResourceIndexer.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Mrmsupport.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Mrmsupport.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="mrmindexembeddeddata.html"><strong>MrmIndexEmbeddedData</strong></a></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><a href="mrmindexfileautoqualifiers.html"><strong>MrmIndexFileAutoQualifiers</strong></a></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><a href="mrmindexresourcecontainerautoqualifiers.html"><strong>MrmIndexResourceContainerAutoQualifiers</strong></a></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><a href="mrmindexstring.html"><strong>MrmIndexString</strong></a></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><a href="mrmfiles.html">File resources in MRM</a></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><a href="/windows/uwp/app-resources/pri-apis-custom-build-systems">Package resource indexing (PRI) APIs and custom build systems</a></p>
<!-- raw HTML omitted -->
</body>
