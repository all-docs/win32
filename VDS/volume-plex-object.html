<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Volume Plex Object</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Volume Plex Object
ms.assetid: 9e770bfc-2bcb-45f0-a7fc-ba526349839e
title: Volume Plex Object
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Volume Plex Object</h1>
<p>[Beginning with WindowsÂ 8 and Windows ServerÂ 2012, the <a href="virtual-disk-service-portal.html">Virtual Disk Service</a> COM interface is superseded by the <a href="/windows-hardware/drivers/storage/windows-storage-management-api-portal">Windows Storage Management API</a>.]</p>
<p>A volume plex object models a volume plex that is contained by a volume. Only a mirrored volume can have multiple plexes; all other volume types have one plex. Each plex contains a copy of the data on the volume. VDS supports four volume plex types: simple, spanned, striped, and striped with parity. For a description of each of these volume types, see the <a href="volume-object.html">Volume Object</a>.</p>
<p>There are two ways to create a volume with multiple plexes. You can use the <a href="/windows/desktop/api/Vds/nf-vds-ivdspack-createvolume"><strong>IVdsPack::CreateVolume</strong></a> method to create the mirrored volume directly, or use the <a href="/windows/desktop/api/Vds/nf-vds-ivdsvolume-addplex"><strong>IVdsVolume::AddPlex</strong></a> method to add one volume to another volume. The volumes (and the underlying disks) must be in the same pack. The following illustration shows an example of adding one volume (B) as a plex to another volume (A), and the resulting multiplexed volume (A). The data on volume A remains intact, while the data on volume B becomes a mirrored copy of the data on volume A.</p>
<p><img src="images/vdsplex.png" alt="Diagram that shows two single plexes, one with simple volume A and one with simple volume B, equal to multiple plexes with mirrored volume A." /></p>
<p>You can query for volume plexes by invoking the <a href="/windows/desktop/api/Vds/nf-vds-ivdsvolume-queryplexes"><strong>IVdsVolume::QueryPlexes</strong></a> method. You can get a pointer to a specific volume plex by selecting the desired plex object from the enumeration that is returned by <strong>QueryPlexes</strong>. With the exception of the last plex, existing plexes can be broken or removed. Use the <a href="/windows/desktop/api/Vds/nf-vds-ivdsvolume-breakplex"><strong>IVdsVolume::BreakPlex</strong></a> to split a plex from a volume and convert the broken plex object into a volume object. Use the <a href="/windows/desktop/api/Vds/nf-vds-ivdsvolume-removeplex"><strong>IVdsVolume::RemovePlex</strong></a> to delete the plex altogether. You can attempt to repair a fault-tolerant plex by calling the <a href="/windows/desktop/api/Vds/nf-vds-ivdsvolumeplex-repair"><strong>IVdsVolumePlex::Repair</strong></a> method, which moves bad members to good disks.</p>
<p>In addition to an object identifier and plex type, volume plex object properties include the status, health, and transition state of the plex. This object has no flags.</p>
<p>The following table lists related interfaces, enumerations, and structures.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Element</th>
</tr>
</thead>
<tbody>
<tr>
<td>Interfaces that are always exposed by this object</td>
<td><a href="/windows/desktop/api/Vds/nn-vds-ivdsvolumeplex"><strong>IVdsVolumePlex</strong></a>.</td>
</tr>
<tr>
<td>Associated enumerations</td>
<td><a href="/windows/desktop/api/Vds/ne-vds-vds_volume_plex_status"><strong>VDS_VOLUME_PLEX_STATUS</strong></a>, <a href="/windows/desktop/api/Vds/ne-vds-vds_volume_plex_type"><strong>VDS_VOLUME_PLEX_TYPE</strong></a>, and <a href="/windows/desktop/api/Vds/ne-vds-vds_disk_extent_type"><strong>VDS_DISK_EXTENT_TYPE</strong></a>.</td>
</tr>
<tr>
<td>Associated structures</td>
<td><a href="/windows/desktop/api/Vds/ns-vds-vds_volume_plex_prop"><strong>VDS_VOLUME_PLEX_PROP</strong></a>.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="software-provider-objects.html">Software Provider Objects</a></p>
<!-- raw HTML omitted -->
<p><a href="volume-object.html">Volume Object</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
