<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Reenumerating and Refreshing</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Reenumerating and Refreshing
ms.assetid: 67d34946-47df-43e2-8ca7-628d0671b869
title: Reenumerating and Refreshing
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Reenumerating and Refreshing</h1>
<p>[Beginning with WindowsÂ 8 and Windows ServerÂ 2012, the <a href="virtual-disk-service-portal.html">Virtual Disk Service</a> COM interface is superseded by the <a href="/windows-hardware/drivers/storage/windows-storage-management-api-portal">Windows Storage Management API</a>.]</p>
<p>The reenumeration operation discovers newly connected and newly disconnected devices. The refresh operation updates the configuration information of existing devices.</p>
<p><strong>To reenumerate software provider objects</strong></p>
<ul>
<li>Call the <a href="/windows/desktop/api/Vds/nf-vds-ivdsservice-reenumerate"><strong>IVdsService::Reenumerate</strong></a> method. This method discovers all newly connected and disconnected disks and CD-ROM drives, and ensures that all disks have the proper owner. VDS owns raw disks or disks with failures; the basic provider owns basic disks; and the dynamic provider owns dynamic disks. This operation can involve scanning internal subsystem buses and waiting for time-outs.</li>
</ul>
<p><strong>To reenumerate and refresh software provider objects</strong></p>
<ul>
<li>Call the <a href="/windows/desktop/api/Vds/nf-vds-ivdsservice-reenumerate"><strong>IVdsService::Reenumerate</strong></a> method and then call the <a href="/windows/desktop/api/Vds/nf-vds-ivdsservice-refresh"><strong>IVdsService::Refresh</strong></a> method. In addition to discovering newly connected and disconnected disks and CD-ROM drives, this combination of methods updates all disk, volume, and plex information in the VDS cache for disks that have not been recently connected or disconnected. Call <strong>Refresh</strong> alone to refresh the property information of existing objects in the cache. This operation can involve scanning internal subsystem buses and waiting for time-outs. Note that VDS updates the cache automatically whenever a change occurs that triggers a notification. Also, calling <strong>Refresh</strong> in response to a VDS notification could cause an endless loop of notifications to be sent. For these reasons, <strong>Refresh</strong> should be called only when it appears that the cache is not being updated properly.</li>
</ul>
<p><strong>To reenumerate hardware subsystems</strong></p>
<ul>
<li>Call the <a href="/windows/desktop/api/Vds/nf-vds-ivdshwprovider-reenumerate"><strong>IVdsHwProvider::Reenumerate</strong></a> method. Depending on the provider, this operation can involve sending network packets and waiting for time-outs, rescanning SCSI buses and waiting for time-outs, and so on.</li>
</ul>
<p><strong>To reenumerate hardware subsystem objects</strong></p>
<ul>
<li>Call the <a href="/windows/desktop/api/Vds/nf-vds-ivdssubsystem-reenumerate"><strong>IVdsSubSystem::Reenumerate</strong></a> method to inventory the objects (typically drives) in the subsystem. Depending on the subsystem, this operation can involve scanning internal subsystem buses and waiting for time-outs.</li>
</ul>
<p><strong>To refresh hardware subsystems and subsystem objects</strong></p>
<ul>
<li>Call the <a href="/windows/desktop/api/Vds/nf-vds-ivdshwprovider-refresh"><strong>IVdsHwProvider::Refresh</strong></a> method to refresh the VDS cache of information about existing subsystems that are managed by VDS hardware providers. Note that VDS updates the cache automatically whenever a change occurs that triggers a notification. Also, calling <a href="/windows/desktop/api/Vds/nf-vds-ivdsservice-refresh"><strong>Refresh</strong></a> in response to a VDS notification could cause an endless loop of notifications to be sent. For these reasons, <strong>Refresh</strong> should be called only when it appears that the cache is not being updated properly.</li>
</ul>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="using-vds.html">Using VDS</a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Vds/nf-vds-ivdsservice-reenumerate"><strong>IVdsService::Reenumerate</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Vds/nf-vds-ivdsservice-refresh"><strong>IVdsService::Refresh</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Vds/nf-vds-ivdshwprovider-reenumerate"><strong>IVdsHwProvider::Reenumerate</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Vds/nf-vds-ivdssubsystem-reenumerate"><strong>IVdsSubSystem::Reenumerate</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Vds/nf-vds-ivdshwprovider-refresh"><strong>IVdsHwProvider::Refresh</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
