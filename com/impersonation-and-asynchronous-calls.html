<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Impersonation and Asynchronous Calls</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Impersonation and Asynchronous Calls
description: Impersonation and Asynchronous Calls
ms.assetid: 7eaa0a66-7a80-4831-b0b6-b8eff4abd036
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Impersonation and Asynchronous Calls</h1>
<p>The server cannot impersonate the client after the server's call to <a href="/windows/win32/api/objidlbase/nf-objidlbase-isynchronize-signal"><strong>ISynchronize::Signal</strong></a> completes, even if the Begin_ method has not yet completed. For example, suppose a client calls the Begin_ method, the server processes the call immediately, and the server calls <strong>Signal</strong> to indicate it is finished processing. Even if work remains to be done in the Begin_ method, the server cannot impersonate the client after the call to <strong>Signal</strong> completes.</p>
<p>If the server impersonates the client before it calls <a href="/windows/win32/api/objidlbase/nf-objidlbase-isynchronize-signal"><strong>Signal</strong></a>, the impersonation token will not be removed from the thread until the server calls <a href="/windows/win32/api/objidlbase/nf-objidlbase-iserversecurity-reverttoself"><strong>IServerSecurity::RevertToSelf</strong></a> or until the server's call to Begin_ returns, whichever comes first.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="delegation-and-impersonation.html">Delegation and Impersonation</a></p>
<!-- raw HTML omitted -->
<p><a href="making-an-asynchronous-call.html">Making an Asynchronous Call</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
