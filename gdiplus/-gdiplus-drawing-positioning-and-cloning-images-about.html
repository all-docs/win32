<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Drawing, Positioning, and Cloning Images</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: You can use the Image class to load and display raster images (bitmaps) and vector images (metafiles).
ms.assetid: 0ad2a132-6db6-4099-81a2-10e1cd1b1f61
title: Drawing, Positioning, and Cloning Images
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Drawing, Positioning, and Cloning Images</h1>
<p>You can use the <a href="/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-image"><strong>Image</strong></a> class to load and display raster images (bitmaps) and vector images (metafiles). To display an image, you need a <a href="/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics"><strong>Graphics</strong></a> object and an <strong>Image</strong> object. The <strong>Graphics</strong> object provides the <a href="/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawimage(inimage_inint_inint)"><strong>Graphics::DrawImage</strong></a> method, which receives the address of the <strong>Image</strong> object as an argument.</p>
<p>The following example constructs an <a href="/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-image"><strong>Image</strong></a> object from the file Climber.jpg and then displays the image. The destination point for the upper-left corner of the image, (10, 10), is specified in the second and third parameters of the <a href="/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawimage(inimage_inint_inint)"><strong>Graphics::DrawImage</strong></a> method.</p>
<pre><code>Image myImage(L&quot;Climber.jpg&quot;);
myGraphics.DrawImage(&amp;myImage, 10, 10);
</code></pre>
<p>The preceding code, along with a particular file, Climber.jpg, produced the following output.</p>
<p><img src="images/aboutgdip03-art04.png" alt="screen shot of a window containing a photo" /></p>
<p>You can construct <a href="/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-image"><strong>Image</strong></a> objects from a variety of graphics file formats: BMP, GIF, JPEG, Exif, PNG, TIFF, WMF, EMF, and ICON.</p>
<p>The following example constructs <a href="/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-image"><strong>Image</strong></a> objects from a variety of file types and then displays the images.</p>
<pre><code>Image myBMP(L&quot;SpaceCadet.bmp&quot;);
Image myEMF(L&quot;Metafile1.emf&quot;);
Image myGIF(L&quot;Soda.gif&quot;);
Image myJPEG(L&quot;Mango.jpg&quot;);
Image myPNG(L&quot;Flowers.png&quot;);
Image myTIFF(L&quot;MS.tif&quot;);

myGraphics.DrawImage(&amp;myBMP, 10, 10);
myGraphics.DrawImage(&amp;myEMF, 220, 10);
myGraphics.DrawImage(&amp;myGIF, 320, 10);
myGraphics.DrawImage(&amp;myJPEG, 380, 10);
myGraphics.DrawImage(&amp;myPNG, 150, 200);
myGraphics.DrawImage(&amp;myTIFF, 300, 200);
</code></pre>
<p>The <a href="/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-image"><strong>Image</strong></a> class provides a <a href="/windows/win32/api/Gdiplusheaders/nf-gdiplusheaders-image-clone"><strong>Image::Clone</strong></a> method that you can use to make a copy of an existing <strong>Image</strong>, <a href="/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-metafile"><strong>Metafile</strong></a>, or <a href="/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-bitmap"><strong>Bitmap</strong></a> object. The <a href="/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-bitmap-clone(inconstrectf__inpixelformat)">Clone</a> method is overloaded in the <strong>Bitmap</strong> class, and one of the variations has a source-rectangle parameter that you can use to specify the portion of the original image that you want to copy. The following example creates a <strong>Bitmap</strong> object by cloning the top half of an existing <strong>Bitmap</strong> object. Then both images are displayed.</p>
<pre><code>Bitmap* originalBitmap = new Bitmap(L&quot;Spiral.png&quot;);
RectF sourceRect(
   0.0f,
   0.0f, 
   (REAL)(originalBitmap-&gt;GetWidth()), 
   (REAL)(originalBitmap-&gt;GetHeight())/2.0f);

Bitmap* secondBitmap = originalBitmap-&gt;Clone(sourceRect, PixelFormatDontCare);

myGraphics.DrawImage(originalBitmap, 10, 10);
myGraphics.DrawImage(secondBitmap, 100, 10);
</code></pre>
<p>The preceding code, along with a particular file, Spiral.png, produced the following output.</p>
<p><img src="images/aboutgdip03-art05.png" alt="illustration of an image, followed by the top half of the orignal image" /></p>
<p>Â </p>
<p>Â </p>
</body>
