<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>AFD_EVENT_CREATE event</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Winsock network tracing event for a socket creation operation.
ms.assetid: 59B9A570-5AEC-429D-AF71-AB6D8325C341
title: AFD_EVENT_CREATE event
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>AFD_EVENT_CREATE
api_type:</li>
<li>NA
api_location:</li>
</ul>
<hr />
<h1>AFD_EVENT_CREATE event</h1>
<p>The <strong>AFD_EVENT_CREATE</strong> event is a Winsock network tracing event for a socket creation operation.</p>
<pre lang="C++"><code>const EVENT_DESCRIPTOR AFD_EVENT_CREATE = {0x3e8, 0x0, 0x10, 0x4, 0xa, 0x3e8, 0x8000000000000004};
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>EnterExit</em></p>
<!-- raw HTML omitted -->
<p>Information on this event.</p>
<p>The following table lists the possible values for the <em>EnterExit</em> parameter:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The start of a Winsock request.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Winsock request completed.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->2<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Winsock AFD driver took an internal action (aborting a connection, for example).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->3<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The TCP/IP driver caused this event to occur. This usually indicates a data notification.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->4<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Winsock AFD driver caused this event to occur (setting a socket option, for example).<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><em>Location</em></p>
<!-- raw HTML omitted -->
<p>A private field used internally.</p>
<!-- raw HTML omitted -->
<p><em>Process</em></p>
<!-- raw HTML omitted -->
<p>The <a href="/windows-hardware/drivers/kernel/eprocess">EPROCESS</a> address of the process that owns the related socket. This is an opaque structure that serves as the process object for a process. For more information, see the Windows Driver Kit documentation for the <a href="/windows-hardware/drivers/kernel/eprocess">EPROCESS</a> structure.</p>
<!-- raw HTML omitted -->
<p><em>Endpoint</em></p>
<!-- raw HTML omitted -->
<p>The AFD_ENDPOINT address of the socket.</p>
<!-- raw HTML omitted -->
<p><em>AddressFamily</em></p>
<!-- raw HTML omitted -->
<p>The address family specification for the socket. Possible values for the address family are defined in the <em>Ws2def.h</em> header file. Note that the <em>Ws2def.h</em> header file is automatically included in <em>Winsock2.h</em>, and should never be used directly.</p>
<p>The values currently supported are AF_INET or AF_INET6, which are the Internet address family formats for IPv4 and IPv6. Other options for address family (AF_NETBIOS for use with NetBIOS, for example) are supported if a Windows Sockets service provider for the address family is installed.</p>
<p>The table below lists common values for address family although many other values are possible.</p>
<table>
<thead>
<tr>
<th>Af</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>AF_UNSPEC</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The address family is unspecified.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>AF_INET</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->2<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Internet Protocol version 4 (IPv4) address family.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>AF_IPX</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->6<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The IPX/SPX address family. This address family is only supported if the NWLink IPX/SPX NetBIOS Compatible Transport protocol is installed. <!-- raw HTML omitted --> This address family is not supported on Windows Vista and later.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>AF_APPLETALK</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->16<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The AppleTalk address family. This address family is only supported if the AppleTalk protocol is installed. <!-- raw HTML omitted --> This address family is not supported on Windows Vista and later.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>AF_NETBIOS</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->17<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The NetBIOS address family. This address family is only supported if the Windows Sockets provider for NetBIOS is installed. <!-- raw HTML omitted --> The Windows Sockets provider for NetBIOS is supported on 32-bit versions of Windows. This provider is installed by default on 32-bit versions of Windows. <!-- raw HTML omitted --> The Windows Sockets provider for NetBIOS is not supported on 64-bit versions of windows. <!-- raw HTML omitted --> The Windows Sockets provider for NetBIOS only supports sockets where the <em>type</em> parameter is set to <strong>SOCK_DGRAM</strong>.<!-- raw HTML omitted --> The Windows Sockets provider for NetBIOS is not directly related to the <a href="/previous-versions/windows/desktop/netbios/portal">NetBIOS</a> programming interface. The NetBIOS programming interface is not supported on Windows Vista, Windows Server 2008, and later.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>AF_INET6</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->23<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Internet Protocol version 6 (IPv6) address family.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>AF_IRDA</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->26<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Infrared Data Association (IrDA) address family. <!-- raw HTML omitted --> This address family is only supported if the computer has an infrared port and driver installed.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>AF_BTH</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->32<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Bluetooth address family. <!-- raw HTML omitted --> This address family is only supported if the computer has a Bluetooth adapter and driver installed.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><em>SocketType</em></p>
<!-- raw HTML omitted -->
<p>The type specification for the new socket. Possible values for the socket type are defined in the <em>Winsock2.h</em> header file.</p>
<p>The following table lists the possible values for the <em>type</em> parameter supported for Windows Sockets 2:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SOCK_STREAM</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A socket type that provides sequenced, reliable, two-way, connection-based byte streams with an OOB data transmission mechanism. This socket type uses the Transmission Control Protocol (TCP) for the Internet address family (AF_INET or AF_INET6).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SOCK_DGRAM</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->2<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A socket type that supports datagrams, which are connectionless, unreliable buffers of a fixed (typically small) maximum length. This socket type uses the User Datagram Protocol (UDP) for the Internet address family (AF_INET or AF_INET6).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SOCK_RAW</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->3<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A socket type that provides a raw socket that allows an application to manipulate the next upper-layer protocol header. To manipulate the IPv4 header, the <a href="ipproto-ip-socket-options.html"><strong>IP_HDRINCL</strong></a> socket option must be set on the socket. To manipulate the IPv6 header, the <a href="ipproto-ipv6-socket-options.html"><strong>IPV6_HDRINCL</strong></a> socket option must be set on the socket. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SOCK_RDM</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->4<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A socket type that provides a reliable message datagram. An example of this type is the Pragmatic General Multicast (PGM) multicast protocol implementation in Windows, often referred to as <a href="reliable-multicast-programming--pgm-.html">reliable multicast programming</a>. <!-- raw HTML omitted --> This <em>type</em> value is only supported if the Reliable Multicast Protocol is installed.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SOCK_SEQPACKET</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->5<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A socket type that provides a pseudo-stream packet based on datagrams. <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><em>Protocol</em></p>
<!-- raw HTML omitted -->
<p>The protocol to be used. The possible options for the <em>protocol</em> parameter are specific to the address family and socket type specified. Possible values for the <em>protocol</em> are defined in the <em>Wsrm.h</em> header file and the <strong>IPPROTO</strong> enumeration type defined in the <em>Ws2def.h</em> header file. Note that the <em>Ws2def.h</em> header file is automatically included in <em>Winsock2.h</em>, and should never be used directly.</p>
<p>If a value of 0 is specified, the caller does not wish to specify a protocol and the service provider will choose the <em>protocol</em> to use.</p>
<p>The table below lists common values for the <em>protocol</em> although many other values are possible.</p>
<table>
<thead>
<tr>
<th>protocol</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>IPPROTO_ICMP</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Internet Control Message Protocol (ICMP). This is a possible value when the <em>af</em> parameter is <strong>AF_UNSPEC</strong>, <strong>AF_INET</strong>, or <strong>AF_INET6</strong> and the <em>type</em> parameter is <strong>SOCK_RAW</strong> or unspecified.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>IPPROTO_IGMP</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->2<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Internet Group Management Protocol (IGMP). This is a possible value when the <em>af</em> parameter is <strong>AF_UNSPEC</strong>, <strong>AF_INET</strong>, or <strong>AF_INET6</strong> and the <em>type</em> parameter is <strong>SOCK_RAW</strong> or unspecified.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>BTHPROTO_RFCOMM</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->3<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Bluetooth Radio Frequency Communications (Bluetooth RFCOMM) protocol. This is a possible value when the <em>af</em> parameter is <strong>AF_BTH</strong> and the <em>type</em> parameter is <strong>SOCK_STREAM</strong>. <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>IPPROTO_TCP</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->6<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Transmission Control Protocol (TCP). This is a possible value when the <em>af</em> parameter is <strong>AF_INET</strong> or <strong>AF_INET6</strong> and the <em>type</em> parameter is <strong>SOCK_STREAM</strong>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>IPPROTO_UDP</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->17<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The User Datagram Protocol (UDP). This is a possible value when the <em>af</em> parameter is <strong>AF_INET</strong> or <strong>AF_INET6</strong> and the <em>type</em> parameter is <strong>SOCK_DGRAM</strong>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>IPPROTO_ICMPV6</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->58<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Internet Control Message Protocol Version 6 (ICMPv6). This is a possible value when the <em>af</em> parameter is <strong>AF_UNSPEC</strong>, <strong>AF_INET</strong>, or <strong>AF_INET6</strong> and the <em>type</em> parameter is <strong>SOCK_RAW</strong> or unspecified.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>IPPROTO_RM</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->113<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The PGM protocol for reliable multicast. This is a possible value when the <em>af</em> parameter is <strong>AF_INET</strong> and the <em>type</em> parameter is <strong>SOCK_RDM</strong>. This protocol is also called <strong>IPPROTO_PGM</strong>. <!-- raw HTML omitted --> This <em>protocol</em> value is only supported if the Reliable Multicast Protocol is installed.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><em>ProcessId</em></p>
<!-- raw HTML omitted -->
<p>The actual process ID or an indicator if the event was a result of Winsock code run in a system process or in a deferred procedure call (DPC) context (contexts outside the user process).</p>
<!-- raw HTML omitted -->
<p><em>Status</em></p>
<!-- raw HTML omitted -->
<p>The NTSTATUS code for the operation.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The <strong>AFD_EVENT_CREATE</strong> event is traced for a Winsock network operation to create a socket. The channel for this event is Winsock-AFD. The level for this event is informational.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 7 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2008 R2 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="control-of-winsock-tracing.html">Control of Winsock Tracing</a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/evntprov/ns-evntprov-event_descriptor"><strong>EVENT_DESCRIPTOR</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-tracing.html">Winsock Tracing</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-tracing-levels.html">Winsock Tracing Levels</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-layered-service-provider-tracing-event-details.html">Winsock Catalog Change Tracing Details</a></p>
<!-- raw HTML omitted -->
</body>
