<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Basic Approach for GetXbyY in the SPI</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Most GetXbyY functions are translated by Ws2_32.dll to a WSALookupServiceBegin, WSALookupServiceNext, WSALookupServiceEnd sequence that uses one of a set of special GUIDs as the service class.
ms.assetid: 5028df47-1689-470f-90e0-2859173a7111
title: Basic Approach for GetXbyY in the SPI
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Basic Approach for GetXbyY in the SPI</h1>
<p>Most <strong>GetXbyY</strong> functions are translated by Ws2_32.dll to a <a href="/windows/desktop/api/Winsock2/nf-winsock2-wsalookupservicebegina"><strong>WSALookupServiceBegin</strong></a>, <a href="/windows/desktop/api/Winsock2/nf-winsock2-wsalookupservicenexta"><strong>WSALookupServiceNext</strong></a>, <a href="/windows/desktop/api/Winsock2/nf-winsock2-wsalookupserviceend"><strong>WSALookupServiceEnd</strong></a> sequence that uses one of a set of special GUIDs as the service class. These GUIDs identify the type of <strong>GetXbyY</strong> operation that is being emulated. The query is constrained to those NSPs that support AF_INET. Whenever a <strong>GetXbyY</strong> function returns a <a href="/windows/desktop/api/winsock/ns-winsock-hostent"><strong>HOSTENT</strong></a> or <a href="/windows/desktop/api/winsock/ns-winsock-servent"><strong>SERVENT</strong></a> structure, the Ws2_32.dll will specify the LUP_RETURN_BLOB flag in <strong>WSALookupServiceBegin</strong> so that the desired information will be returned by the NSP. These structures must be modified slightly in that the pointers contained within must be replaced with offsets that are relative to the start of the blob's data. All values referenced by these pointer members must, of course, be completely contained within the blob, and all strings are ASCII.</p>
<p>Â </p>
<p>Â </p>
</body>
