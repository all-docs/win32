<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Handling Winsock Errors</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Error Handling in Winsock.
ms.assetid: 81ed3328-4b15-43dc-88f1-573a4a97d672
title: Handling Winsock Errors
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Handling Winsock Errors</h1>
<p>Most Windows Sockets 2 functions do not return the specific cause of an error when the function returns. Some Winsock functions return a value of zero if successful. Otherwise, the value SOCKET_ERROR (-1) is returned and a specific error number can be retrieved by calling the <a href="/windows/desktop/api/winsock/nf-winsock-wsagetlasterror"><strong>WSAGetLastError</strong></a> function. For Winsock functions that return a handle, a return value of INVALID_SOCKET (0xffff) indicates an error and a specific error number can be retrieved by calling <strong>WSAGetLastError</strong>. For Winsock functions that return a pointer, a return value of <strong>NULL</strong> indicates an error and a specific error number can be retrieved by calling the <strong>WSAGetLastError</strong> function.</p>
<p>A Winsock error code can be converted to an HRESULT for use in a remote procedure call (RPC) using HRESULT_FROM_WIN32. In earlier versions of the Platform Software Development Kit (SDK), HRESULT_FROM_WIN32 was defined as a macro in the <em>Winerror.h</em> header file. In the Microsoft Windows Software Development Kit (SDK), HRESULT_FROM_WIN32 is defined as an inline function in the <em>Winerror.h</em> header file.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="windows-sockets-error-codes-2.html">Windows Sockets Error Codes</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
