<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Function Extension Mechanism in the SPI</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Because the Winsock DLL itself is no longer supplied by each individual stack vendor, it is not possible for a stack vendor to offer extended functionality by adding entry points to the Winsock DLL.
ms.assetid: 5c71532a-c565-4f65-ab36-ca0e23190718
title: Function Extension Mechanism in the SPI
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Function Extension Mechanism in the SPI</h1>
<p>Because the Winsock DLL itself is no longer supplied by each individual stack vendor, it is not possible for a stack vendor to offer extended functionality by adding entry points to the Winsock DLL. To overcome this limitation, Winsock takes advantage of the new <a href="/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl"><strong>WSAIoctl</strong></a> function to accommodate service providers who wish to offer provider-specific functionality extensions. This mechanism presupposes that an application is aware of a particular extension and understands both the semantics and syntax involved. Such information would typically be supplied by the service provider vendor.</p>
<p>To invoke an extension function, the application must first ask for a pointer to the desired function. This is done through the <a href="/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl"><strong>WSAIoctl</strong></a> function using the SIO_GET_EXTENSION_FUNCTION_POINTER command code. The input buffer to the <strong>WSAIoctl</strong> function contains an identifier for the desired extension function and the output buffer will contain the function pointer itself. The application can then invoke the extension function directly without passing through the Ws2_32.dll.</p>
<p>The identifiers assigned to extension functions are globally unique identifiers (GUIDs) that are allocated by service provider vendors. Vendors who create extension functions are urged to publish full details about the function including the syntax of the function prototype. This facilitates common and/or popular extension functions to be offered by multiple service providers. An application can obtain the function pointer and use the function without needing to know anything about the particular service provider that implements the function.</p>
<p>Â </p>
<p>Â </p>
</body>
