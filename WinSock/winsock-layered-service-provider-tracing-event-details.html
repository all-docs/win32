<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Winsock Catalog Change Tracing Details</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Winsock Catalog Change Tracing Details
ms.assetid: 4C86618D-4E79-486E-997F-9E2509FBF6B6
title: Winsock Catalog Change Tracing Details
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Winsock Catalog Change Tracing Details</h1>
<blockquote>
<p>[!Note]<br />
Layered Service Providers are deprecated. Starting with WindowsÂ 8 and Windows ServerÂ 2012, use <a href="../fwp/windows-filtering-platform-start-page.html">Windows Filtering Platform</a>.</p>
</blockquote>
<p>Â </p>
<p>Winsock Catalog Change event tracing for layered Service providers (LSPs) is related to LSP installation, LSP removal, LSP disable, and Winsock catalog reset operations. All of the following events are written to the <em>Microsoft-Windows-Winsock-WS2HELP/Operational</em> channel which is different from the other Winsock network event tracing logged on WindowsÂ Vista and later.</p>
<p>The following details each of the Winsock LSP events that can be traced and describes which parameters and information are logged.</p>
<h2>LSP Install</h2>
<p>Event ID = 1</p>
<p>Level = 4 (Information)</p>
<p>The following Winsock LSP events are traced for an LSP install operation:</p>
<ul>
<li>A protocol entry is installed into the Winsock catalog.</li>
</ul>
<p>The following parameters are logged for a LSP install event:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->LSP Name<!-- raw HTML omitted --></td>
<td>The name of the LSP as obtained from the <strong>szProtocol</strong> member of the <a href="/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa"><strong>WSAPROTOCOL_INFO</strong></a> structure for the LSP being installed.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Catalog<!-- raw HTML omitted --></td>
<td>The Winsock catalog (32-bit or 64-bit) where the LSP is being installed. This is an integer value that is either 32 or 64.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Installer<!-- raw HTML omitted --></td>
<td>The module filename of the application making the LSP install call.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->GUID<!-- raw HTML omitted --></td>
<td>The GUID value of the Winsock transport provider that the LSP is being installed under.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Category<!-- raw HTML omitted --></td>
<td>The <strong>dwCatalogEntryId</strong> member of the <a href="/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa"><strong>WSAPROTOCOL_INFO</strong></a> structure for the LSP being installed.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>LSP Uninstall</h2>
<p>Event ID = 2</p>
<p>Level = 4 (Information)</p>
<p>The following Winsock LSP events are traced for an LSP uninstall operation:</p>
<ul>
<li>A protocol entry is removed from the Winsock catalog.</li>
</ul>
<p>The following parameters are logged for a LSP uninstall event:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->LSP Name<!-- raw HTML omitted --></td>
<td>The name of the LSP as obtained from the <strong>szProtocol</strong> member of the <a href="/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa"><strong>WSAPROTOCOL_INFO</strong></a> structure for the LSP being removed.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Catalog<!-- raw HTML omitted --></td>
<td>The Winsock catalog (32-bit or 64-bit) where the LSP is being removed. This is an integer value that is either 32 or 64.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Installer<!-- raw HTML omitted --></td>
<td>The module filename of the application making the LSP remove call.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->GUID<!-- raw HTML omitted --></td>
<td>The GUID value of the Winsock transport provider that the LSP is removed from.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Category<!-- raw HTML omitted --></td>
<td>The <strong>dwCatalogEntryId</strong> member of the <a href="/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa"><strong>WSAPROTOCOL_INFO</strong></a> structure for the LSP being removed.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>LSP Disable</h2>
<p>Event ID = 3</p>
<p>Level = 4 (Information)</p>
<p>The following Winsock LSP events are traced for an LSP disable operation:</p>
<ul>
<li>A protocol entry is disabled in the Winsock catalog.</li>
</ul>
<p>The following parameters are logged for a LSP disable event:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->LSP Name<!-- raw HTML omitted --></td>
<td>The name of the LSP as obtained from the <strong>szProtocol</strong> member of the <a href="/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa"><strong>WSAPROTOCOL_INFO</strong></a> structure for the LSP being disabled.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Catalog<!-- raw HTML omitted --></td>
<td>The Winsock catalog (32-bit or 64-bit) where the LSP is being disabled. This is an integer value that is either 32 or 64.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Installer<!-- raw HTML omitted --></td>
<td>The module filename of the application making the LSP disable call.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->GUID<!-- raw HTML omitted --></td>
<td>The GUID value of the Winsock transport provider where the LSP is being disabled.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Category<!-- raw HTML omitted --></td>
<td>The <strong>dwCatalogEntryId</strong> member of the <a href="/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa"><strong>WSAPROTOCOL_INFO</strong></a> structure for the LSP being disabled.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Winsock Catalog Reset</h2>
<p>Event ID = 4</p>
<p>Level = 4 (Information)</p>
<p>The following Winsock LSP events are traced for a Winsock catalog reset operation:</p>
<ul>
<li>The Winsock catalog is reset.</li>
</ul>
<p>The following parameters are logged for a Winsock catalog reset event:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Catalog<!-- raw HTML omitted --></td>
<td>The Winsock catalog (32-bit or 64-bit) that is being reset. This is an integer value that is either 32 or 64.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="control-of-winsock-tracing.html">Control of Winsock Tracing</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-tracing.html">Winsock Tracing</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-tracing-levels.html">Winsock Tracing Levels</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-tracing-event-details.html">Winsock Network Event Tracing Details</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
