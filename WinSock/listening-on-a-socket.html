<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Listening on a Socket</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: After the socket is bound to an IP address and port on the system, the server must then listen on that IP address and port for incoming connection requests.
ms.assetid: 83c9f0e7-2e6d-449b-8d97-3d13154112cd
title: Listening on a Socket
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Listening on a Socket</h1>
<p>After the socket is bound to an IP address and port on the system, the server must then listen on that IP address and port for incoming connection requests.</p>
<h2>To listen on a socket</h2>
<p>Call the <a href="/windows/desktop/api/Winsock2/nf-winsock2-listen"><strong>listen</strong></a> function, passing as parameters the created socket and a value for the <em>backlog</em>, maximum length of the queue of pending connections to accept. In this example, the <em>backlog</em> parameter was set to <strong>SOMAXCONN</strong>. This value is a special constant that instructs the Winsock provider for this socket to allow a maximum reasonable number of pending connections in the queue. Check the return value for general errors.</p>
<pre lang="C++"><code>if ( listen( ListenSocket, SOMAXCONN ) == SOCKET_ERROR ) {
    printf( &quot;Listen failed with error: %ld\n&quot;, WSAGetLastError() );
    closesocket(ListenSocket);
    WSACleanup();
    return 1;
}
</code></pre>
<p>Next Step: <a href="accepting-a-connection.html">Accepting a Connection</a></p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="getting-started-with-winsock.html">Getting Started With Winsock</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-server-application.html">Winsock Server Application</a></p>
<!-- raw HTML omitted -->
<p><a href="binding-a-socket.html">Binding a Socket</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
