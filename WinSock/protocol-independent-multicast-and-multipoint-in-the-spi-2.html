<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Protocol-Independent Multicast and Multipoint in the SPI</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Windows Sockets (Winsock) and protocol-independent multipoint and multicast capabilities of transports.
ms.assetid: 861f457c-fe7e-4128-a3f3-786424a96ea5
title: Protocol-Independent Multicast and Multipoint in the SPI
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Protocol-Independent Multicast and Multipoint in the SPI</h1>
<p>Just as Windows Sockets 2 allows the basic data transport capabilities of numerous transport protocols to be accessed in a generic manner, it also provides a generic way to use multipoint and multicast capabilities of transports that implement these features. To simplify, the term <em>multipoint</em> is used hereafter to refer to both multicast and multipoint communications.</p>
<p>Current multipoint implementations (for example, IP multicast, ST-II, T.120, ATM UNI) vary widely with respect to how nodes join a multipoint session, whether a particular node is designated as a central or root node, and whether data is exchanged between all nodes or only between a root node and various leaf nodes. The Windows Sockets 2 <a href="/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa"><strong>WSAPROTOCOL_INFO</strong></a> structure is used to declare the multipoint attributes of a protocol. By examining these attributes the programmer will know what conventions to follow in using the applicable Winsock functions to set up, use, and tear down multipoint sessions.</p>
<p>The features of Windows Sockets 2 that support multicast can be summarized as follows:</p>
<ul>
<li>Three attribute bits in the <a href="/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa"><strong>WSAPROTOCOL_INFO</strong></a> structure.</li>
<li>Four flags defined for the <em>dwFlags</em> parameter of <a href="/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspsocket"><strong>WSPSocket</strong></a></li>
<li>One function, <a href="/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf"><strong>WSPJoinLeaf</strong></a>, for adding leaf nodes into a multipoint session.</li>
<li>Two <a href="/previous-versions/windows/hardware/network/ff566296(v=vs.85)"><strong>WSPIoctl</strong></a> command codes for controlling multipoint loopback and establishing the scope for multicast transmissions. (The latter corresponds to the IP multicast time-to-live or TTL parameter.)</li>
</ul>
<blockquote>
<p>[!Note]<br />
The inclusion of these multipoint features in Windows Sockets 2 does not preclude a service provider from also supporting an existing protocol-dependent interface, such as the Deering socket options for IP multicast.</p>
</blockquote>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
