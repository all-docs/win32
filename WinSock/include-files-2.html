<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Include Files</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The original include file for use with Windows Sockets 1.1 was the Winsock.h header file.
ms.assetid: 0536abcc-4277-4bd8-927c-3bf429bc65bb
title: Include Files
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Include Files</h1>
<p>The original include file for use with Windows Sockets 1.1 was the <em>Winsock.h</em> header file. To ease porting existing source code based on Berkeley UNIX sockets to Windows sockets, Windows Sockets development kits for Winsock 1.1 were encouraged to be supplied with several include files with the same names as standard UNIX include files (the <em>sys/socket.h</em> and arpa/inet.h header files, for example). However, these similarly-name Winsock header files merely contained a directive to include the <em>Winsock2.h</em> header file.</p>
<p>When Windows Sockets 2 was released, the primary include file for use with Windows Sockets was renamed to <em>Winsock2.h</em>. The older original <em>Winsock.h</em> header file for Winsock 1.1 was also retained for compatibility with older applications. The development of Winsock 1.1 compatible applications has been deprecated since WindowsÂ 2000 was released. All applications should now use the include <em>Winsock2.h</em> directive in Winsock application source files.</p>
<p>The <em>Winsock2.h</em> header file contains most of the Winsock functions, structures, and definitions. The <em>Ws2tcpip.h</em> header file contains definitions introduced in the WinSock 2 Protocol-Specific Annex document for TCP/IP that includes newer functions and structures used to retrieve IP addresses. These include the <a href="/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getaddrinfo"><strong>getaddrinfo</strong></a> and <a href="/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getnameinfo"><strong>getnameinfo</strong></a> family of functions that provide name resolution for both IPv4 or IPv6 addresses. The <em>Ws2tcpip.h</em> header file is only needed if these IP-agnostic naming functions are required by the application.</p>
<p>The <em>Mswsock.h</em> header file contains definitions for Microsoft-specific extensions to the Windows Sockets 2 (<a href="/windows/win32/api/mswsock/nf-mswsock-transmitfile"><strong>TransmitFile</strong></a>, <a href="/windows/win32/api/mswsock/nf-mswsock-acceptex"><strong>AcceptEx</strong></a>, and <a href="/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex"><strong>ConnectEx</strong></a>, for example). The <em>Mswsock.h</em> header file is not normally needed unless these Microsoft-specific extensions are used by the application.</p>
<p>The <em>Winsock2.h</em> header file internally includes core elements from the <em>Windows.h</em> header file, so there is not usually an #include line for the <em>Windows.h</em> header file in Winsock applications. If an #include line is needed for the <em>Windows.h</em> header file, this should be preceded with the #define WIN32_LEAN_AND_MEAN macro. For historical reasons, the <em>Windows.h</em> header defaults to including the <em>Winsock.h</em> header file for Windows Sockets 1.1. The declarations in the <em>Winsock.h</em> header file will conflict with the declarations in the <em>Winsock2.h</em> header file required by Windows Sockets 2. The WIN32_LEAN_AND_MEAN macro prevents the <em>Winsock.h</em> from being included by the <em>Windows.h</em> header. An example illustrating this is shown below.</p>
<pre lang="C++"><code>#include &lt;winsock2.h&gt;
#include &lt;ws2tcpip.h&gt;
#include &lt;stdio.h&gt;

#pragma comment(lib, &quot;Ws2_32.lib&quot;)

int main() {
  return 0;
}

</code></pre>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="creating-a-basic-winsock-application.html">Creating a Basic Winsock Application</a></p>
<!-- raw HTML omitted -->
<p><a href="getting-started-with-winsock.html">Getting Started With Winsock</a></p>
<!-- raw HTML omitted -->
<p><a href="porting-socket-applications-to-winsock.html">Porting Socket Applications to Winsock</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-programming-considerations.html">Winsock Programming Considerations</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
