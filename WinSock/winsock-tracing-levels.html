<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Winsock Tracing Levels</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: &quot;Learn more about: Winsock Tracing Levels&quot;
ms.assetid: a92bc4d2-257a-478a-b10d-4fada4323c9b
title: Winsock Tracing Levels
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Winsock Tracing Levels</h1>
<h2>Levels of Winsock Tracing</h2>
<p>There are two levels of logging possible in Winsock tracing:</p>
<ul>
<li>Information</li>
<li>Verbose</li>
</ul>
<p>The information level traces socket create and close events, as well as any errors that occur on the socket.</p>
<p>The verbose level includes the information level events, and adds additional tracing for send and receive events. The verbose logging would be used to catch buffer corruption issues as well as poorly written applications.</p>
<p>Either the information or verbose level can be used with the Winsock Network Event tracing. The Winsock Catalog Change tracing supports only information level.</p>
<h2>Information Event Tracing</h2>
<p>The following list details those Winsock network event socket operations that are traced at the information level:</p>
<ul>
<li>
<p>Socket creation</p>
<p>An event is logged on socket creation which can be used to trace the lifetime of a socket. These events also includes sockets created by accepting connections on a listening socket.</p>
</li>
<li>
<p>Bind</p>
<p>The local IP address is logged to help correlate the Winsock tracing information to an application's socket calls.</p>
</li>
<li>
<p>Connect</p>
<p>The remote IP address of the connected socket is logged to help correlate the Winsock tracing information to an application's socket calls.</p>
</li>
<li>
<p>Winsock-initiated aborts and cancels</p>
<p>Anytime Winsock actively aborts or cancels a request, the event is logged.</p>
</li>
<li>
<p>Transport initiated resets</p>
<p>Anytime the underlying transport indicates a connection has been reset, the event is logged.</p>
</li>
<li>
<p>Send and receive errors</p>
<p>Whenever a send or receive call to the underlying transport fails, the event is logged.</p>
</li>
<li>
<p>Socket disconnect and close</p>
<p>An event is logged when a socket handle is closed.</p>
</li>
</ul>
<h2>Verbose Event Tracing</h2>
<p>All of the information events are traced at the verbose level. The following list details those additional Winsock network event socket operations that are traced at the verbose level:</p>
<ul>
<li>
<p>Send and receive buffers</p>
<p>Events are logged of user buffer addresses and lengths when send and receive calls are posted to Winsock, as well as upon completion of these calls. This is useful for diagnosing buffer re-use issues as well as inefficient use of buffers.</p>
</li>
<li>
<p>Socket options</p>
<p>An event is logged when an application changes certain socket option values. Some of the options logged include SO_SNDBUF, SO_RCVBUF, SIO_ENABLE_CIRCULAR_QUEUEING, and FIONBIO.</p>
</li>
<li>
<p>WSAPoll and select</p>
<p>An event is logged of an application's usage of <a href="/windows/win32/api/winsock2/nf-winsock2-wsapoll"><strong>WSAPoll</strong></a> and <a href="/windows/desktop/api/Winsock2/nf-winsock2-select"><strong>select</strong></a> calls which can be used to find performance bottlenecks.</p>
</li>
<li>
<p>Winsock-initiated aborts and cancels</p>
<p>Anytime Winsock actively aborts or cancels a request, the event is logged.</p>
</li>
<li>
<p>Event mask</p>
<p>An event is logged of the event mask an application registers for using the <a href="/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect"><strong>WSAEventSelect</strong></a> function.</p>
</li>
<li>
<p>Datagram</p>
<p>An event is logged whenever a datagram arrives and there is no buffer space in which to copy it.</p>
</li>
</ul>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="control-of-winsock-tracing.html">Control of Winsock Tracing</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-tracing.html">Winsock Tracing</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-layered-service-provider-tracing-event-details.html">Winsock Catalog Change Tracing Details</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-tracing-event-details.html">Winsock Network Event Tracing Details</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
