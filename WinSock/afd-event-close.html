<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>AFD_EVENT_CLOSE event</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Winsock network tracing event for socket close operation.
ms.assetid: C59B2B51-288A-46C9-B390-26A18DB0C2FB
title: AFD_EVENT_CLOSE event
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>AFD_EVENT_CLOSE
api_type:</li>
<li>NA
api_location:</li>
</ul>
<hr />
<h1>AFD_EVENT_CLOSE event</h1>
<p>The <strong>AFD_EVENT_CLOSE</strong> event is a Winsock network tracing event for socket close operation.</p>
<pre lang="C++"><code>const EVENT_DESCRIPTOR AFD_EVENT_CLOSE = {0x3e9, 0x0, 0x10, 0x4, 0xf, 0x3e9, 0x8000000000000004};
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>EnterExit</em></p>
<!-- raw HTML omitted -->
<p>Information on this event.</p>
<p>The following table lists the possible values for the <em>EnterExit</em> parameter:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->0<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The start of a Winsock request.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Winsock request completed.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->2<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Winsock AFD driver took an internal action (aborting a connection, for example).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->3<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The TCP/IP driver caused this event to occur. This usually indicates a data notification.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->4<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The Winsock AFD driver caused this event to occur (setting a socket option, for example).<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><em>Location</em></p>
<!-- raw HTML omitted -->
<p>A private field used internally.</p>
<!-- raw HTML omitted -->
<p><em>Process</em></p>
<!-- raw HTML omitted -->
<p>The <a href="/windows-hardware/drivers/kernel/eprocess">EPROCESS</a> address of the process that owns the related socket. This is an opaque structure that serves as the process object for a process. For more information, see the Windows Driver Kit documentation for the <a href="/windows-hardware/drivers/kernel/eprocess">EPROCESS</a> structure.</p>
<!-- raw HTML omitted -->
<p><em>Endpoint</em></p>
<!-- raw HTML omitted -->
<p>The AFD_ENDPOINT address of the socket.</p>
<!-- raw HTML omitted -->
<p><em>Status</em></p>
<!-- raw HTML omitted -->
<p>The NTSTATUS code for the operation.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The <strong>AFD_EVENT_CLOSE</strong> event is traced for a Winsock network operation to close a socket. The channel for this event is Winsock-AFD. The level for this event is informational.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 7 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2008 R2 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="control-of-winsock-tracing.html">Control of Winsock Tracing</a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/evntprov/ns-evntprov-event_descriptor"><strong>EVENT_DESCRIPTOR</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-tracing.html">Winsock Tracing</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-tracing-levels.html">Winsock Tracing Levels</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-layered-service-provider-tracing-event-details.html">Winsock Catalog Change Tracing Details</a></p>
<!-- raw HTML omitted -->
</body>
