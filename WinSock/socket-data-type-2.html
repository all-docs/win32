<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Socket Data Type</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: In Winsock applications, a socket descriptor is not a file descriptor and must be used with the Winsock functions.
ms.assetid: bc434b35-9231-4b03-bc8f-cf59aaeb821e
title: Socket Data Type
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Socket Data Type</h1>
<p>In Winsock applications, a socket descriptor is not a file descriptor and must be used with the Winsock functions.</p>
<p>In UNIX, a socket descriptor is represented by a standard file descriptor. As a result, a socket descriptor on UNIX may be passed to any of the standard file I/O functions (read and write, for example).</p>
<p>Furthermore, all handles in UNIX, including socket handles, are small, non-negative integers, and some applications make assumptions that this will be true.</p>
<p>Windows Sockets handles have no restrictions, other than that the value INVALID_SOCKET is not a valid socket. Socket handles may take any value in the range 0 to INVALID_SOCKETâ€“1.</p>
<p>Because the <strong>SOCKET</strong> type is unsigned, compiling existing source code from, for example, a UNIX environment may lead to compiler warnings about signed/unsigned data type mismatches.</p>
<p>This means, for example, that checking for errors when the <a href="/windows/desktop/api/Winsock2/nf-winsock2-socket"><strong>socket</strong></a> and <a href="/windows/desktop/api/Winsock2/nf-winsock2-accept"><strong>accept</strong></a> functions return should not be done by comparing the return value with â€“1, or seeing if the value is negative (both common and legal approaches in UNIX). Instead, an application should use the manifest constant INVALID_SOCKET as defined in the <em>Winsock2.h</em> header file. For example:</p>
<p>Typical BSD UNIX Style</p>
<pre lang="C++"><code>s = socket(...);
if (s == -1)    /* or s &lt; 0 */
    {/*...*/}
</code></pre>
<p>Preferred Style</p>
<pre lang="C++"><code>s = socket(...);
if (s == INVALID_SOCKET)
    {/*...*/}
</code></pre>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="porting-socket-applications-to-winsock.html">Porting Socket Applications to Winsock</a></p>
<!-- raw HTML omitted -->
<p><a href="winsock-programming-considerations.html">Winsock Programming Considerations</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
