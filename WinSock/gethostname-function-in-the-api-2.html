<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>gethostname Function in the API</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The gethostname function uses the WSALookupServiceBegin function to query SVCID_HOSTNAME as the service class GUID.
ms.assetid: 39498c2f-6047-484d-a8ea-253461e5b0f5
title: gethostname Function in the API
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>gethostname Function in the API</h1>
<p>The <a href="/windows/desktop/api/winsock/nf-winsock-gethostname"><strong>gethostname</strong></a> function uses the <a href="/windows/desktop/api/Winsock2/nf-winsock2-wsalookupservicebegina"><strong>WSALookupServiceBegin</strong></a> function to query SVCID_HOSTNAME as the service class GUID. If the <strong>lpszServiceInstanceName</strong> member of the <a href="/windows/desktop/api/Winsock2/ns-winsock2-wsaquerysetw"><strong>WSAQUERYSET</strong></a> structure passed to the <strong>WSALookupServiceBegin</strong> function is <strong>NULL</strong> or references a <strong>NULL</strong> string (that is . &quot;&quot;), the local host is to be resolved. Otherwise, a lookup on a specified host name occurs. For the purposes of emulating <strong>gethostname</strong> the Ws2_32.dll specifies a <strong>NULL</strong> pointer for the <strong>lpszServiceInstanceName</strong> member, and specifies LUP_RETURN_NAME so that the host name is returned in the <strong>lpszServiceInstanceName</strong> member. If an application uses this query and specifies LUP_RETURN_ADDR then the host address is provided in a <a href="/windows/win32/api/ws2def/ns-ws2def-csaddr_info"><strong>CSADDR_INFO</strong></a> structure. The LUP_RETURN_BLOB action is undefined for this query. Port information is defaulted to zero unless the <strong>lpszQueryString</strong> member of the <strong>WSAQUERYSET</strong> structure passed to the <strong>WSALookupServiceBegin</strong> function references a service such as FTP, in which case the complete transport address of the indicated service is supplied.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="compatible-name-resolution-for-tcp-ip-in-the-windows-sockets-1-1-api-2.html">Compatible Name Resolution for TCP/IP in the Windows Sockets 1.1 API</a></p>
<!-- raw HTML omitted -->
<p><a href="protocol-independent-name-resolution-2.html">Protocol-Independent Name Resolution</a></p>
<!-- raw HTML omitted -->
<p><a href="registration-and-name-resolution-2.html">Registration and Name Resolution</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
