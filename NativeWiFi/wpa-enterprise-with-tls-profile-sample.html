<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WPA-Enterprise with TLS profile sample</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Uses Extensible Authentication Protocol Transport Level Security (EAP-TLS) with certificates to authenticate to the network (WPA-Enterprise).
ms.assetid: fceeae22-3761-48ab-a190-1a7b1568ed64
title: WPA-Enterprise with TLS profile sample
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>WPA-Enterprise with TLS profile sample</h1>
<p>This sample profile uses Extensible Authentication Protocol Transport Level Security (EAP-TLS) with certificates to authenticate to the network.</p>
<p>This sample is configured to use Wi-Fi Protected Access security running in Enterprise mode (WPA-Enterprise). The WPA-Enterprise security type uses 802.1X for the authentication exchange with the backend. Temporal Key Integrity Protocol (TKIP) is used for encryption.</p>
<p>The EAP-TLS credentials are obtained from the certificate store. If authentication based on the credentials in the certificate store fails, the user is prompted to provide valid credentials. No alternate servers, root certificate authorities, or user names are used for authentication if the first attempt fails.</p>
<p>The EAPHost configuration used in this wireless profile sample was derived from the <a href="../eaphost/eap-tls-connection-properties.html">EAP-TLS Connection Properties</a> sample.</p>
<p><strong>WindowsÂ 7 and Windows ServerÂ 2008Â R2 with the Wireless LAN Service installed:</strong> Changes are implemented on WindowsÂ 7 and Windows ServerÂ 2008Â R2 with the Wireless LAN Service installed to optimize wireless networking performance. The default setting for <a href="wlan-profileschema-wlanprofile-element.md#autoswitch"><strong>autoSwitch</strong></a> when this element is not set in a wireless LAN profile has changed. The default setting is changed to &quot;false&quot; on WindowsÂ 7 and Windows ServerÂ 2008Â R2 with the Wireless LAN Service installed. The default setting was &quot;true&quot; on Windows ServerÂ 2008 and WindowsÂ Vista. Please refer to the <a href="wlan-profileschema-wlanprofile-element.md#autoswitch"><strong>autoSwitch</strong></a> schema element description for more information.</p>
<p><strong>WindowsÂ XP with SP3 and Wireless LAN API for WindowsÂ XP with SP2:</strong> EAP-TLS is not supported.</p>
<pre lang="syntax"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;US-ASCII&quot;?&gt;
&lt;WLANProfile xmlns=&quot;https://www.microsoft.com/networking/WLAN/profile/v1&quot;&gt;
    &lt;name&gt;SampleWPAEnterpriseTLS&lt;/name&gt;
    &lt;SSIDConfig&gt;
        &lt;SSID&gt;
            &lt;name&gt;SampleWPAEnterpriseTLS&lt;/name&gt;
        &lt;/SSID&gt;
        &lt;nonBroadcast&gt;false&lt;/nonBroadcast&gt;
    &lt;/SSIDConfig&gt;
    &lt;connectionType&gt;ESS&lt;/connectionType&gt;
    &lt;connectionMode&gt;auto&lt;/connectionMode&gt;
    &lt;autoSwitch&gt;false&lt;/autoSwitch&gt;
    &lt;MSM&gt;
        &lt;security&gt;
            &lt;authEncryption&gt;
                &lt;authentication&gt;WPA&lt;/authentication&gt;
                &lt;encryption&gt;TKIP&lt;/encryption&gt;
                &lt;useOneX&gt;true&lt;/useOneX&gt;
            &lt;/authEncryption&gt;
            &lt;OneX xmlns=&quot;https://www.microsoft.com/networking/OneX/v1&quot;&gt;
                &lt;EAPConfig&gt;
                    &lt;EapHostConfig xmlns=&quot;https://www.microsoft.com/provisioning/EapHostConfig&quot; 
                                   xmlns:eapCommon=&quot;https://www.microsoft.com/provisioning/EapCommon&quot; 
                                   xmlns:baseEap=&quot;https://www.microsoft.com/provisioning/BaseEapMethodConfig&quot;&gt;
 
                        &lt;EapMethod&gt;
                            &lt;eapCommon:Type&gt;13&lt;/eapCommon:Type&gt; 
                            &lt;eapCommon:AuthorId&gt;0&lt;/eapCommon:AuthorId&gt; 
                        &lt;/EapMethod&gt;
                        &lt;Config xmlns:baseEap=&quot;https://www.microsoft.com/provisioning/BaseEapConnectionPropertiesV1&quot; 
                                xmlns:eapTls=&quot;https://www.microsoft.com/provisioning/EapTlsConnectionPropertiesV1&quot;&gt;

                            &lt;baseEap:Eap&gt;
                                &lt;baseEap:Type&gt;13&lt;/baseEap:Type&gt; 
                                &lt;eapTls:EapType&gt;
                                    &lt;eapTls:CredentialsSource&gt;
                                        &lt;eapTls:CertificateStore /&gt;
                                    &lt;/eapTls:CredentialsSource&gt;
                                    &lt;eapTls:ServerValidation&gt;
                                        &lt;eapTls:DisableUserPromptForServerValidation&gt;false&lt;/eapTls:DisableUserPromptForServerValidation&gt; 
                                        &lt;eapTls:ServerNames /&gt; 
                                    &lt;/eapTls:ServerValidation&gt; 
                                   &lt;eapTls:DifferentUsername&gt;false&lt;/eapTls:DifferentUsername&gt; 
                               &lt;/eapTls:EapType&gt;
                           &lt;/baseEap:Eap&gt;
                       &lt;/Config&gt;
                   &lt;/EapHostConfig&gt;
                &lt;/EAPConfig&gt;
            &lt;/OneX&gt;
        &lt;/security&gt;
    &lt;/MSM&gt;
&lt;/WLANProfile&gt;
</code></pre>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="wireless-profile-samples.html">Wireless profile samples</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
