<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ONEX_CONNECTION_PROFILE structure</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Contains information on the 802.1X connection profile currently used for 802.1X authentication.
ms.assetid: ec494c74-bc79-445a-8889-a6f441e95ac5
title: ONEX_CONNECTION_PROFILE structure
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>ONEX_CONNECTION_PROFILE
api_type:</li>
<li>NA
api_location:</li>
</ul>
<hr />
<h1>ONEX_CONNECTION_PROFILE structure</h1>
<p>The <strong>ONEX_CONNECTION_PROFILE</strong> structure contains information on the 802.1X connection profile currently used for 802.1X authentication.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>typedef struct _ONEX_CONNECTION_PROFILE {
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dwVersion;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dwTotalLen;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fOneXSupplicantFlags  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fsupplicantMode  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fauthMode  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fHeldPeriod  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fAuthPeriod  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fStartPeriod  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fMaxStart  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fMaxAuthFailures  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fNetworkAuthTimeout  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fAllowLogonDialogs  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fNetworkAuthWithUITimeout  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â fUserBasedVLan  :1;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dwOneXSupplicantFlags;
  ONEX_SUPPLICANT_MODE supplicantMode;
  ONEX_AUTH_MODE Â Â Â Â Â Â authMode;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dwHeldPeriod;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dwAuthPeriod;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dwStartPeriod;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dwMaxStart;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dwMaxAuthFailures;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dwNetworkAuthTimeout;
  DWORD Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dwNetworkAuthWithUITimeout;
  BOOL Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â bAllowLogonDialogs;
  BOOL Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â bUserBasedVLan;
} ONEX_CONNECTION_PROFILE, *PONEX_CONNECTION_PROFILE;
</code></pre>
<h2>Members</h2>
<!-- raw HTML omitted -->
<p><strong>dwVersion</strong></p>
<!-- raw HTML omitted -->
<p>The version of this <strong>ONEX_CONNECTION_PROFILE</strong> structure.</p>
<!-- raw HTML omitted -->
<p><strong>dwTotalLen</strong></p>
<!-- raw HTML omitted -->
<p>The length, in bytes, of this <strong>ONEX_CONNECTION_PROFILE</strong> structure.</p>
<!-- raw HTML omitted -->
<p><strong>fOneXSupplicantFlags</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>dwOneXSupplicantFlags</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>fsupplicantMode</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>supplicantMode</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>fauthMode</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>authMode</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>fHeldPeriod</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>dwHeldPeriod</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>fAuthPeriod</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>dwAuthPeriod</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>fStartPeriod</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>dwStartPeriod</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>fMaxStart</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>dwMaxStart</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>fMaxAuthFailures</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>dwMaxAuthFailures</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>fNetworkAuthTimeout</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>dwNetworkAuthTimeout</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>fAllowLogonDialogs</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>bAllowLogonDialogs</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>fNetworkAuthWithUITimeout</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>dwNetworkAuthWithUITimeout</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>fUserBasedVLan</strong></p>
<!-- raw HTML omitted -->
<p>Indicates if the <strong>ONEX_CONNECTION_PROFILE</strong> structure contains valid data in the <strong>bUserBasedVLan</strong> member.</p>
<!-- raw HTML omitted -->
<p><strong>dwOneXSupplicantFlags</strong></p>
<!-- raw HTML omitted -->
<p>A set of 802.1X flags that can be present in the profile. These flags are reserved for internal use by the 802.1X authentication module.</p>
<!-- raw HTML omitted -->
<p><strong>supplicantMode</strong></p>
<!-- raw HTML omitted -->
<p>The supplicantMode element in the 802.1X schema that specifies the method of transmission used for EAPOL-Start messages. For more information, see the <a href="onexschema-onex-element.md#supplicantmode"><strong>supplicantMode (OneX) Element</strong></a> in the 802.1X scheme.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>OneXSupplicantModeInhibitTransmission</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>EAPOL-Start messages are not transmitted. Valid for wired LAN profiles only.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>OneXSupplicantModeLearn</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The client determines when to send EAPOL-Start packets based on network capability. EAPOL-Start messages are only sent when required. Valid for wired LAN profiles only.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>OneXSupplicantModeCompliant</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->2<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>EAPOL-Start messages are transmitted as specified by 802.1X. Valid for both wired and wireless LAN profiles.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<!-- raw HTML omitted -->
<p><strong>authMode</strong></p>
<!-- raw HTML omitted -->
<p>The authMode element in the 802.1X schema that specifies the type of credentials used for 802.1X authentication. For more information, see the <a href="onexschema-onex-element.md#authmode"><strong>authMode (OneX) Element</strong></a> in the 802.1X scheme.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>OneXAuthModeMachineOrUser</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Use machine or user credentials. When a user is logged on, the user's credentials are used for authentication. When no user is logged on, machine credentials are used.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>OneXAuthModeMachineOnly</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->1<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Use machine credentials only.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>OneXAuthModeUserOnly</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->2<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Use user credentials only.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>OneXAuthModeGuest</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->3<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Use guest (empty) credentials only.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>OneXAuthModeUnspecified</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->4<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Credentials to use are not specified.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<!-- raw HTML omitted -->
<p><strong>dwHeldPeriod</strong></p>
<!-- raw HTML omitted -->
<p>The heldPeriod element in the 802.1X schema that specifies the length of time, in seconds, in which a client will not re-attempt authentication after a failed authentication attempt. For more information, see the <a href="onexschema-onex-element.md#heldperiod"><strong>heldPeriod (OneX) Element</strong></a> in the 802.1X scheme.</p>
<!-- raw HTML omitted -->
<p><strong>dwAuthPeriod</strong></p>
<!-- raw HTML omitted -->
<p>The authPeriod element in the 802.1X schema that specifies the maximum length of time, in seconds, in which a client waits for a response from the authenticator. If a response is not received within the specified period, the client assumes that there is no authenticator present on the network. For more information, see the <a href="onexschema-onex-element.md#authperiod"><strong>authPeriod (OneX) Element</strong></a> in the 802.1X scheme.</p>
<!-- raw HTML omitted -->
<p><strong>dwStartPeriod</strong></p>
<!-- raw HTML omitted -->
<p>The startPeriod element in the 802.1X schema that specifies the length of time, in seconds, to wait before an EAPOL-Start is sent. An EAPOL-Start message is sent to start the 802.1X authentication process. For more information, see the <a href="onexschema-onex-element.md#startperiod"><strong>startPeriod (OneX) Element</strong></a> in the 802.1X scheme.</p>
<!-- raw HTML omitted -->
<p><strong>dwMaxStart</strong></p>
<!-- raw HTML omitted -->
<p>The maxStart element in the 802.1X schema that specifies the maximum number of EAPOL-Start messages sent. After the maximum number of EAPOL-Start messages has been sent, the client assumes that there is no authenticator present on the network. For more information, see the <a href="onexschema-onex-element.md#maxstart"><strong>maxStart (OneX) Element</strong></a> in the 802.1X scheme.</p>
<!-- raw HTML omitted -->
<p><strong>dwMaxAuthFailures</strong></p>
<!-- raw HTML omitted -->
<p>The maxAuthFailures element in the 802.1X schema that specifies the maximum number of authentication failures allowed for a set of credentials. For more information, see the <a href="onexschema-onex-element.md#maxauthfailures"><strong>maxAuthFailures (OneX)</strong></a> element in the 802.1X schema.</p>
<!-- raw HTML omitted -->
<p><strong>dwNetworkAuthTimeout</strong></p>
<!-- raw HTML omitted -->
<p>The time, in seconds, to wait for 802.1X authentication completion before normal logon proceeds. This value is used in single signon (SSO) scenarios. This value defaults to 10 seconds in an 802.1X profile. For more information, see the <a href="onexschema-singlesignon-onex-element.md#maxdelay"><strong>maxDelay (singleSignOn) Element</strong></a> in the 802.1X schema.</p>
<!-- raw HTML omitted -->
<p><strong>dwNetworkAuthWithUITimeout</strong></p>
<!-- raw HTML omitted -->
<p>The maximum duration time, in seconds, to wait for a connection in case a user interface dialog box that requires user input is displayed during the per-logon SSO.</p>
<p>On WindowsÂ Vista with SP1 and later, this value is hardcoded to 10 minutes and is not configurable. On WindowsÂ Vista Release to Manufacturing, this value defaults to 60 seconds in an 802.1X profile and was controlled by the <strong>maxDelayWithAdditionalDialogs</strong> element in the schema.</p>
<p>On WindowsÂ Vista with SP1 and later, the <strong>maxDelayWithAdditionalDialogs</strong> element in the 802.1X schema is ignored and deprecated.</p>
<!-- raw HTML omitted -->
<p><strong>bAllowLogonDialogs</strong></p>
<!-- raw HTML omitted -->
<p>A value that specifies whether to allow EAP dialogs to be displayed when using pre-logon SSO. For more information, see the <strong>allowAdditionalDialogs</strong> element in the 802.1X schema.</p>
<!-- raw HTML omitted -->
<p><strong>bUserBasedVLan</strong></p>
<!-- raw HTML omitted -->
<p>The userBasedVirtualLan element in the 802.1X schema that specifies if the virtual LAN (VLAN) used by the device changes based on the user's credentials. Some network access server (NAS) devices change the VLAN after a user authenticates. When userBasedVirtualLan is TRUE, the NAS may change a device's VLAN after a user authenticates. For more information, see the <a href="onexschema-singlesignon-onex-element.md#userbasedvirtuallan"><strong>userBasedVirtualLan (singleSignOn) Element</strong></a> in the 802.1X scheme.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>The <strong>ONEX_CONNECTION_PROFILE</strong> structure is used by the 802.1X module, a new wireless configuration component supported on WindowsÂ Vista and later.</p>
<p>The <a href="/windows/desktop/api/dot1x/ns-dot1x-onex_result_update_data"><strong>ONEX_RESULT_UPDATE_DATA</strong></a> contains information on a status change to 802.1X authentication. The <strong>ONEX_RESULT_UPDATE_DATA</strong> structure is returned when the <strong>NotificationSource</strong> member of the <a href="/previous-versions/windows/desktop/legacy/ms706902(v=vs.85)"><strong>WLAN_NOTIFICATION_DATA</strong></a> structure is <strong>WLAN_NOTIFICATION_SOURCE_ONEX</strong> and the <strong>NotificationCode</strong> member of the <strong>WLAN_NOTIFICATION_DATA</strong> structure for received notification is <strong>OneXNotificationTypeResultUpdate</strong>. For this notification, the <strong>pData</strong> member of the <strong>WLAN_NOTIFICATION_DATA</strong> structure points to an <strong>ONEX_RESULT_UPDATE_DATA</strong> structure that contains information on the 802.1X authentication status change.</p>
<p>If the <strong>fOneXAuthParams</strong> member in the <a href="/windows/desktop/api/dot1x/ns-dot1x-onex_result_update_data"><strong>ONEX_RESULT_UPDATE_DATA</strong></a> structure is set, then the <strong>authParams</strong> member of the <strong>ONEX_RESULT_UPDATE_DATA</strong> structure contains an <a href="/windows/desktop/api/dot1x/ns-dot1x-onex_variable_blob"><strong>ONEX_VARIABLE_BLOB</strong></a> structure with an <a href="/windows/desktop/api/dot1x/ns-dot1x-onex_auth_params"><strong>ONEX_AUTH_PARAMS</strong></a> structure embedded starting at the <strong>dwOffset</strong> member of the <strong>ONEX_VARIABLE_BLOB</strong>. The <strong>oneXConnProfile</strong> member of the <strong>ONEX_AUTH_PARAMS</strong> structure contains an <strong>ONEX_VARIABLE_BLOB</strong> structure with an <strong>ONEX_CONNECTION_PROFILE</strong> structure embedded starting at the <strong>dwOffset</strong> member of the <strong>ONEX_VARIABLE_BLOB</strong>.</p>
<p>The <strong>ONEX_CONNECTION_PROFILE</strong> structure is not defined in a public header file.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2008 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="about-the-acm-architecture.html">About the ACM Architecture</a></p>
<!-- raw HTML omitted -->
<p><a href="onexschema-schema.html">OneX Schema</a></p>
<!-- raw HTML omitted -->
<p><a href="onexschema-onex-element.md#authmode"><strong>authMode (OneX) Element</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="onexschema-onex-element.md#authperiod"><strong>authPeriod (OneX) Element</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="onexschema-onex-element.md#heldperiod"><strong>heldPeriod (OneX) Element</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="onexschema-onex-element.md#maxauthfailures"><strong>maxAuthFailures (OneX)</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="onexschema-onex-element.md#maxstart"><strong>maxStart (OneX) Element</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="onexschema-onex-element.md#startperiod"><strong>startPeriod (OneX) Element</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="onexschema-onex-element.md#supplicantmode"><strong>supplicantMode (OneX) Element</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="onexschema-singlesignon-onex-element.md#userbasedvirtuallan"><strong>userBasedVirtualLan (singleSignOn) Element</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/dot1x/ns-dot1x-onex_auth_params"><strong>ONEX_AUTH_PARAMS</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/dot1x/ne-dot1x-onex_notification_type"><strong>ONEX_NOTIFICATION_TYPE</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/dot1x/ns-dot1x-onex_result_update_data"><strong>ONEX_RESULT_UPDATE_DATA</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="onexschema-onex-element.html"><strong>OneX Schema Element</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/dot1x/ns-dot1x-onex_variable_blob"><strong>ONEX_VARIABLE_BLOB</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/previous-versions/windows/desktop/legacy/ms706902(v=vs.85)"><strong>WLAN_NOTIFICATION_DATA</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/wlanapi/nf-wlanapi-wlanregisternotification"><strong>WlanRegisterNotification</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
