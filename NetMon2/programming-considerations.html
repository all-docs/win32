<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Programming Considerations (Network Monitor)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: This topic contains programming information. The following list identifies some programming tips to help you write a parser.
ms.assetid: 24d3e11f-8281-4464-a2d7-f4f2466e9d9e
title: Programming Considerations (Network Monitor)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Programming Considerations (Network Monitor)</h1>
<p>This topic contains programming information. The following list identifies some programming tips to help you write a parser.</p>
<table>
<thead>
<tr>
<th>Tip</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Auto-installing your parser</td>
<td>Implement the <a href="parserautoinstallinfo.html"><strong>ParserAutoInstallInfo</strong></a> function to automatically install your parser, and update the associated INI files. If you install your parser manually, you must update all associated INI files manually.</td>
</tr>
<tr>
<td>Parsing protocol properties</td>
<td>Implement the <a href="attachproperties.html"><strong>AttachProperties</strong></a> function to parse the protocol properties. Avoid using the <a href="attachpropertyinstanceex.html"><strong>AttachPropertyInstanceEx</strong></a> function when you attach a property instance, and use it for only non byte-aligned data, or data that must be decoded. Attaching properties refers to mapping a property instance to a specific location in a capture.</td>
</tr>
<tr>
<td>Parsing protocols that are split between frames</td>
<td>Assume that each piece of the protocol is complete within a frame, and assume that the user calls the Protocol Coalesce tool to combine the pieces into one protocol. Do not look back at a previous frame when parsing a protocol, and avoid trying to reconstruct a protocol that is split between frames.</td>
</tr>
<tr>
<td>Formatting displayed data</td>
<td>Call the <a href="formatpropertyinstance.html"><strong>FormatPropertyInstance</strong></a> function to use the generic formatter to format the data displayed in the details pane of the Network Monitor UI. Avoid writing a custom formatter for UI display data. However, you can call a custom formatter to create a <a href="s.html"><em>summary property</em></a> line for the protocol you are parsing.</td>
</tr>
<tr>
<td>Using CCAlloc</td>
<td>Use CCAlloc when you want Network Monitor to allocate data on a per-capture basis. Network Monitor does not specify the order that frames call the parser.</td>
</tr>
<tr>
<td>Keeping a parser stateless</td>
<td>Keep parser operation stateless because when Network Monitor parses a capture, it does not pass the frames to the parser in a specific order. For this reason, it is recommended that you do not retain global data.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
