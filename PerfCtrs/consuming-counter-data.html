<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Consuming Counter Data</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: 'You can consume performance data by using one of the following interfaces: The Performance Data Helper (PDH) interface, which provides high-level access to data from both version 1 and version 2 performance counter providers.The registry interface, which provides low-level access to data from performance counter providers.The performance library interface, which provides direct access to data from version 2 performance counter providers.The PDH interface is easier to use than the registry interface and is recommended for most performance data collection tasks. The PDH interface is essentially a higher-level abstraction of the functionality that the registry interface provides. Use the performance library interface only if you cannot use the PDH abstraction-layer functions.'
ms.assetid: a42f6cdd-47e9-4f43-aeaf-37a5abb0fa36
title: Consuming Counter Data
ms.topic: article
ms.date: 08/17/2020</h2>
<h1>Consuming Counter Data</h1>
<p>Programs that want to read and make use of Windows Performance Counter data can use one of several interfaces as appropriate for the scenario.</p>
<ul>
<li>Scripts can use the <a href="/windows/desktop/WmiSdk/monitoring-performance-data">WMI Performance Counter Classes</a> or the <a href="/windows-server/administration/windows-commands/typeperf">TypePerf</a> tool.</li>
<li>.NET programs can use the <a href="/dotnet/api/system.diagnostics.performancecounter">PerformanceCounter Class</a>.</li>
<li>The <a href="using-the-pdh-functions-to-consume-counter-data.html">Performance Data Helper (PDH) library</a> provides high-level access to data from both V1 and V2 performance counter providers via a Win32 (C/C++) API.</li>
<li>The <a href="using-the-registry-functions-to-consume-counter-data.html">registry interface</a> provides access to data from both V1 and V2 performance counter providers via the special <code>HKEY_PERFORMANCE_DATA</code> registry key.</li>
<li>The <a href="using-the-perflib-functions-to-consume-counter-data.html">PerfLib V2 Consumer functions</a> provide low-level access to data from V2 performance counter providers via a Win32 (C/C++) API.</li>
</ul>
<p>The PDH interface is recommended for most C/C++ performance data collection tasks because it is easier to use than the registry and PerfLib interfaces.</p>
</body>
