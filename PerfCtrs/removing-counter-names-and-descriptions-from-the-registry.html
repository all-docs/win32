<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Removing Counter Names and Descriptions from the Registry</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The unlodctr tool removes the registry entries created by lodctr.
ms.assetid: 83c0fb91-857c-40d9-8fb8-8734c1b573c4
title: Removing Counter Names and Descriptions from the Registry
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Removing Counter Names and Descriptions from the Registry</h1>
<p>The <strong>unlodctr</strong> tool removes the registry entries created by <strong>lodctr</strong>. The application name that you pass to <strong>unlodctr</strong> must match the <a href="creating-the-applications-performance-key.html">name of the application key</a> that you created under the <strong>Services</strong> key. For details on running <strong>unlodctr</strong> see, Help and Support Center.</p>
<h2>Using unlodctr</h2>
<p>The <strong>unlodctr</strong> tool looks up the first and last counter and help index values using the like named registry values under your application's <strong>Performance</strong> key. The <strong>unlodctr</strong> tool uses the range of index values to remove the text from <strong>Counters</strong> and <strong>Help</strong> values for each language identifier.</p>
<p>Using the index values, <strong>unlodctr</strong> makes the following changes to the registry.</p>
<pre><code>HKEY_LOCAL_MACHINE
Â Â Â \SOFTWARE
Â Â Â Â Â Â \Microsoft
Â Â Â Â Â Â Â Â Â \Windows NT
Â Â Â Â Â Â Â Â Â Â Â Â \CurrentVersion
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â \Perflib
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Last Counter = updated if changed
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Last Help = updated if changed
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â \009
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Counters = application text removed
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Help = application text removed
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â \supported language, other than English
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Counters = application text removed
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Help = application text removed
</code></pre>
<p>The <strong>unlodctr</strong> tool also removes the <strong>First Counter</strong>, <strong>Last Counter</strong>, <strong>First Help</strong>, <strong>Last Help</strong>, and <strong>Object List</strong> values from the application's <strong>Performance</strong> key located at <strong>HKEY_LOCAL_MACHINE</strong>\<strong>SYSTEM</strong>\<strong>CurrentControlSet</strong>\<strong>Services</strong>\<em>application-name</em>\<strong>Performance</strong>.</p>
<blockquote>
<p>[!Note]<br />
The unloading function of <strong>unlodctr</strong>, <a href="/windows/desktop/api/Loadperf/nf-loadperf-unloadperfcountertextstringsa"><strong>UnloadPerfCounterTextStrings</strong></a>, is declared in Loadperf.h and exported from Loadperf.dll. This allows you to call this function directly from your uninstall program.</p>
</blockquote>
<p>Â </p>
<p>Â </p>
<p>Â </p>
</body>
