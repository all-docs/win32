<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>counter Complex Type</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Defines a counter.
ms.assetid: 8f1338c0-7ea6-4d0c-af71-51012973e4a0
title: counter Complex Type
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>kbSyntax
api_name:
api_type:
api_location:</li>
</ul>
<hr />
<h1>counter Complex Type</h1>
<p>Defines a counter.</p>
<pre lang="syntax"><code>&lt;xs:complexType name=&quot;counter&quot;&gt;
    &lt;xs:choice
        minOccurs=&quot;0&quot;
        maxOccurs=&quot;1&quot;
    &gt;
        &lt;xs:element name=&quot;counterAttributes&quot;
            type=&quot;man:counterAttributes&quot;
        &gt;
            &lt;xs:key name=&quot;uniqueCounterAttributeName&quot;&gt;
                &lt;xs:selector
                    xpath=&quot;./man:counterAttribute&quot;
                 /&gt;
                &lt;xs:field
                    xpath=&quot;@name&quot;
                 /&gt;
            &lt;/xs:key&gt;
        &lt;/xs:element&gt;
    &lt;/xs:choice&gt;
    &lt;xs:attribute name=&quot;symbol&quot;
        type=&quot;man:CSymbolType&quot;
        use=&quot;optional&quot;
     /&gt;
    &lt;xs:attribute name=&quot;id&quot;
        type=&quot;man:UInt32Type&quot;
        use=&quot;required&quot;
     /&gt;
    &lt;xs:attribute name=&quot;uri&quot;
        type=&quot;xs:anyURI&quot;
        use=&quot;required&quot;
     /&gt;
    &lt;xs:attribute name=&quot;name&quot;
        use=&quot;optional&quot;
    &gt;
        &lt;xs:simpleType&gt;
            &lt;xs:restriction
                base=&quot;xs:string&quot;
            &gt;
                &lt;xs:maxLength
                    value=&quot;1023&quot;
                 /&gt;
            &lt;/xs:restriction&gt;
        &lt;/xs:simpleType&gt;
    &lt;/xs:attribute&gt;
    &lt;xs:attribute name=&quot;description&quot;
        type=&quot;xs:string&quot;
        use=&quot;optional&quot;
     /&gt;
    &lt;xs:attribute name=&quot;type&quot;
        use=&quot;required&quot;
    &gt;
        &lt;xs:simpleType&gt;
            &lt;xs:restriction
                base=&quot;xs:string&quot;
            &gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_counter&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_timer&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_queuelen_type&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_large_queuelen_type&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_100ns_queuelen_type&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_obj_time_queuelen_type&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_bulk_count&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_text&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_rawcount&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_large_rawcount&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_rawcount_hex&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_large_rawcount_hex&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_sample_fraction&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_sample_counter&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_timer_inv&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_sample_base&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_average_timer&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_average_base&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_average_bulk&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_obj_time_timer&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_100nsec_timer&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_100nsec_timer_inv&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_multi_timer&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_multi_timer_inv&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_multi_base&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_100nsec_multi_timer&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_100nsec_multi_timer_inv&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_raw_fraction&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_large_raw_fraction&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_raw_base&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_large_raw_base&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_elapsed_time&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_delta&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_large_delta&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_precision_system_timer&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_precision_100ns_timer&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_precision_object_timer&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;perf_counter_composite&quot;
                 /&gt;
            &lt;/xs:restriction&gt;
        &lt;/xs:simpleType&gt;
    &lt;/xs:attribute&gt;
    &lt;xs:attribute name=&quot;baseID&quot;
        type=&quot;man:UInt32Type&quot;
        use=&quot;optional&quot;
     /&gt;
    &lt;xs:attribute name=&quot;detailLevel&quot;
        use=&quot;required&quot;
    &gt;
        &lt;xs:simpleType&gt;
            &lt;xs:restriction
                base=&quot;xs:string&quot;
            &gt;
                &lt;xs:enumeration
                    value=&quot;standard&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;advanced&quot;
                 /&gt;
            &lt;/xs:restriction&gt;
        &lt;/xs:simpleType&gt;
    &lt;/xs:attribute&gt;
    &lt;xs:attribute name=&quot;defaultScale&quot;
        use=&quot;optional&quot;
        default=&quot;0&quot;
    &gt;
        &lt;xs:simpleType&gt;
            &lt;xs:restriction
                base=&quot;xs:integer&quot;
            &gt;
                &lt;xs:minInclusive
                    value=&quot;-10&quot;
                 /&gt;
                &lt;xs:maxInclusive
                    value=&quot;10&quot;
                 /&gt;
            &lt;/xs:restriction&gt;
        &lt;/xs:simpleType&gt;
    &lt;/xs:attribute&gt;
    &lt;xs:attribute name=&quot;aggregate&quot;
        use=&quot;optional&quot;
    &gt;
        &lt;xs:simpleType&gt;
            &lt;xs:restriction
                base=&quot;xs:string&quot;
            &gt;
                &lt;xs:enumeration
                    value=&quot;sum&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;avg&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;max&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;min&quot;
                 /&gt;
                &lt;xs:enumeration
                    value=&quot;undefined&quot;
                 /&gt;
            &lt;/xs:restriction&gt;
        &lt;/xs:simpleType&gt;
    &lt;/xs:attribute&gt;
    &lt;xs:attribute name=&quot;perfTimeID&quot;
        type=&quot;man:UInt32Type&quot;
        use=&quot;optional&quot;
     /&gt;
    &lt;xs:attribute name=&quot;perfFreqID&quot;
        type=&quot;man:UInt32Type&quot;
        use=&quot;optional&quot;
     /&gt;
    &lt;xs:attribute name=&quot;multiCounterID&quot;
        type=&quot;man:UInt32Type&quot;
        use=&quot;optional&quot;
     /&gt;
    &lt;xs:attribute name=&quot;struct&quot;
        type=&quot;man:CSymbolType&quot;
        use=&quot;optional&quot;
     /&gt;
    &lt;xs:attribute name=&quot;field&quot;
        type=&quot;man:CSymbolType&quot;
        use=&quot;optional&quot;
     /&gt;
&lt;/xs:complexType&gt;
</code></pre>
<h2>Child elements</h2>
<table>
<thead>
<tr>
<th>Element</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>counterAttributes</strong></td>
<td><a href="performance-counters-counterattributes-complex-type.html"><strong>man:counterAttributes</strong></a></td>
<td>Lists the unique attributes that specify how the counter data is displayed in a consumer application.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Attributes</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>aggregate</td>
<td>The aggregation function to apply if the <!-- raw HTML omitted -->instances<!-- raw HTML omitted --> attribute of <!-- raw HTML omitted --><!-- raw HTML omitted -->counterSet<!-- raw HTML omitted --><!-- raw HTML omitted --> is globalAggregate, multipleAggregate, or globalAggregateHistory. The following are the possible aggregation functions that you can apply:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->max<!-- raw HTML omitted --><!-- raw HTML omitted --> The maximum counter value is returned.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->min<!-- raw HTML omitted --><!-- raw HTML omitted --> The minimum counter value is returned.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->avg<!-- raw HTML omitted --><!-- raw HTML omitted --> The average counter value is returned.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->sum<!-- raw HTML omitted --><!-- raw HTML omitted --> The sum of the counter values is returned.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->undefined<!-- raw HTML omitted --><!-- raw HTML omitted --> Do not aggregate this counter.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td></td>
</tr>
<tr>
<td>baseID</td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->man:UInt32Type<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>The identifier of another counter within the same counter set, whose value is used to calculate this counter's value. The following counter types require a base counter:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_AVERAGE_TIMER<!-- raw HTML omitted --><!-- raw HTML omitted --> Requires the PERF_AVERAGE_BASE base counter.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_AVERAGE_BULK<!-- raw HTML omitted --><!-- raw HTML omitted --> Requires the PERF_AVERAGE_BASE base counter.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_COUNTER_MULTI_TIMER_INV<!-- raw HTML omitted --><!-- raw HTML omitted --> Requires the PERF_COUNTER_MULTI_BASE base counter.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_LARGE_RAW_FRACTION<!-- raw HTML omitted --><!-- raw HTML omitted --> Requires the PERF_LARGE_RAW_BASE base counter.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_PRECISION_100NS_TIMER<!-- raw HTML omitted --><!-- raw HTML omitted --> Requires the PERF_LARGE_RAW_BASE base counter.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_RAW_FRACTION<!-- raw HTML omitted --><!-- raw HTML omitted --> Requires the PERF_RAW_BASE base counter.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_SAMPLE_FRACTION<!-- raw HTML omitted --><!-- raw HTML omitted --> Requires the PERF_SAMPLE_BASE base counter.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>defaultScale</td>
<td>The scale factor to apply to the counter value (factor * counter value). The default is zero if no scale is applied. Valid values range from  10 to 10 (0.0000000001 to 1000000000). If this value is zero, the scale value is 1; if this value is 1, the scale value is 10; if this value is  1, the scale value is .10; and so on.<!-- raw HTML omitted --></td>
<td></td>
</tr>
<tr>
<td>description</td>
<td><!-- raw HTML omitted -->xs:string<!-- raw HTML omitted --></td>
<td>A short description of the counter. You do not have to specify this attribute if the counter includes the <!-- raw HTML omitted --><!-- raw HTML omitted -->noDisplay<!-- raw HTML omitted --><!-- raw HTML omitted --> attribute.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>detailLevel</td>
<td>Specifies the target audience for the counter details. The following are the possible values:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->standard<!-- raw HTML omitted --><!-- raw HTML omitted --> Display details about the counter that a typical user would understand.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->advanced<!-- raw HTML omitted --><!-- raw HTML omitted --> Display details about the counter that only an advanced user would understand.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td></td>
</tr>
<tr>
<td>field</td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->man:CSymbolType<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>The name of a field within the struct that contains the counter value. This attribute is not allowed for user-mode providers.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>id</td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->man:UInt32Type<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>A unique number that identifies the counter within the counter set.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>multiCounterID</td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->man:UInt32Type<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>The identifier of another counter within the same counter set, whose multiplier value is used to calculate this counter's value. The following counter types require a multiplier value. The referenced counter must be of type PERF_COUNTER_RAWCOUNT.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_COUNTER_MULTI_TIMER<!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_COUNTER_MULTI_TIMER_INV<!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_100NSEC_MULTI_TIMER<!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_100NSEC_MULTI_TIMER_INV<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>name</td>
<td>The name of the counter. The name must be unique and less than 1,024 characters. The name is case-sensitive. You do not have to specify this attribute if the counter includes the <!-- raw HTML omitted --><!-- raw HTML omitted -->noDisplay<!-- raw HTML omitted --><!-- raw HTML omitted --> attribute.<!-- raw HTML omitted --></td>
<td></td>
</tr>
<tr>
<td>perfFreqID</td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->man:UInt32Type<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>The identifier of another counter within the same counter set, whose frequency value is used to calculate this counter's value. The following counter types require a frequency. The PERF_COUNTER_LARGE_RAWCOUNT counter type contains the time stamp value.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_COUNTER_OBJECT_TIME_QUEUELEN_TYPE<!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_ELAPSED_TIME<!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_OBJ_TIME_TIMER<!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_PRECISION_OBJECT_TIMER<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>perfTimeID</td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->man:UInt32Type<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>The identifier of another counter within the same counter set, whose time stamp value is used to calculate this counter's value. The following counter types require a time stamp. The PERF_COUNTER_LARGE_RAWCOUNT counter type contains the time stamp value.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_COUNTER_OBJECT_TIME_QUEUELEN_TYPE<!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_ELAPSED_TIME<!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_OBJ_TIME_TIMER<!-- raw HTML omitted --><!-- raw HTML omitted -->PERF_PRECISION_OBJECT_TIMER<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>struct</td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->man:CSymbolType<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>The name of a struct element that contains this counter value. This attribute is not allowed for user-mode providers.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>symbol</td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted -->man:CSymbolType<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
<td>A symbolic name that identifies the counter. The <!-- raw HTML omitted -->CTRPP<!-- raw HTML omitted --> tool creates a constant that you can use when calling functions that require a counter identifier (for example, <!-- raw HTML omitted --><!-- raw HTML omitted -->PerfIncrementULongCounterValue<!-- raw HTML omitted --><!-- raw HTML omitted -->). The name of the constant is the symbolic name.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>type</td>
<td>The name of the counter type. For possible values, see the above syntax block. For details of each type, see <!-- raw HTML omitted -->Counter Types<!-- raw HTML omitted --> in the Windows 2003 Deployment Guide. The name is case-sensitive use lowercase. <!-- raw HTML omitted --></td>
<td></td>
</tr>
<tr>
<td>uri</td>
<td><!-- raw HTML omitted -->xs:anyURI<!-- raw HTML omitted --></td>
<td>A unique uniform resource identifier that lets users retrieve counter values from any location.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>To provide backwards-compatibility, each counter in the counter set should specify the same <strong>perfFreqID</strong> and <strong>perfTimeID</strong> values.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2008 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
</body>
