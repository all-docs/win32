<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>DsBackupRead function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: DsBackupRead function (Ntdsbcli.h)
description: Reads a block of data from the current open file, into a buffer.
ms.assetid: 01576d41-3cd6-4540-966b-7d98561f7b8c
ms.tgt_platform: multiple
keywords:</p>
<ul>
<li>DsBackupRead function Active Directory
topic_type:</li>
<li>apiref
api_name:</li>
<li>DsBackupRead
api_location:</li>
<li>Ntdsbcli.dll
api_type:</li>
<li>DllExport
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>DsBackupRead function</h1>
<p>[This function is available for use in the operating systems specified in the Requirements section. It may be altered or unavailable in subsequent versions. Beginning with Windows Vista, use <a href="../vss/volume-shadow-copy-service-overview.html">Volume Shadow Copy Service (VSS)</a> instead.]</p>
<p>The <strong>DsBackupRead</strong> function reads a block of data from the current open file, into a buffer. The client application is expected to call this function repeatedly until the entire backup file has been received. The <a href="dsbackupopenfile.html"><strong>DsBackupOpenFile</strong></a> function provides the entire size of the backup file.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT DsBackupRead(
  _In_  HBC    hbc,
  _In_  PVOID  pvBuffer,
  _In_  DWORD  cbBuffer,
  _Out_ PDWORD pcbRead
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>hbc</em> [in]</p>
<!-- raw HTML omitted -->
<p>Contains the backup context handle obtained with the <a href="dsbackupprepare.html"><strong>DsBackupPrepare</strong></a> function.</p>
<!-- raw HTML omitted -->
<p><em>pvBuffer</em> [in]</p>
<!-- raw HTML omitted -->
<p>Pointer to a buffer that receives the data. This buffer must be at least <em>cbBuffer</em> bytes in size.</p>
<!-- raw HTML omitted -->
<p><em>cbBuffer</em> [in]</p>
<!-- raw HTML omitted -->
<p>Contains the size, in bytes, of the buffer at <em>pvBuffer</em>. This value must be a multiple of 8192 and must be greater than or equal to 24576.</p>
<!-- raw HTML omitted -->
<p><em>pcbRead</em> [out]</p>
<!-- raw HTML omitted -->
<p>Pointer to a <strong>DWORD</strong> value that receives the actual number of bytes read. This may be less than the number of bytes requested because some transports fragment the buffer being transmitted instead of filling the entire buffer with data.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Returns <strong>S_OK</strong> if the function is successful or a Win32 or RPC error code otherwise. Possible error codes include the following.</p>
<!-- raw HTML omitted -->
<p><strong>ERROR_INVALID_PARAMETER</strong></p>
<!-- raw HTML omitted -->
<p>One or more parameters are not valid.</p>
<!-- raw HTML omitted -->
<p><strong>ERROR_HANDLE_EOF</strong></p>
<!-- raw HTML omitted -->
<p>The end of the backup file was reached.</p>
<!-- raw HTML omitted -->
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows Vista<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2008<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Ntdsbcli.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Ntdsbcli.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Ntdsbcli.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="dsbackupopenfile.html"><strong>DsBackupOpenFile</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="dsbackupprepare.html"><strong>DsBackupPrepare</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="dsbackupfree.html"><strong>DsBackupFree</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="backing-up-an-active-directory-server.html">Backing Up an Active Directory Server</a></p>
<!-- raw HTML omitted -->
<p><a href="directory-backup-functions.html">Directory Backup Functions</a></p>
<!-- raw HTML omitted -->
</body>
