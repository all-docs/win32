<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>When Referrals Are Generated</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: When Referrals Are Generated
description: A referral is the way that a directory server communicates that it does not contain the data required to complete a query, but has a reference to a server that may contain the required data.
ms.assetid: 2c11a52a-26e2-4a50-a0a3-5463a0852b27
ms.tgt_platform: multiple
keywords:</p>
<ul>
<li>referral generation Active Directory
ms.topic: article
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>When Referrals Are Generated</h1>
<p>A referral is the way that a directory server communicates that it does not contain the data required to complete a query, but has a reference to a server that may contain the required data. Be aware that referrals are not just generated by query requests.</p>
<p>The following operations can result in one or more referrals:</p>
<ul>
<li>
<p>Binding to a server that does not contain the object specified by the requested distinguished name but has data about a server or domain that may contain that object. For ADSI, this can occur if the application calls <a href="/windows/desktop/api/adshlp/nf-adshlp-adsgetobject"><strong>ADsGetObject</strong></a> or <a href="/windows/desktop/api/adshlp/nf-adshlp-adsopenobject"><strong>ADsOpenObject</strong></a> to bind to an object that exists in another domain in the forest (internal referral) or a naming context that is completely separate from the forest (external referral). For the LDAP API, this can occur when performing add, modify, delete, or search operations that specify an object that exists in another domain in the forest (internal referral) or a naming context that is completely separate from the forest (external referral).</p>
<p>If name resolution fails to find an object locally and there are no <strong>crossRef</strong> objects for that portion of the namespace, the domain controller will attempt to construct an external referral based on the domain components of the distinguished name. For example, if a search was based at &quot;CN=a,CN=b,DC=c,DC=d,DC=e&quot;, the domain controller will construct a referral to the LDAP server at DNS address &quot;c.d.e&quot;.</p>
<p>All WindowsÂ 2000 domain controllers (which support only DC= naming for the upper components) recognize each other, and no external cross references are required for a client to bind from one forest to another. If other non-WindowsÂ 2000 directory servers, such as a Netscape server, is using DC= naming and has an appropriate SRV RR registered in DNS, it will get the advantage of the automatic referrals as well. If not, an external <strong>crossRef</strong> object must be added manually.</p>
</li>
<li>
<p>Performing a subtree search on a domain that contains subordinate domains in the forest or subordinate external domains, schema, or configuration containers. A referral to the subordinate domain, external domain, schema or configuration container will be created. If referral chasing is enabled, the referral will be transparent to the caller.</p>
</li>
</ul>
<p>Â </p>
<p>Â </p>
</body>
