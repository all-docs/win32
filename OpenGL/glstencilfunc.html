<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>glStencilFunc function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: glStencilFunc function (Gl.h)
description: The glStencilFunc function sets the function and reference value for stencil testing.
ms.assetid: 6c84415b-4d22-494b-90f2-6243d1406725
keywords:</p>
<ul>
<li>glStencilFunc function OpenGL
topic_type:</li>
<li>apiref
api_name:</li>
<li>glStencilFunc
api_location:</li>
<li>opengl32.dll
api_type:</li>
<li>DllExport
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>glStencilFunc function</h1>
<p>The <strong>glStencilFunc</strong> function sets the function and reference value for stencil testing.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>void WINAPI glStencilFunc(
   GLenum func,
   GLint  ref,
   GLuint mask
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>func</em></p>
<!-- raw HTML omitted -->
<p>The test function. The following eight tokens are valid.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>GL_NEVER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Always fails.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>GL_LESS</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Passes if (<em>ref</em> &amp; <em>mask</em>) <!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>GL_LEQUAL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Passes if (<em>ref</em> &amp; <em>mask</em>) = (<em>stencil</em> &amp; <em>mask</em>).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>GL_GREATER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Passes if (<em>ref</em> &amp; <em>mask</em>) &gt; (<em>stencil</em> &amp; <em>mask</em>).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>GL_GEQUAL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Passes if (<em>ref</em> &amp; <em>mask</em>) = (<em>stencil</em> &amp; <em>mask</em>).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>GL_EQUAL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Passes if (<em>ref</em> &amp; <em>mask</em>) = (<em>stencil</em> &amp; <em>mask</em>).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>GL_NOTEQUAL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Passes if (<em>ref</em> &amp; <em>mask</em>) ? (<em>stencil</em> &amp; <em>mask</em>).<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>GL_ALWAYS</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>Always passes.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<p><em>ref</em></p>
<!-- raw HTML omitted -->
<p>The reference value for the stencil test. The <em>ref</em> parameter is clamped to the range [0, 2<em>n</em> 1], where <em>n</em> is the number of bitplanes in the stencil buffer.</p>
<!-- raw HTML omitted -->
<p><em>mask</em></p>
<!-- raw HTML omitted -->
<p>A mask that is <strong>AND</strong>ed with both the reference value and the stored stencil value when the test is done.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>This function does not return a value.</p>
<h2>Error codes</h2>
<p>The following error codes can be retrieved by the <a href="glgeterror.html"><strong>glGetError</strong></a> function.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>GL_INVALID_ENUM</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td><em>func</em> was not one of the eight accepted values.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>GL_INVALID_OPERATION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The function was called between a call to <a href="glbegin.html"><strong>glBegin</strong></a> and the corresponding call to <a href="glend.html"><strong>glEnd</strong></a>.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>Stenciling, like <em>z</em>-buffering, enables and disables drawing on a per-pixel basis. You draw into the stencil planes using OpenGL drawing primitives, then render geometry and images, using the stencil planes to mask out portions of the screen. Stenciling is typically used in multipass rendering algorithms to achieve special effects, such as decals, outlining, and constructive solid geometry rendering.</p>
<p>The stencil test conditionally eliminates a pixel based on the outcome of a comparison between the reference value and the value in the stencil buffer. The test is enabled by <a href="glenable.html"><strong>glEnable</strong></a> and <a href="gldisable.html"><strong>glDisable</strong></a> with argument GL_STENCIL_TEST. Actions taken based on the outcome of the stencil test are specified with <a href="glstencilop.html"><strong>glStencilOp</strong></a>.</p>
<p>The <em>func</em> parameter is a symbolic constant that determines the stencil comparison function. It accepts one of the eight values shown above. The <em>ref</em> parameter is an integer reference value that is used in the stencil comparison. It is clamped to the range [0, 2<em>n</em> 1], where <em>n</em> is the number of bitplanes in the stencil buffer. The <em>mask</em> parameter is bitwise <strong>AND</strong>ed with both the reference value and the stored stencil value, with the <strong>AND</strong>ed values participating in the comparison.</p>
<p>If <em>stencil</em> represents the value stored in the corresponding stencil buffer location, the preceding list shows the effect of each comparison function that can be specified by <em>func</em>. Only if the comparison succeeds is the pixel passed through to the next stage in the rasterization process (see <a href="glstencilop.html"><strong>glStencilOp</strong></a>). All tests treat <em>stencil</em> values as unsigned integers in the range [0, 2<em>n</em> 1], where <em>n</em> is the number of bitplanes in the stencil buffer.</p>
<p>Initially, the stencil test is disabled. If there is no stencil buffer, no stencil modification can occur and it is as if the stencil test always passes.</p>
<p>The following functions retrieve information related to <strong>glStencilFunc</strong>:</p>
<p><a href="glgetbooleanv--glgetdoublev--glgetfloatv--glgetintegerv.html"><strong>glGet</strong></a> with argument GL_STENCIL_FUNC</p>
<p><strong>glGet</strong> with argument GL_STENCIL_VALUE_MASK</p>
<p><strong>glGet</strong> with argument GL_STENCIL_REF</p>
<p><strong>glGet</strong> with argument GL_STENCIL_BITS</p>
<p><a href="glisenabled.html"><strong>glIsEnabled</strong></a> with argument GL_STENCIL_TEST</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows 2000 Professional [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows 2000 Server [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Gl.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Opengl32.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>DLL<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Opengl32.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="glalphafunc.html"><strong>glAlphaFunc</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="glbegin.html"><strong>glBegin</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="glblendfunc.html"><strong>glBlendFunc</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="gldepthfunc.html"><strong>glDepthFunc</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="glenable.html"><strong>glEnable</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="glend.html"><strong>glEnd</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="glisenabled.html"><strong>glIsEnabled</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="gllogicop.html"><strong>glLogicOp</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="glstencilop.html"><strong>glStencilOp</strong></a></p>
<!-- raw HTML omitted -->
</body>
