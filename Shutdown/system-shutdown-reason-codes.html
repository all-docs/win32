<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>System Shutdown Reason Codes</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The shutdown reason codes are used by the ExitWindowsEx and InitiateSystemShutdownEx functions in the dwReason parameter. A maximum of MAX_NUM_REASONS reason codes will be processed by the system. MAX_NUM_REASONS is defined in reason.h.
ms.assetid: db1ecee0-40eb-4761-b5d8-9cc3c1c98cdf
title: System Shutdown Reason Codes (Reason.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>System Shutdown Reason Codes</h1>
<p>The shutdown reason codes are used by the <a href="/windows/desktop/api/Winuser/nf-winuser-exitwindowsex"><strong>ExitWindowsEx</strong></a> and <a href="/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdownexa"><strong>InitiateSystemShutdownEx</strong></a> functions in the <em>dwReason</em> parameter.</p>
<p>A maximum of MAX_NUM_REASONS reason codes will be processed by the system. MAX_NUM_REASONS is defined in reason.h.</p>
<p>The following are the major reason flags. They indicate the general issue type.</p>
<table>
<thead>
<tr>
<th align="left">Constant/value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MAJOR_APPLICATION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00040000<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Application issue.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MAJOR_HARDWARE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00010000<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Hardware issue.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MAJOR_LEGACY_API</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00070000<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">The <a href="/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdowna"><strong>InitiateSystemShutdown</strong></a> function was used instead of <a href="/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdownexa"><strong>InitiateSystemShutdownEx</strong></a>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MAJOR_OPERATINGSYSTEM</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00020000<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Operating system issue.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MAJOR_OTHER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000000<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Other issue.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MAJOR_POWER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00060000<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Power failure.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MAJOR_SOFTWARE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00030000<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Software issue.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MAJOR_SYSTEM</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00050000<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">System failure.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>The following are the minor reason flags. They modify the specified major reason flag. You can use any minor reason in conjunction with any major reason, but some combinations do not make sense.</p>
<table>
<thead>
<tr>
<th align="left">Constant/value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_BLUESCREEN</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0000000F<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Blue screen crash event.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_CORDUNPLUGGED</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0000000b<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Unplugged.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_DISK</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000007<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Disk.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_ENVIRONMENT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0000000c<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Environment.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_HARDWARE_DRIVER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0000000d<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Driver.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_HOTFIX</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000011<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Hot fix.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_HOTFIX_UNINSTALL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000017<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Hot fix uninstallation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_HUNG</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000005<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Unresponsive.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_INSTALLATION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000002<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Installation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_MAINTENANCE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000001<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Maintenance.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_MMC</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000019<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">MMC issue.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_NETWORK_CONNECTIVITY</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000014<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Network connectivity.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_NETWORKCARD</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000009<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Network card.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_OTHER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000000<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Other issue.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_OTHERDRIVER</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0000000e<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Other driver event.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_POWER_SUPPLY</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x0000000a<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Power supply.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_PROCESSOR</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000008<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Processor.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_RECONFIG</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000004<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Reconfigure.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_SECURITY</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000013<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Security issue.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_SECURITYFIX</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000012<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Security patch.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_SECURITYFIX_UNINSTALL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000018<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Security patch uninstallation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_SERVICEPACK</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000010<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Service pack.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_SERVICEPACK_UNINSTALL</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000016<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Service pack uninstallation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_TERMSRV</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000020<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Terminal Services.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_UNSTABLE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000006<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Unstable.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_UPGRADE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000003<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">Upgrade.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_MINOR_WMI</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x00000015<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">WMI issue.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>The following optional flags provide additional information about the event.</p>
<table>
<thead>
<tr>
<th align="left">Constant/value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_FLAG_USER_DEFINED</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x40000000<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">The reason code is defined by the user. For more information, see Defining a Custom Reason Code. <!-- raw HTML omitted --> If this flag is not present, the reason code is defined by the system.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>SHTDN_REASON_FLAG_PLANNED</strong><!-- raw HTML omitted --> <!-- raw HTML omitted -->0x80000000<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td align="left">The shutdown was planned. The system generates a System State Data (SSD) file. This file contains system state information such as the processes, threads, memory usage, and configuration. <!-- raw HTML omitted --> If this flag is not present, the shutdown was unplanned. Notification and reporting options are controlled by a set of policies. For example, after logging in, the system displays a dialog box reporting the unplanned shutdown if the policy has been enabled. An SSD file is created only if the SSD policy is enabled on the system. The administrator can use <a href="../wer/windows-error-reporting.html">Windows Error Reporting</a> to send the SSD data to a central location, or to Microsoft.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>The following combinations are recognized by the system. The table indicates the string that is displayed in the Shutdown Event Tracker, and provides a more detailed description. The default string is &quot;No title for this reason could be found.&quot;</p>
<table>
<thead>
<tr>
<th>Combination</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SHTDN_REASON_MAJOR_APPLICATION | SHTDN_REASON_MINOR_HUNG</td>
<td>&quot;Application: Unresponsive&quot; An unplanned restart or shutdown to troubleshoot an unresponsive application.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_APPLICATION | SHTDN_REASON_MINOR_INSTALLATION | SHTDN_REASON_FLAG_PLANNED</td>
<td>&quot;Application: Installation (Planned)&quot; A planned restart or shutdown to perform application installation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_APPLICATION | SHTDN_REASON_MINOR_MAINTENANCE</td>
<td>&quot;Application: Maintenance (Unplanned)&quot; An unplanned restart or shutdown to service an application.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_APPLICATION | SHTDN_REASON_MINOR_MAINTENANCE | SHTDN_REASON_FLAG_PLANNED</td>
<td>&quot;Application: Maintenance (Planned)&quot; A planned restart or shutdown to perform planned maintenance on an application.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_APPLICATION | SHTDN_REASON_MINOR_UNSTABLE</td>
<td>&quot;Application: Unstable&quot; An unplanned restart or shutdown to troubleshoot an unstable application.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_HARDWARE | SHTDN_REASON_MINOR_INSTALLATION</td>
<td>&quot;Hardware: Installation (Unplanned)&quot; An unplanned restart or shutdown to begin or complete hardware installation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_HARDWARE | SHTDN_REASON_MINOR_INSTALLATION | SHTDN_REASON_FLAG_PLANNED</td>
<td>&quot;Hardware: Installation (Planned)&quot; A planned restart or shutdown to begin or complete hardware installation.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_HARDWARE | SHTDN_REASON_MINOR_MAINTENANCE</td>
<td>&quot;Hardware: Maintenance (Unplanned)&quot; An unplanned restart or shutdown to service hardware on the system.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_HARDWARE | SHTDN_REASON_MINOR_MAINTENANCE | SHTDN_REASON_FLAG_PLANNED</td>
<td>&quot;Hardware: Maintenance (Planned)&quot; A planned restart or shutdown to service hardware on the system.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_LEGACY_API</td>
<td>&quot;Legacy API shutdown&quot; This shutdown was initiated by the legacy <a href="/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdowna"><strong>InitiateSystemShutdown</strong></a> function. Applications should use the <a href="/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdownexa"><strong>InitiateSystemShutdownEx</strong></a> function.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_OPERATINGSYSTEM | SHTDN_REASON_MINOR_HOTFIX</td>
<td>&quot;Operating System: Hot fix (Unplanned)&quot; An unplanned restart or shutdown to install a hot fix.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_OPERATINGSYSTEM | SHTDN_REASON_MINOR_HOTFIX | SHTDN_REASON_FLAG_PLANNED</td>
<td>&quot;Operating System: Hot fix (Planned)&quot; A planned restart or shutdown to install a hot fix.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_OPERATINGSYSTEM | SHTDN_REASON_MINOR_RECONFIG</td>
<td>&quot;Operating System: Reconfiguration (Unplanned)&quot; An unplanned restart or shutdown to change the operating system configuration.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_OPERATINGSYSTEM | SHTDN_REASON_MINOR_RECONFIG | SHTDN_REASON_FLAG_PLANNED</td>
<td>&quot;Operating System: Reconfiguration (Planned)&quot; A planned restart or shutdown to change the operating system configuration.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_OPERATINGSYSTEM | SHTDN_REASON_MINOR_SECURITYFIX</td>
<td>&quot;Operating System: Security fix (Unplanned)&quot; An unplanned restart or shutdown to install a security patch.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_OPERATINGSYSTEM | SHTDN_REASON_MINOR_SECURITYFIX | SHTDN_REASON_FLAG_PLANNED</td>
<td>&quot;Operating System: Security fix (Planned)&quot; A planned restart or shutdown to install a security patch.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_OPERATINGSYSTEM | SHTDN_REASON_MINOR_SERVICEPACK | SHTDN_REASON_FLAG_PLANNED</td>
<td>&quot;Operating System: Service pack (Planned)&quot; A planned restart or shutdown to install a service pack.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_OPERATINGSYSTEM | SHTDN_REASON_MINOR_UPGRADE | SHTDN_REASON_FLAG_PLANNED</td>
<td>&quot;Operating System: Upgrade (Planned)&quot; A planned restart or shutdown to upgrade the operating system configuration.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_OTHER | SHTDN_REASON_MINOR_OTHER</td>
<td>&quot;Other (Unplanned)&quot; An unplanned shutdown or restart.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_OTHER | SHTDN_REASON_MINOR_OTHER | SHTDN_REASON_FLAG_PLANNED</td>
<td>&quot;Other (Planned)&quot; A planned shutdown or restart.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_OTHER | SHTDN_REASON_MINOR_HUNG</td>
<td>&quot;Other Failure: System Unresponsive&quot; The system became unresponsive.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_POWER | SHTDN_REASON_MINOR_CORDUNPLUGGED</td>
<td>&quot;Power Failure: Cord Unplugged&quot; The computer was unplugged.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_POWER | SHTDN_REASON_MINOR_ENVIRONMENT</td>
<td>&quot;Power Failure: Environment&quot; There was a power outage.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_SYSTEM | SHTDN_REASON_MINOR_BLUESCREEN</td>
<td>&quot;System Failure: Stop error&quot; The computer displayed a blue screen crash event.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_SYSTEM | SHTDN_REASON_MINOR_NETWORK_CONNECTIVITY</td>
<td>&quot;Loss of network connectivity (Unplanned)&quot; The computer needs to be shut down due to a network connectivity issue.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>SHTDN_REASON_MAJOR_SYSTEM | SHTDN_REASON_MINOR_SECURITY</td>
<td>&quot;Security issue&quot; The computer needs to be shut down due to a security issue.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>You can also define your own shutdown reasons and add them to the registry. Each reason code should be stored as a registry value in the following key:<strong>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Reliability\UserDefined\<!-- raw HTML omitted --></strong></p>
<p>This key contains value names of the following form: <em>xxxxx</em>;<em>nnn</em>;<em>nnnnn</em>. The semicolons delimit the components of a value name.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>xxxxx</em></p>
<!-- raw HTML omitted -->
<p>One to five of the following control flags (no other characters can be used).</p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>P</td>
<td>Planned shutdown; otherwise, an unplanned shutdown.</td>
</tr>
<tr>
<td>C</td>
<td>A comment is required. This flag must be used with S.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>B</td>
<td>An ID is required. This flag must be used with D.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>S</td>
<td>Display the expected shutdown dialog box. Either S, D, or both S and D must be used.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>D</td>
<td>Display the unexpected shutdown dialog box. Either S, D, or both S and D must be used.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The order in which the flags are used is not important. For example, CSP indicates a planned shutdown where the expected shutdown dialog box is displayed, and a comment is required.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>nnn</em></p>
<!-- raw HTML omitted -->
<p>Major reason. This component must be a number in the range 64-255. The range 0-63 is reserved for use by the system.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><em>nnnnn</em></p>
<!-- raw HTML omitted -->
<p>Minor reason. This component must be in the range 0-65535.</p>
<!-- raw HTML omitted -->
<p>Custom reasons are sorted in the user interface by major reason number, then by minor reason number. No two custom reasons can use the same major and minor reasons, unless one is planned and the other is unplanned. Otherwise, the system will use the first instance and ignore the others.</p>
<p>The data for each registry value is two strings, separated by \n\r. The first string is a title string to be displayed in the shutdown dialog box, and written to the event log. The maximum size is 64 characters. Title strings must be unique. Custom titles cannot match the standard titles defined by the system, or another custom title. The second string is a description string to be displayed in the shutdown dialog box; it is optional. The maximum size is 256 characters.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ XP [desktop apps | UWP apps]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2003 [desktop apps | UWP apps]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Reason.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>Â </p>
</body>
