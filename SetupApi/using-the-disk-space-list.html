<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Using the Disk-Space List</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Before you can add or remove file operations from the disk-space list, you must create it by using the SetupCreateDiskSpaceList function.
ms.assetid: 287fd84a-dc8c-4a5c-b998-db5f2fbee5f1
title: Using the Disk-Space List
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Using the Disk-Space List</h1>
<p>Before you can add or remove file operations from the disk-space list, you must create it by using the <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupcreatediskspacelista"><strong>SetupCreateDiskSpaceList</strong></a> function.</p>
<p>After you create a disk-space list you can add individual file copy or delete operations to the list by using <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupaddtodiskspacelista"><strong>SetupAddToDiskSpaceList</strong></a>. To add all the file copy or delete operations in an entire INF section, use either the <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupaddsectiontodiskspacelista"><strong>SetupAddSectionToDiskSpaceList</strong></a> or <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupaddinstallsectiontodiskspacelista"><strong>SetupAddInstallSectionToDiskSpaceList</strong></a> function.</p>
<p>After you add all the installation operations to the disk-space list, you can query it to find out how much disk space is required for the specified installation by using the <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupqueryspacerequiredondrivea"><strong>SetupQuerySpaceRequiredOnDrive</strong></a> function.</p>
<p>The <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupquerydrivesindiskspacelista"><strong>SetupQueryDrivesInDiskSpaceList</strong></a> function returns the drive specifications for each target drive referenced in the file operations on the disk-space list. You can use this information to programmatically compare the available space on these drives with the space required by the installation.</p>
<p>To remove a file operation from the disk-space list, use the <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupremovefromdiskspacelista"><strong>SetupRemoveFromDiskSpaceList</strong></a> function. To remove all file copy or delete operations from an entire INF section, use the <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupremovesectionfromdiskspacelista"><strong>SetupRemoveSectionFromDiskSpaceList</strong></a> or <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupremoveinstallsectionfromdiskspacelista"><strong>SetupRemoveInstallSectionFromDiskSpaceList</strong></a> function.</p>
<p>After the disk-space list is no longer required, you can release the resources allocated to it by calling the <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupdestroydiskspacelist"><strong>SetupDestroyDiskSpaceList</strong></a> function.</p>
<p>Â </p>
<p>Â </p>
</body>
