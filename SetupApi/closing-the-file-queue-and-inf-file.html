<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Closing the File Queue and INF File</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: After the queue has finished committing its operations, it should be closed using the SetupCloseFileQueue function with the handle that was created by SetupOpenFileQueue.
ms.assetid: 4cb21699-e476-4832-9678-2bf36f3bda08
title: Closing the File Queue and INF File
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Closing the File Queue and INF File</h1>
<p>After the queue has finished committing its operations, it should be closed using the <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupclosefilequeue"><strong>SetupCloseFileQueue</strong></a> function with the handle that was created by <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupopenfilequeue"><strong>SetupOpenFileQueue</strong></a>. The default queue callback must be destroyed and recreated before another queue can be committed.</p>
<p>If a default context was initiated for use by the default callback routine, it should also be terminated by calling the <a href="/windows/desktop/api/Setupapi/nf-setupapi-setuptermdefaultqueuecallback"><strong>SetupTermDefaultQueueCallback</strong></a> function. The <em>Context</em> is a pointer to the structure returned by the <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupinitdefaultqueuecallback"><strong>SetupInitDefaultQueueCallback</strong></a> function.</p>
<p>When access to the INF information is no longer needed, call the <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupcloseinffile"><strong>SetupCloseInfFile</strong></a> function with the handle that was created by <a href="/windows/desktop/api/Setupapi/nf-setupapi-setupopenfilequeue"><strong>SetupOpenFileQueue</strong></a> to free system resources.</p>
<p>Â </p>
<p>Â </p>
</body>
