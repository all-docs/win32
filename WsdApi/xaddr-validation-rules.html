<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>XAddr Validation Rules</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Transport addresses (XAddrs) included in ProbeMatches and ResolveMatches messages are subject to basic validation before WSDAPI sends an HTTP message, such as a metadata request.
ms.assetid: 6b5139b5-aa31-42bc-a281-8784006edfbe
title: XAddr Validation Rules
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>XAddr Validation Rules</h1>
<p>Transport addresses (XAddrs) included in <a href="probematches-message.html">ProbeMatches</a> and <a href="resolvematches-message.html">ResolveMatches</a> messages are subject to basic validation before WSDAPI sends an HTTP message, such as a metadata request.</p>
<p>This is in order to ensure that the XAddrs are on the same subnet as the client.</p>
<p>The following XML shows a sample XAddrs element. The wsd prefix refers to the namespace <code>https://schemas.xmlsoap.org/ws/2005/04/discovery</code>.</p>
<pre lang="syntax"><code>&lt;wsd:XAddrs&gt;
    https://192.168.0.2:5357/37f86d35-e6ac-4241-964f-1d9ae46fb366
&lt;/wsd:XAddrs&gt;
</code></pre>
<p>All of the following conditions must be met before the HTTP message will go out over the wire.</p>
<ul>
<li>XAddrs must be HTTP or HTTPS addresses. XAddrs of other schemes are ignored.</li>
<li>If any HTTPS XAddrs are present, all XAddrs must be HTTPS. XAddr sections which include both HTTP and HTTPS addresses are completely ignored. Additionally, the device's endpoint address must match the HTTPS XAddrs exactly.</li>
<li>XAddrs must be IP addresses or hostnames resolvable through DNS. Usually, IP addresses are used.</li>
<li>At least one IP address included in the XAddrs (or IP address resolved from a hostname included in the XAddrs) must be on the same subnet as the adapter over which the <a href="probematches-message.html">ProbeMatches</a> or <a href="resolvematches-message.html">ResolveMatches</a> message was received.</li>
<li>The address and port specified in the first XAddr must be accessible. WSDAPI attempts to connect to this address when establishing an HTTP connection.</li>
</ul>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="probematches-message.html">ProbeMatches</a></p>
<!-- raw HTML omitted -->
<p><a href="resolvematches-message.html">ResolveMatches</a></p>
<!-- raw HTML omitted -->
<p><a href="discovery-and-metadata-exchange-message-patterns.html">Discovery and Metadata Exchange Message Patterns</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
