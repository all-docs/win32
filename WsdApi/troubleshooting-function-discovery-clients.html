<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Troubleshooting Function Discovery Clients</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Lists the diagnostic procedures to use when troubleshooting Function Discovery clients.
ms.assetid: e488882a-fadd-4150-89ef-b958c3df34c6
title: Troubleshooting Function Discovery Clients
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Troubleshooting Function Discovery Clients</h1>
<p>Function Discovery clients:</p>
<ul>
<li>Always use UDP WS-Discovery for device discovery</li>
<li>Always initiate HTTP or HTTPS connections for metadata exchange</li>
<li>Sometimes use directed discovery</li>
<li>Sometimes use a secure channel (HTTPS) for metadata exchange</li>
</ul>
<p>The following list shows the typical sequence of messages sent and received by Function Discovery clients. Not all messages are mandatory.</p>
<ol>
<li>The client sends a <a href="probe-message.html">Probe</a> message to discover devices and services. If the client is using directed discovery then this message is sent over HTTP or HTTPS; otherwise, the message is sent by UDP multicast to port 3702.</li>
<li>The client receives <a href="probematches-message.html">ProbeMatches</a> messages from matching devices or services. Directed discovery messages are sent over HTTP or HTTPS; otherwise, these messages are sent by UDP unicast and originate from port 3702.</li>
<li>If no XAddrs were included in the ProbeMatches message, then the client will send a <a href="resolve-message.html">Resolve</a> message by UDP multicast to port 3702.</li>
<li>If a <a href="resolve-message.html">Resolve</a> message was sent, then the client receives a <a href="resolvematches-message.html">ResolveMatches</a> message from matching services. This message is sent by UDP unicast from port 3702 to the port where the Resolve message originated.</li>
<li>The client sends a <a href="get--metadata-exchange--http-request-and-message.html">Get</a> message to request metadata from the device or service. This message is sent by HTTP or HTTPS.</li>
<li>The client receives a <a href="getresponse--metadata-exchange--message.html">GetResponse</a> message with the device or service metadata. This message is sent by HTTP or HTTPS.</li>
</ol>
<p>The following diagnostic procedures should be used (in order) to help identify problems with a Function Discovery client.</p>
<p><strong>To troubleshoot a Function Discovery client</strong></p>
<ol>
<li>If directed discovery is used, <a href="troubleshooting-applications-using-directed-discovery.html">troubleshoot directed discovery</a>.</li>
<li><a href="inspecting-adapter-and-firewall-settings.html">Inspect adapter and firewall settings</a>.</li>
<li><a href="using-a-generic-host-and-client-for-udp-ws-discovery.html">Use a generic host and client for UDP WS-Discovery</a>.</li>
<li><a href="using-wsddebug-client-to-verify-multicast-traffic.html">Use WSD Debug Client to verify multicast traffic</a>.</li>
<li><a href="inspecting-network-traces-for-udp-ws-discovery.html">Inspect network traces for UDP WS-Discovery</a>.</li>
<li><a href="using-a-generic-host-and-client-for-http-metadata-exchange.html">Use a generic host and client for HTTP metadata exchange</a>.</li>
<li><a href="using-winhttp-logging-to-verify-get-traffic.html">Use WinHTTP logging to verify Get traffic</a>.</li>
<li><a href="inspecting-network-traces-for-http-metadata-exchange.html">Inspect network traces for HTTP metadata exchange</a>.</li>
</ol>
<p>If the source of the problem cannot be identified using the above diagnostic procedures, follow the directions in <a href="enabling-wsdapi-tracing.html">Enabling WSDAPI Tracing</a> and contact Microsoft support.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="getting-started-with-wsdapi-troubleshooting.html">Getting Started with WSDAPI Troubleshooting</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
