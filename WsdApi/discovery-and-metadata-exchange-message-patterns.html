<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Discovery and Metadata Exchange Message Patterns</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Device Profile for Web Services (DPWS) hosts and clients communicate over the network using a series of SOAP messages over UDP and HTTP.
ms.assetid: 52282990-d993-4034-a791-2ee7c9c1663d
title: Discovery and Metadata Exchange Message Patterns
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Discovery and Metadata Exchange Message Patterns</h1>
<p>Device Profile for Web Services (DPWS) hosts and clients communicate over the network using a series of SOAP messages over UDP and HTTP.</p>
<p>The following diagram shows an overview of the expected UDP and HTTP traffic between a DPWS host and client.</p>
<p><img src="images/ws-discovery-and-metadata-exchange-message-patterns.png" alt="Diagram showing UDP and HTTP traffic between a DPWS host and client." /></p>
<p><a href="hello-message.html">Hello</a>, <a href="bye-message.html">Bye</a>, <a href="probe-message.html">Probe</a>, <a href="resolve-message.html">Resolve</a>, and <a href="get--metadata-exchange--http-request-and-message.html">Get</a> messages are all generated without network solicitation; these messages are used to announce device state or to issue a search request. <a href="probematches-message.html">ProbeMatches</a>, <a href="resolvematches-message.html">ResolveMatches</a>, and <a href="getresponse--metadata-exchange--message.html">GetResponse</a> messages are generated in response to Probe, Resolve and Get messages.</p>
<p><a href="hello-message.html">Hello</a>, <a href="bye-message.html">Bye</a>, <a href="resolve-message.html">Resolve</a>, and <a href="resolvematches-message.html">ResolveMatches</a> messages will always occur over UDP. Similarly, <a href="get--metadata-exchange--http-request-and-message.html">Get</a> and <a href="getresponse--metadata-exchange--message.html">GetResponse</a> metadata messages will always occur over HTTP or HTTPS. <a href="probe-message.html">Probe</a> and <a href="probematches-message.html">ProbeMatches</a> messages are normally transmitted over UDP, but take place over an HTTP or HTTPS connection in a directed discovery scenario. For more information about directed discovery message patterns, see <a href="troubleshooting-applications-using-directed-discovery.html">Troubleshooting Applications Using Directed Discovery</a>.</p>
<p>The following list shows the typical sequence of messages on the wire. Not all messages are mandatory.</p>
<ol>
<li><a href="hello-message.html">Hello</a></li>
<li><a href="probe-message.html">Probe</a></li>
<li><a href="probematches-message.html">ProbeMatches</a></li>
<li><a href="resolve-message.html">Resolve</a></li>
<li><a href="resolvematches-message.html">ResolveMatches</a></li>
<li><a href="get--metadata-exchange--http-request-and-message.html">Get</a> (metadata exchange request)</li>
<li><a href="getresponse--metadata-exchange--message.html">GetResponse</a></li>
<li><a href="bye-message.html">Bye</a></li>
</ol>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="about-web-services-for-devices.html">About Web Services on Devices</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
