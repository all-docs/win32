<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>SendMessage, PostMessage, and Related Functions</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: SendMessage, PostMessage, and Related Functions
description: This section describes considerations about forwarding messages using SendMessage, PostMessage, and related functions with touch messages.
ms.assetid: 9fba2013-17a3-499c-80dc-627e89c0edaf
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>SendMessage, PostMessage, and Related Functions</h1>
<p>This section describes considerations about forwarding messages using <a href="/windows/desktop/api/winuser/nf-winuser-sendmessage">SendMessage</a>, <a href="/windows/win32/api/winuser/nf-winuser-postmessagea">PostMessage</a>, and related functions with touch messages.</p>
<p>If a touch message is forwarded using <a href="/windows/desktop/api/winuser/nf-winuser-sendmessage">SendMessage</a>, <a href="/windows/win32/api/winuser/nf-winuser-postmessagea">PostMessage</a>, or some other related function, the touch input handle is closed. If you have retrieved the information contained referenced by a touch input handle through a call to <a href="/windows/desktop/api/winuser/nf-winuser-gettouchinputinfo"><strong>GetTouchInputInfo</strong></a>, that data will remain valid until you free the memory.</p>
<p>An application that receives touch messages forwarded through one of these mechanisms owns the touch input handle it receives in the message <em>LPARAM</em> and is responsible for closing it. If you don't close the handle with a call to <a href="/windows/desktop/api/winuser/nf-winuser-closetouchinputhandle"><strong>CloseTouchInputHandle</strong></a>, pass the message to <a href="/windows/win32/api/winuser/nf-winuser-defwindowproca">DefWindowProc</a>, or forward the message using <a href="/windows/desktop/api/winuser/nf-winuser-sendmessage">SendMessage</a>, <a href="/windows/win32/api/winuser/nf-winuser-postmessagea">PostMessage</a>, or some related function, you will have a memory leak.</p>
<blockquote>
<p>[!Note]<br />
Touch messages are subject to normal User Interface Privilege Isolation (UIPI) rules when they are forwarded.</p>
</blockquote>
<p>Â </p>
<h2>Functions related to SendMessage and PostMessage</h2>
<p>The following functions that can affect the state of the touch input handle.</p>
<ul>
<li><a href="/windows/desktop/api/winuser/nf-winuser-sendmessage">SendMessage</a></li>
<li><a href="/windows/win32/api/winuser/nf-winuser-postmessagea">PostMessage</a></li>
<li>SendNotifyMessage</li>
<li>SendMessageCallback</li>
<li>SendMessageTimeout</li>
<li>PostThreadMessage</li>
</ul>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="mtfunctions.html">Functions</a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/winuser/nf-winuser-defwindowproca">DefWindowProc</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
