<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>GetExceptionCode macro</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Retrieves a code that identifies the type of exception that occurs. The function can be called only from within the filter expression or exception-handler block of an exception handler.
ms.assetid: f3c4a9f3-c9ae-4d20-85a7-787cb32278d1
title: GetExceptionCode macro
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>GetExceptionCode
api_type:</li>
<li>NA
api_location:</li>
</ul>
<hr />
<h1>GetExceptionCode macro</h1>
<p>Retrieves a code that identifies the type of exception that occurs. The function can be called only from within the filter expression or exception-handler block of an exception handler.</p>
<blockquote>
<p>[!Note]<br />
The Microsoft C/C++ Optimizing Compiler interprets this function as a keyword, and its use outside the appropriate exception-handling syntax generates a compiler error.</p>
</blockquote>
<p>Â </p>
<h2>Syntax</h2>
<pre lang="C++"><code>DWORD GetExceptionCode(void);
</code></pre>
<h2>Parameters</h2>
<p>This macro has no parameters.</p>
<h2>Return value</h2>
<p>The return value identifies the type of exception. The following table identifies the exception codes that can occur due to common programming errors. These values are defined in WinBase.h and WinNT.h.</p>
<table>
<thead>
<tr>
<th>Return code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_ACCESS_VIOLATION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread attempts to read from or write to a virtual address for which it does not have access.<!-- raw HTML omitted --> This value is defined as STATUS_ACCESS_VIOLATION.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_ARRAY_BOUNDS_EXCEEDED</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread attempts to access an array element that is out of bounds, and the underlying hardware supports bounds checking.<!-- raw HTML omitted --> This value is defined as STATUS_ARRAY_BOUNDS_EXCEEDED.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_BREAKPOINT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A breakpoint is encountered.<!-- raw HTML omitted --> This value is defined as STATUS_BREAKPOINT.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_DATATYPE_MISALIGNMENT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread attempts to read or write data that is misaligned on hardware that does not provide alignment. For example, 16-bit values must be aligned on 2-byte boundaries, 32-bit values on 4-byte boundaries, and so on.<!-- raw HTML omitted --> This value is defined as STATUS_DATATYPE_MISALIGNMENT.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_FLT_DENORMAL_OPERAND</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>One of the operands in a floating point operation is denormal. A denormal value is one that is too small to represent as a standard floating point value.<!-- raw HTML omitted --> This value is defined as STATUS_FLOAT_DENORMAL_OPERAND.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_FLT_DIVIDE_BY_ZERO</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread attempts to divide a floating point value by a floating point divisor of 0 (zero).<!-- raw HTML omitted --> This value is defined as STATUS_FLOAT_DIVIDE_BY_ZERO.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_FLT_INEXACT_RESULT</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The result of a floating point operation cannot be represented exactly as a decimal fraction.<!-- raw HTML omitted --> This value is defined as STATUS_FLOAT_INEXACT_RESULT.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_FLT_INVALID_OPERATION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A floating point exception that is not included in this list.<!-- raw HTML omitted --> This value is defined as STATUS_FLOAT_INVALID_OPERATION.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_FLT_OVERFLOW</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The exponent of a floating point operation is greater than the magnitude allowed by the corresponding type.<!-- raw HTML omitted --> This value is defined as STATUS_FLOAT_OVERFLOW.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_FLT_STACK_CHECK</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The stack has overflowed or underflowed, because of a floating point operation.<!-- raw HTML omitted --> This value is defined as STATUS_FLOAT_STACK_CHECK.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_FLT_UNDERFLOW</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The exponent of a floating point operation is less than the magnitude allowed by the corresponding type.<!-- raw HTML omitted --> This value is defined as STATUS_FLOAT_UNDERFLOW.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_GUARD_PAGE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread accessed memory allocated with the PAGE_GUARD modifier.<!-- raw HTML omitted --> This value is defined as STATUS_GUARD_PAGE_VIOLATION.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_ILLEGAL_INSTRUCTION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread tries to execute an invalid instruction.<!-- raw HTML omitted --> This value is defined as STATUS_ILLEGAL_INSTRUCTION.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_IN_PAGE_ERROR</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread tries to access a page that is not present, and the system is unable to load the page. For example, this exception might occur if a network connection is lost while running a program over a network.<!-- raw HTML omitted --> This value is defined as STATUS_IN_PAGE_ERROR.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_INT_DIVIDE_BY_ZERO</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread attempts to divide an integer value by an integer divisor of 0 (zero).<!-- raw HTML omitted --> This value is defined as STATUS_INTEGER_DIVIDE_BY_ZERO.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_INT_OVERFLOW</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The result of an integer operation creates a value that is too large to be held by the destination register. In some cases, this will result in a carry out of the most significant bit of the result. Some operations do not set the carry flag.<!-- raw HTML omitted --> This value is defined as STATUS_INTEGER_OVERFLOW.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_INVALID_DISPOSITION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>An exception handler returns an invalid disposition to the exception dispatcher. Programmers using a high-level language such as C should never encounter this exception.<!-- raw HTML omitted --> This value is defined as STATUS_INVALID_DISPOSITION.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_INVALID_HANDLE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread used a handle to a kernel object that was invalid (probably because it had been closed.)<!-- raw HTML omitted --> This value is defined as STATUS_INVALID_HANDLE.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_NONCONTINUABLE_EXCEPTION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread attempts to continue execution after a non-continuable exception occurs.<!-- raw HTML omitted --> This value is defined as STATUS_NONCONTINUABLE_EXCEPTION.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_PRIV_INSTRUCTION</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread attempts to execute an instruction with an operation that is not allowed in the current computer mode.<!-- raw HTML omitted --> This value is defined as STATUS_PRIVILEGED_INSTRUCTION.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_SINGLE_STEP</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A trace trap or other single instruction mechanism signals that one instruction is executed.<!-- raw HTML omitted --> This value is defined as STATUS_SINGLE_STEP.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>EXCEPTION_STACK_OVERFLOW</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>The thread uses up its stack.<!-- raw HTML omitted --> This value is defined as STATUS_STACK_OVERFLOW.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>STATUS_UNWIND_CONSOLIDATE</strong><!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
<td>A frame consolidation has been executed.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Remarks</h2>
<p>The <strong>GetExceptionCode</strong> function can be called only from within the filter expression or exception-handler block of an exception handler. The filter expression is evaluated if an exception occurs during execution of the <strong>__try</strong> block, and it determines whether or not the <strong>__except</strong> block is executed.</p>
<p>The filter expression can invoke a filter function. The filter function cannot call <strong>GetExceptionCode</strong>. However, the return value of <strong>GetExceptionCode</strong> can be passed as a parameter to a filter function. The return value of the <a href="getexceptioninformation.html"><strong>GetExceptionInformation</strong></a> function can also be passed as a parameter to a filter function. <strong>GetExceptionInformation</strong> returns a pointer to a structure that includes the exception code information.</p>
<p>When nested handlers exist, each filter expression is evaluated until one is evaluated as EXCEPTION_EXECUTE_HANDLER or EXCEPTION_CONTINUE_EXECUTION. Each filter expression can invoke <strong>GetExceptionCode</strong> to get the exception code.</p>
<p>The exception code returned is the code generated by a hardware exception, or the code specified in the <a href="/windows/win32/api/errhandlingapi/nf-errhandlingapi-raiseexception"><strong>RaiseException</strong></a> function for a software generated exception.</p>
<p>When handling the breakpoint exception, it is important to increment the instruction pointer in the context record to continue from this exception.</p>
<h2>Examples</h2>
<p>For an example, see <a href="using-an-exception-handler.html">Using an Exception Handler</a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ XP [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows ServerÂ 2003 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="getexceptioninformation.html"><strong>GetExceptionInformation</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/win32/api/errhandlingapi/nf-errhandlingapi-raiseexception"><strong>RaiseException</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="structured-exception-handling-functions.html">Structured Exception Handling Functions</a></p>
<!-- raw HTML omitted -->
<p><a href="structured-exception-handling.html">Structured Exception Handling Overview</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
