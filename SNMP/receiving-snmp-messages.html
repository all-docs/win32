<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Receiving SNMP Messages</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: Receiving SNMP Messages
description: The WinSNMP application must call the SnmpRecvMsg function to retrieve the response to an SnmpSendMsg request.
ms.assetid: 323a5565-a8a5-4efd-aa4e-e4623b581d09
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Receiving SNMP Messages</h1>
<p>The WinSNMP application must call the <a href="/windows/desktop/api/Winsnmp/nf-winsnmp-snmprecvmsg"><strong>SnmpRecvMsg</strong></a> function to retrieve the response to an <a href="/windows/desktop/api/Winsnmp/nf-winsnmp-snmpsendmsg"><strong>SnmpSendMsg</strong></a> request.</p>
<p>The <a href="/windows/desktop/api/Winsnmp/nf-winsnmp-snmpcreatesession"><strong>SnmpCreateSession</strong></a> function passes an application window handle and a notification message identifier to the Microsoft WinSNMP implementation. When the application window receives this message, it signals the application to call the <a href="/windows/desktop/api/Winsnmp/nf-winsnmp-snmprecvmsg"><strong>SnmpRecvMsg</strong></a> function using the session handle returned by <a href="/windows/desktop/api/Winsnmp/nf-winsnmp-snmpcreatesession"><strong>SnmpCreateSession</strong></a>.</p>
<p>The <a href="/windows/desktop/api/Winsnmp/nf-winsnmp-snmprecvmsg"><strong>SnmpRecvMsg</strong></a> function returns two entity handles, a context handle, and the handle to a PDU. It is recommended that the WinSNMP application free these resources using the <a href="/windows/desktop/api/Winsnmp/nf-winsnmp-snmpfreeentity"><strong>SnmpFreeEntity</strong></a>, <a href="/windows/desktop/api/Winsnmp/nf-winsnmp-snmpfreecontext"><strong>SnmpFreeContext</strong></a>, and <a href="/windows/desktop/api/Winsnmp/nf-winsnmp-snmpfreepdu"><strong>SnmpFreePdu</strong></a> functions.</p>
<p>For additional information about managing the time between a call to the <a href="/windows/desktop/api/Winsnmp/nf-winsnmp-snmpsendmsg"><strong>SnmpSendMsg</strong></a> function and the receipt of the corresponding response, see <a href="about-retransmission.html">About Retransmission</a>. For additional information about using the <strong>request_id</strong> PDU field to match a response PDU with its request PDU, see <a href="matching-response-and-request-pdus.html">Matching Response and Request PDUs</a>.</p>
<p>Â </p>
<p>Â </p>
</body>
