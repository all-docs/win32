<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Master File Table</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The master file table (MFT) stores the information required to retrieve files from an NTFS partition.
ms.assetid: 673fb4d0-7b6f-44fe-bfd6-1962e14ccdf5
title: Master File Table (Developer Notes)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Master File Table</h1>
<p>[This document applies only to version 3 of NTFS volumes.]</p>
<p>The master file table (MFT) stores the information required to retrieve files from an NTFS partition.</p>
<p>A file may have one or more MFT records, and can contain one or more attributes. In NTFS, a file reference is the MFT segment reference of the base file record. For more information, see <a href="mft-segment-reference.html"><strong>MFT_SEGMENT_REFERENCE</strong></a>.</p>
<p>The MFT contains file record segments; the first 16 of these are reserved for special files, such as the following:</p>
<ul>
<li>0: MFT ($Mft)</li>
<li>5: root directory (\)</li>
<li>6: volume cluster allocation file ($Bitmap)</li>
<li>8: bad-cluster file ($BadClus)</li>
</ul>
<p>Each file record segment starts with a file record segment header. For more information, see <a href="file-record-segment-header.html"><strong>FILE_RECORD_SEGMENT_HEADER</strong></a>. Each file record segment is followed by one or more attributes. Each attribute starts with an attribute record header. For more information, see <a href="attribute-record-header.html"><strong>ATTRIBUTE_RECORD_HEADER</strong></a>. The attribute record includes the attribute type (such as $DATA or $BITMAP), an optional name, and the attribute value. The user data stream is an attribute, as are all streams. The attribute list is terminated with 0xFFFFFFFF ($END).</p>
<p>The following are some example attributes.</p>
<ul>
<li>The $Mft file contains an unnamed $DATA attribute that is the sequence of MFT record segments, in order.</li>
<li>The $Mft file contains an unnamed $BITMAP attribute that indicates which MFT records are in use.</li>
<li>The $Bitmap file contains an unnamed $DATA attribute that indicates which clusters are in use.</li>
<li>The $BadClus file contains a $DATA attribute named $BAD that contains an entry that corresponds to each bad cluster.</li>
</ul>
<p>When there is no more space for storing attributes in the file record segment, additional file record segments are allocated and inserted in the first (or base) file record segment in an attribute called the attribute list. The attribute list indicates where each attribute associated with the file can be found. This includes all attributes in the base file record, except for the attribute list itself. For more information, see <a href="attribute-list-entry.html"><strong>ATTRIBUTE_LIST_ENTRY</strong></a>.</p>
<p>Structures related to the MFT include the following:</p>
<ul>
<li><a href="attribute-list-entry.html"><strong>ATTRIBUTE_LIST_ENTRY</strong></a></li>
<li><a href="attribute-record-header.html"><strong>ATTRIBUTE_RECORD_HEADER</strong></a></li>
<li><a href="file-name.html"><strong>FILE_NAME</strong></a></li>
<li><a href="file-record-segment-header.html"><strong>FILE_RECORD_SEGMENT_HEADER</strong></a></li>
<li><a href="mft-segment-reference.html"><strong>MFT_SEGMENT_REFERENCE</strong></a></li>
<li><a href="multi-sector-header.html"><strong>MULTI_SECTOR_HEADER</strong></a></li>
<li><a href="standard-information.html"><strong>STANDARD_INFORMATION</strong></a></li>
</ul>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="/previous-versions/windows/it-pro/windows-server-2003/cc758691(v=ws.10)">NTFS Technical Reference</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
