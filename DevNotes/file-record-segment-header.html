<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>FILE_RECORD_SEGMENT_HEADER structure</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Represents the file record segment. This is the header for each file record segment in the master file table (MFT).
ms.assetid: 4548ad49-1924-4888-8966-c45f8e453c6f
title: FILE_RECORD_SEGMENT_HEADER structure
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>FILE_RECORD_SEGMENT_HEADER
api_type:</li>
<li>NA
api_location:</li>
</ul>
<hr />
<h1>FILE_RECORD_SEGMENT_HEADER structure</h1>
<p>[This structure is valid only for version 3 of NTFS volumes; it may be altered in future versions.]</p>
<p>Represents the file record segment. This is the header for each file record segment in the master file table (MFT).</p>
<h2>Syntax</h2>
<pre lang="C++"><code>typedef struct _FILE_RECORD_SEGMENT_HEADER {
  MULTI_SECTOR_HEADER Â Â MultiSectorHeader;
  ULONGLONG Â Â Â Â Â Â Â Â Â Â Â Â Reserved1;
  USHORT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â SequenceNumber;
  USHORT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Reserved2;
  USHORT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â FirstAttributeOffset;
  USHORT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Flags;
  ULONG Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Reserved3[2];
  FILE_REFERENCE Â Â Â Â Â Â Â BaseFileRecordSegment;
  USHORT Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Reserved4;
  UPDATE_SEQUENCE_ARRAY UpdateSequenceArray;
} FILE_RECORD_SEGMENT_HEADER, *PFILE_RECORD_SEGMENT_HEADER;
</code></pre>
<h2>Members</h2>
<!-- raw HTML omitted -->
<p><strong>MultiSectorHeader</strong></p>
<!-- raw HTML omitted -->
<p>The multisector header defined by the cache manager. The <a href="multi-sector-header.html"><strong>MULTI_SECTOR_HEADER</strong></a> structure always contains the signature &quot;FILE&quot; and a description of the location and size of the update sequence array.</p>
<!-- raw HTML omitted -->
<p><strong>Reserved1</strong></p>
<!-- raw HTML omitted -->
<p>Reserved.</p>
<!-- raw HTML omitted -->
<p><strong>SequenceNumber</strong></p>
<!-- raw HTML omitted -->
<p>The sequence number. This value is incremented each time that a file record segment is freed; it is 0 if the segment is not used. The <strong>SequenceNumber</strong> field of a file reference must match the contents of this field; if they do not match, the file reference is incorrect and probably obsolete.</p>
<!-- raw HTML omitted -->
<p><strong>Reserved2</strong></p>
<!-- raw HTML omitted -->
<p>Reserved.</p>
<!-- raw HTML omitted -->
<p><strong>FirstAttributeOffset</strong></p>
<!-- raw HTML omitted -->
<p>The offset of the first attribute record, in bytes.</p>
<!-- raw HTML omitted -->
<p><strong>Flags</strong></p>
<!-- raw HTML omitted -->
<p>The file flags.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>FILE_RECORD_SEGMENT_IN_USE</strong> (0x0001)</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><strong>FILE_FILE_NAME_INDEX_PRESENT</strong> (0x0002)</p>
<!-- raw HTML omitted -->
<p><strong>Reserved3</strong></p>
<!-- raw HTML omitted -->
<p>Reserved.</p>
<!-- raw HTML omitted -->
<p><strong>BaseFileRecordSegment</strong></p>
<!-- raw HTML omitted -->
<p>A file reference to the base file record segment for this file. If this is the base file record, the value is 0. See <a href="mft-segment-reference.html"><strong>MFT_SEGMENT_REFERENCE</strong></a>.</p>
<!-- raw HTML omitted -->
<p><strong>Reserved4</strong></p>
<!-- raw HTML omitted -->
<p>Reserved.</p>
<!-- raw HTML omitted -->
<p><strong>UpdateSequenceArray</strong></p>
<!-- raw HTML omitted -->
<p>The update sequence array to protect multisector transfers of the file record segment.</p>
<!-- raw HTML omitted -->
<h2>Remarks</h2>
<p>Note that there is no associated header file for this structure.</p>
<p>This structure definition is valid only for major version 3 and minor version 0 or 1, as reported by <a href="/windows/win32/api/winioctl/ni-winioctl-fsctl_get_ntfs_volume_data"><strong>FSCTL_GET_NTFS_VOLUME_DATA</strong></a>.</p>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="master-file-table.html">Master File Table</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
