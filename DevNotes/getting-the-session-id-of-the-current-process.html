<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Getting the Session ID of the Current Process</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The following example x86 assembly code gets the Terminal Services session ID associated with the current process.
ms.assetid: 9fcb35cb-6813-46a5-aa38-e102f1b6b7dc
title: Getting the Session ID of the Current Process
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Getting the Session ID of the Current Process</h1>
<p>[The memory addresses specified by this example code may change in future releases of Windows. To ensure that your application will continue to run correctly in the future, your application must call <a href="/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocessid"><strong>GetCurrentProcessId</strong></a> and then <a href="/windows/win32/api/processthreadsapi/nf-processthreadsapi-processidtosessionid"><strong>ProcessIdToSessionId</strong></a> instead of the following sample code.]</p>
<p>The following example x86 assembly code gets the Terminal Services session ID associated with the current process.</p>
<pre lang="syntax"><code>mov     eax,fs:[00000018]
mov     eax,[eax+0x30]
mov     eax,[eax+0x1d4]
</code></pre>
<p>Â </p>
<p>Â </p>
</body>
