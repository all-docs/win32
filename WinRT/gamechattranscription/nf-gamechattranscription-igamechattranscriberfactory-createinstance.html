<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>IGameChatTranscriberFactory::CreateInstance method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>UID: NF:gamechattranscription.IGameChatTranscriberFactory.CreateInstance
title: IGameChatTranscriberFactory::CreateInstance
description: Your application should call CreateInstance for each audio stream that it wants to process for speech transcription.
ms.date: 07/21/2023
tech.root: winrt
targetos: Windows
prerelease: false
req.assembly:
req.construct-type: function
req.ddi-compliance:
req.dll:
req.header:
req.idl:
req.include-header:
req.irql:
req.kmdf-ver:
req.lib:
req.max-support:
req.namespace:
req.redist:
req.target-min-winverclnt:
req.target-min-winversvr:
req.target-type:
req.type-library:
req.umdf-ver:
req.unicode-ansi:
topic_type:</p>
<ul>
<li>apiref
api_type:</li>
<li>COM
api_location:</li>
<li>GameChatTranscription.dll
api_name:</li>
<li>IGameChatTranscriberFactory::CreateInstance
f1_keywords:</li>
<li>IGameChatTranscriberFactory::CreateInstance</li>
<li>gamechattranscription/IGameChatTranscriberFactory::CreateInstance
dev_langs:</li>
<li>c++
helpviewer_keywords:</li>
<li>CreateInstance
ms.topic: reference</li>
</ul>
<hr />
<h1>IGameChatTranscriberFactory::CreateInstance method</h1>
<blockquote>
<p>[!IMPORTANT]
This API is not available to all apps. Unless your developer account is specially provisioned by Microsoft, calls to these APIs will fail at runtime.</p>
</blockquote>
<p>Your application should call <strong>CreateInstance</strong> for each audio stream that it wants to process for speech transcription. Typically, your app will create this once when the audio stream is available, and destroy it when the stream ends.</p>
<h2>Syntax</h2>
<pre lang="cpp"><code>HRESULT CreateInstance(
  [in] LPCWSTR xboxUserId,
  [in] GameChatAudioEncoding encoding,
  [in] BOOL audioDataCollectionAllowed,
  [in] IGameChatSpeechTranscribedCallback* handler,
  [out] DWORD* eventSourceCookie,
  [in] REFIID riid,
  [out, iid_is(riid)] LPVOID* ppvObject
);
</code></pre>
<h2>Parameters</h2>
<p><code>xboxUserId</code></p>
<p>User ID of the local user (used for authentication).</p>
<p><code>encoding</code></p>
<p>Audio encoding format that will be used for input buffers passed to <strong>IGameChatTranscriber::ProcessEncodedAudio</strong>.</p>
<p><code>audioDataCollectionAllowed</code></p>
<p><code>true</code> if the Xbox user consents to have audio data collected for audio data improvement; otherwise, <code>false</code>.</p>
<p><code>handler</code></p>
<p>Callback handler.</p>
<p><code>eventSourceCookie</code></p>
<p>Opaque ID unique for callbacks sourced from this instance (identifies the source audio stream).</p>
<p><code>riid</code></p>
<p>The IID of <strong>IGameChatTranscriber</strong>.</p>
<p><code>ppvObject</code></p>
<p>On success, points to an <strong>IGameChatTranscriber</strong> instance.</p>
<h2>Return value</h2>
<p>If this method succeeds, it returns <strong>S_OK</strong>. Otherwise, it returns an <strong>HRESULT</strong> error code.</p>
<h2>See also</h2>
<p><a href="./nn-gamechattranscription-igamechattranscriberfactory.html">IGameChatTranscriberFactory</a></p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th> </th>
<th align="left"> </th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Target Platform</strong></td>
<td align="left">Windows</td>
</tr>
<tr>
<td><strong>Header</strong></td>
<td align="left">N/A</td>
</tr>
<tr>
<td><strong>Library</strong></td>
<td align="left">N/A</td>
</tr>
<tr>
<td><strong>DLL</strong></td>
<td align="left">GameChatTranscription.dll</td>
</tr>
</tbody>
</table>
</body>
