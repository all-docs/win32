<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>LINE_LINEDEVSTATE message</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The TAPI LINE_LINEDEVSTATE message is sent when the state of a line device has changed. The application can invoke lineGetLineDevStatus to determine the new status of the line.
ms.assetid: 15f616de-db47-4577-9a47-94f9292253dd
title: LINE_LINEDEVSTATE message (Tapi.h)
ms.topic: reference
ms.date: 05/31/2018</h2>
<h1>LINE_LINEDEVSTATE message</h1>
<p>The TAPI <strong>LINE_LINEDEVSTATE</strong> message is sent when the state of a line device has changed. The application can invoke <a href="/windows/desktop/api/Tapi/nf-tapi-linegetlinedevstatus"><strong>lineGetLineDevStatus</strong></a> to determine the new status of the line.</p>
<pre lang="C++"><code>            
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>hDevice</em></p>
<!-- raw HTML omitted -->
<p>A handle to the line device. This parameter is <strong>NULL</strong> when <em>dwParam1</em> is LINEDEVSTATE_REINIT.</p>
<!-- raw HTML omitted -->
<p><em>dwCallbackInstance</em></p>
<!-- raw HTML omitted -->
<p>The callback instance supplied when opening the line. If the <em>dwParam1</em> parameter is LINEDEVSTATE_REINIT, the <em>dwCallbackInstance</em> parameter is not valid and is set to zero.</p>
<!-- raw HTML omitted -->
<p><em>dwParam1</em></p>
<!-- raw HTML omitted -->
<p>The line device status item that has changed. The parameter can be one or more of the <a href="linedevstate--constants.html"><strong>LINEDEVSTATE_ constants</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>dwParam2</em></p>
<!-- raw HTML omitted -->
<p>The interpretation of this parameter depends on the value of <em>dwParam1</em>. If <em>dwParam1</em> is LINEDEVSTATE_RINGING, <em>dwParam2</em> contains the ring mode with which the switch instructs the line to ring. Valid ring modes are numbers in the range one to <strong>dwNumRingModes</strong>, where <strong>dwNumRingModes</strong> is a line device capability.</p>
<p>If <em>dwParam1</em> is LINEDEVSTATE_REINIT, and the message was issued by TAPI as a result of translation of a new API message into a REINIT message, then <em>dwParam2</em> contains the <em>dwMsg</em> parameter of the original message (for example, <a href="line-create.html"><strong>LINE_CREATE</strong></a> or LINE_LINEDEVSTATE). If <em>dwParam2</em> is zero, this indicates that the REINIT message is a &quot;real&quot; REINIT message that requires the application to call <a href="/windows/desktop/api/Tapi/nf-tapi-lineshutdown"><strong>lineShutdown</strong></a> at its earliest convenience.</p>
<!-- raw HTML omitted -->
<p><em>dwParam3</em></p>
<!-- raw HTML omitted -->
<p>The interpretation of this parameter depends on the value of <em>dwParam1</em>. If <em>dwParam1</em> is LINEDEVSTATE_RINGING, <em>dwParam3</em> contains the ring count for this ring event. The ring count starts at zero.</p>
<p>If <em>dwParam1</em> is LINEDEVSTATE_REINIT, and the message was issued by TAPI as a result of translation of a new API message into a REINIT message, then <em>dwParam3</em> contains the <em>dwParam1</em> parameter of the original message (for example, LINEDEVSTATE_TRANSLATECHANGE or some other LINEDEVSTATE_ value, if <em>dwParam2</em> is LINE_LINEDEVSTATE, or the new device identifier, if <em>dwParam2</em> is <a href="line-create.html"><strong>LINE_CREATE</strong></a>).</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>No return value.</p>
<h2>Remarks</h2>
<p>The sending of the <strong>LINE_LINEDEVSTATE</strong> message can be controlled with <a href="/windows/desktop/api/Tapi/nf-tapi-linesetstatusmessages"><strong>lineSetStatusMessages</strong></a>. An application can indicate status item changes about which it wants to be notified. By default, all status reporting is disabled except for LINEDEVSTATE_REINIT, which cannot be disabled. This message is sent to all applications that have a handle to the line, including those that called <a href="/windows/desktop/api/Tapi/nf-tapi-lineopen"><strong>lineOpen</strong></a> with the <em>dwPrivileges</em> parameter set to LINECALLPRIVILEGE_NONE, LINECALLPRIVILEGE_OWNER, LINECALLPRIVILEGE_MONITOR, or permitted combinations of these.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>TAPI version<!-- raw HTML omitted --></td>
<td>Requires TAPI 2.0 or later<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Tapi.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="line-close.html"><strong>LINE_CLOSE</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="line-create.html"><strong>LINE_CREATE</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Tapi/ns-tapi-linedevcaps"><strong>LINEDEVCAPS</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Tapi/nf-tapi-linegetdevcaps"><strong>lineGetDevCaps</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Tapi/nf-tapi-linegetdevconfig"><strong>lineGetDevConfig</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Tapi/nf-tapi-linegettranslatecaps"><strong>lineGetTranslateCaps</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Tapi/nf-tapi-lineinitialize"><strong>lineInitialize</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Tapi/nf-tapi-lineopen"><strong>lineOpen</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Tapi/nf-tapi-linesetstatusmessages"><strong>lineSetStatusMessages</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Tapi/nf-tapi-lineshutdown"><strong>lineShutdown</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Tapi/ns-tapi-linetranslatecaps"><strong>LINETRANSLATECAPS</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/Tapi/nf-tapi-lineuncompletecall"><strong>lineUncompleteCall</strong></a></p>
<!-- raw HTML omitted -->
</body>
