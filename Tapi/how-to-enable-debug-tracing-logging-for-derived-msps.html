<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>How to Enable Debug Tracing/Logging for Derived MSPs</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The following procedure describes how to enable debug tracing and logging.
ms.assetid: 52381397-df75-4d81-a048-f0ed408ac6b8
title: How to Enable Debug Tracing/Logging for Derived MSPs
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>How to Enable Debug Tracing/Logging for Derived MSPs</h1>
<p>First, make sure that the implementation of the derived MSP has followed the guidelines in the previous section with regard to debug tracing (defining the preprocessor symbol MSPLOG, registering for tracing during DllMain, and using the LOG macro for tracing). Find out what name the MSP uses when registering for tracing (this should usually be the DLL's name; it is referred to below as &quot;&lt;dll name&gt;&quot;). To enable tracing, use a registry editor (&quot;Regedit.exe&quot; or &quot;Regedt32.exe&quot;) to locate the key &quot;HKEY_LOCAL_MACHINE\Software\Microsoft\Tracing&quot; and do the following. Note that all of the values mentioned below, except the EnableDebuggerTracing value, should be created automatically after running your MSP for the first time.</p>
<ul>
<li>To enable tracing to user and kernel mode debuggers, set the <strong>DWORD</strong> value &lt;dll name&gt;\EnableDebuggerTracing to 1. Optionally, use the <strong>DWORD</strong> value &lt;dll name&gt;\ConsoleTracing Mask to enable or disable various levels of trace output (the default is 0xFFFF0000, which enables all trace levels).</li>
<li>To enable tracing to a file, set the <strong>DWORD</strong> value &lt;dll name&gt;\EnableFileTracing to 1. Optionally, use the string value &lt;dll name&gt;\FileDirectory to adjust the location of the log file. Optionally, use the <strong>DWORD</strong> value &lt;dll name&gt;\FileTracingMask to enable or disable various levels of trace output (the default is 0xFFFF0000, which enables all trace levels).</li>
<li>To enable tracing to a separate console window, separated by DLL, set the <strong>DWORD</strong> value EnableConsoleTracing to 1, AND ALSO set the <strong>DWORD</strong> value &lt;dll name&gt;\EnableConsoleTracing to 1. Optionally, use the <strong>DWORD</strong> value &lt;dll name&gt;\ConsoleTracing Mask to enable or disable various levels of trace output (the default is 0xFFFF0000, which enables all trace levels).</li>
</ul>
<p>Â </p>
<p>Â </p>
</body>
