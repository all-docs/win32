<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error Checking</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: At the TAPI level, an application can pass a variety of different parameters, many of which may be invalid.
ms.assetid: cc52e2a2-08e0-4a66-a75f-975e50dbf654
title: Error Checking (Telephony API)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Error Checking</h1>
<p>At the TAPI level, an application can pass a variety of different parameters, many of which may be invalid. TAPI verifies parameters and returns errors to the application without calling the service provider. Each function description at the TSPI level describes the parameter errors already tested. The service provider does not have to repeat these tests, though it must perform any additional validity tests appropriate to the function. Titles and descriptions of common parameter validity tests that appear in many functions are listed in the following table.</p>
<table>
<thead>
<tr>
<th>Validity test</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pointer validity</td>
<td>TAPI has already tested pointers to data storage to make sure that they point to readable or writable memory of the size appropriate to the operation. In addition, for variably sized data structures starting with a <strong>dwTotalSize</strong> member, the data structure has been verified to ensure that the indicated total size is available.</td>
</tr>
<tr>
<td>Fixed size validity</td>
<td>For variable-sized data structures, the data structure has been verified so space for the fixed-sized part of the data structure and that <strong>dwTotalSize</strong> is sufficient for the fixed part.</td>
</tr>
<tr>
<td>Offset/size zeroed</td>
<td>For variable-sized data structures, the &quot;...<strong>Offset</strong>&quot; and &quot;...<strong>Size</strong>&quot; fields that correspond to parts that the service provider sets have been preset with zero values before the service provider was called.</td>
</tr>
<tr>
<td>Handle validity</td>
<td>TAPI ensures that line, phone, and call handles (of defined types <a href="hdrvline.html">HDRVLINE</a>, <a href="hdrvphone.html">HDRVPHONE</a>, and HDRVCALL) are valid. That is, they are values that have been returned without error as handles in <a href="/windows/win32/api/tspi/nf-tspi-tspi_lineopen"><strong>TSPI_lineOpen</strong></a>, <a href="/windows/win32/api/tspi/nf-tspi-tspi_phoneopen"><strong>TSPI_phoneOpen</strong></a>, or one of the following that starts the lifetime of a call handle: <a href="/windows/win32/api/tspi/nf-tspi-tspi_linemakecall"><strong>TSPI_lineMakeCall</strong></a><!-- raw HTML omitted --> <a href="/windows/win32/api/tspi/nf-tspi-tspi_linecompletetransfer"><strong>TSPI_lineCompleteTransfer</strong></a><!-- raw HTML omitted --> <a href="/windows/win32/api/tspi/nf-tspi-tspi_lineforward"><strong>TSPI_lineForward</strong></a><!-- raw HTML omitted --> <a href="/windows/win32/api/tspi/nf-tspi-tspi_linepickup"><strong>TSPI_linePickup</strong></a><!-- raw HTML omitted --> <a href="/windows/win32/api/tspi/nf-tspi-tspi_lineprepareaddtoconference"><strong>TSPI_linePrepareAddToConference</strong></a><!-- raw HTML omitted --> <a href="/windows/win32/api/tspi/nf-tspi-tspi_linesetupconference"><strong>TSPI_lineSetupConference</strong></a><!-- raw HTML omitted --> <a href="/windows/win32/api/tspi/nf-tspi-tspi_linesetuptransfer"><strong>TSPI_lineSetupTransfer</strong></a><!-- raw HTML omitted --> <a href="/windows/win32/api/tspi/nf-tspi-tspi_lineunpark"><strong>TSPI_lineUnpark</strong></a><!-- raw HTML omitted --> <a href="line-newcall.html"><strong>LINE_NEWCALL</strong></a> messages<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
</body>
