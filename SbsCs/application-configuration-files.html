<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Application Configuration Files</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: An application configuration file is an XML file used to control assembly binding.
ms.assetid: b7453f2b-52a4-4af9-8410-ebbb430ada67
title: Application Configuration Files
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Application Configuration Files</h1>
<p>An application configuration file is an XML file used to control assembly binding. It can redirect an application from using one version of a side-by-side assembly to another version of the same assembly. This is called <a href="per-application-configuration.html">per-application configuration</a>. An application configuration file applies only to a specific application manifest and dependent assemblies. Isolated components compiled with an embedded ISOLATIONAWARE_MANIFEST_RESOURCE_ID manifest require a separate application configuration file. Manifests managed with <a href="/windows/desktop/api/Winbase/nf-winbase-createactctxa"><strong>CreateActCtx</strong></a> require a separate application configuration file.</p>
<p>The redirection specified by an application configuration file can override the assembly versions specified by <a href="application-manifests.html">application manifests</a> and <a href="publisher-configuration-files.html">publisher configuration files</a>. For example, if a publisher configuration file specifies that all references to an assembly be redirected from version 1.0.0.0 to 1.1.0.0, an application configuration file can be used to redirect a particular application to use version 1.0.0.0. An application configuration file applies only to the specified application manifest and dependent assemblies.</p>
<p>For a complete listing of the XML schema, see <a href="application-configuration-file-schema.html">Application Configuration File Schema</a>.</p>
<p>Application configuration files have the elements and attributes shown in the following table.</p>
<table>
<thead>
<tr>
<th>Element</th>
<th>Attributes</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>configuration</strong></td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>windows</strong></td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>publisherPolicy</strong></td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td></td>
<td><strong>apply</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>runtime</strong></td>
<td></td>
<td>No</td>
</tr>
<tr>
<td><strong>assemblyBinding</strong></td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>probing</strong></td>
<td></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td><strong>privatePath</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>dependency</strong></td>
<td></td>
<td>No</td>
</tr>
<tr>
<td><strong>dependentAssembly</strong></td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>assemblyIdentity</strong></td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td></td>
<td><strong>type</strong></td>
<td>Yes</td>
</tr>
<tr>
<td></td>
<td><strong>name</strong></td>
<td>Yes</td>
</tr>
<tr>
<td></td>
<td><strong>language</strong></td>
<td>No</td>
</tr>
<tr>
<td></td>
<td><strong>processorArchitecture</strong></td>
<td>Yes</td>
</tr>
<tr>
<td></td>
<td><strong>version</strong></td>
<td>Yes</td>
</tr>
<tr>
<td></td>
<td><strong>publicKeyToken</strong></td>
<td>No</td>
</tr>
<tr>
<td><strong>bindingRedirect</strong></td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td></td>
<td><strong>oldVersion</strong></td>
<td>Yes</td>
</tr>
<tr>
<td></td>
<td><strong>newVersion</strong></td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h2>File Location</h2>
<p>Application configuration files must be installed in the same location as the application's <a href="application-manifests.html">application manifest</a>.</p>
<h2>File Name Syntax</h2>
<p>The name of an application configuration file is the name of the application executable followed by .config.</p>
<p>For example, an application configuration file that refers to Example.exe or Example.dll would use the file name syntax shown in the following example. You can omit the field for <!-- raw HTML omitted --> if installing the configuration file as a separate file or if the resource ID is 1.</p>
<p><strong>example.exe.<!-- raw HTML omitted -->.config</strong></p>
<p><strong>example.dll.<!-- raw HTML omitted -->.config</strong></p>
<h2>Elements</h2>
<p>Names of elements and attributes are case-sensitive. The values of elements and attributes are all case-insensitive, except for the value of the type attribute.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3>configuration</h3>
<p>A container element for the <strong>windows</strong> and <strong>runtime</strong> elements of an application configuration file. Required.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3>windows</h3>
<p>Includes the parts of the application configuration file that apply to the redirection of Win32 assemblies.</p>
<blockquote>
<p>[!Note]<br />
The author of an application should not include a configuration file with a <strong>windows</strong> subelement as part of their application. This may be permitted if the configuration file's only purpose is to enable the <strong>privatePath</strong> functionality of a <strong>probing</strong> element. The <strong>probing</strong> element is unavailable on systems earlier than Windows Server 2008 R2 and Windows 7.</p>
</blockquote>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3>publisherPolicy</h3>
<p>Specifies whether to apply publisher policy.</p>
<p>This element has the attributes shown in the following table.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>apply</strong></td>
<td>A value of &quot;yes&quot; applies the publisher policy. This is the default setting. The value &quot;no&quot; does not apply the publisher policy.</td>
</tr>
</tbody>
</table>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3>runtime</h3>
<p>Includes the parts of the application configuration file that apply to redirection of .Net assemblies.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3>assemblyBinding</h3>
<p>Includes the redirection information for the application and the assembly affected by this application configuration file. The first subelement of <strong>assemblyBinding</strong> must be an <strong>assemblyIdentity</strong> that identifies the application.</p>
<p>Starting with Windows Server 2008 R2 and Windows 7 an <strong>assemblyBinding</strong> element can include a <strong>probing</strong> subelement.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3>probing</h3>
<p>An optional subelement of an <strong>assemblyBinding</strong> element that extends the search for assemblies into additional directories. The additional directories are not required to be subdirectories of the directory of the assembly.</p>
<blockquote>
<p>[!Note]<br />
This element is unavailable on systems earlier than Windows Server 2008 R2 and Windows 7 and can only be used within a <strong>windows</strong> element.</p>
</blockquote>
<p>This element has the attributes shown in the following table.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>privatePath</strong></td>
<td>Specifies the <a href="/windows/desktop/FileIO/naming-a-file">relative paths</a> of subdirectories of the application's base directory that might contain assemblies. A maximum of nine subdirectory paths can be specified. Delimit each subdirectory path with a semicolon.</td>
</tr>
</tbody>
</table>
<p>You can use the double-dots special specifier in a path to denote the parent directory of the current directory. No more than two levels above the current directory can be specified using double-dots. Do not use triple-dots. For example, an application using the following <strong>probing</strong> element checks additional directories for an assembly.</p>
<pre lang="XML"><code>&lt;probing privatePath=&quot;bin;..\bin2\subbin;bin3&quot;/&gt;
</code></pre>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3>dependency</h3>
<p>A container element for at least one <strong>dependentAssembly</strong>. Every <strong>dependentAssembly</strong> can be inside exactly one <strong>dependency</strong>. This element has no attributes. Optional.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3>dependentAssembly</h3>
<p>The first subelement must be an <strong>assemblyIdentity</strong> element that identifies the side-by-side assembly being redirected by the application configuration file. A <strong>dependentAssembly</strong> has no attributes.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3>assemblyIdentity</h3>
<p>As the first subelement of an <strong>assemblyBinding</strong> element, <strong>assemblyIdentity</strong> describes and uniquely identifies an application. The application configuration file redirects the binding of this application to side-by-side assemblies. For example, the following <strong>assemblyIdentity</strong> indicates that the application configuration file affects the binding of the application mysampleApp to side-by-side assemblies. The assemblies being redirected would be identified in a <strong>dependentAssembly</strong>.</p>
<pre lang="XML"><code>&lt;assemblyIdentity processorArchitecture=&quot;X86&quot; name=&quot;Microsoft.Windows.mysampleApp&quot; type=&quot;win32&quot; version=&quot;1.0.0.0&quot;/&gt;
</code></pre>
<p>As the first subelement of a <strong>dependentAssembly</strong> element, <strong>assemblyIdentity</strong> describes a side-by-side assembly on which the application depends. The application configuration file reconfigures the identity of this required assembly. For example, the following <strong>assemblyIdentity</strong> and <strong>bindingRedirect</strong> reconfigures a dependency on Microsoft.Windows.SampleAssembly from version 2.0.0.0 to version 2.1.0.0.</p>
<pre lang="XML"><code>&lt;dependency&gt;
      &lt;dependentAssembly&gt;
         &lt;assemblyIdentity type=&quot;win32&quot;
          name=&quot;Microsoft.Windows.SampleAssembly&quot;
          processorArchitecture=&quot;x86&quot;
          publicKeyToken=&quot;0000000000000000&quot;/&gt;
         &lt;bindingRedirect oldVersion=&quot;2.0.0.0&quot; newVersion=&quot;2.1.0.0&quot;/&gt;
      &lt;/dependentAssembly&gt;
&lt;/dependency&gt;
</code></pre>
<p>Note that every <strong>assemblyIdentity</strong> included in a <strong>dependentAssembly</strong> must exactly match the <strong>assemblyIdentity</strong> in the assembly's own <a href="assembly-manifests.html">assembly manifest</a>.</p>
<p>The <strong>assemblyIdentity</strong> element has the following attributes. It has no subelements.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>type</strong></td>
<td>The value must be win32 (lower case). Required.</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td>The name attribute identifies the application being affected by the application configuration file or the assembly being redirected. Use the following format for the name: Organization.Division.Name. Required. For example: Microsoft.Windows.MysampleApp or Microsoft.Windows.MysampleAsm.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><strong>language</strong></td>
<td>Identifies the language. Optional. For an <strong>assemblyIdentity</strong> referring to an assembly, if the assembly is language-specific, specify the DHTML language code. If the assembly is for worldwide use (language neutral) set the value as &quot;*&quot;.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><strong>processorArchitecture</strong></td>
<td>Specifies the processor running the application.</td>
</tr>
<tr>
<td><strong>version</strong></td>
<td>Specifies the version of the application or assembly. Use four-part version syntax: mmmm.nnnn.oooo.pppp. Required.</td>
</tr>
<tr>
<td><strong>publicKeyToken</strong></td>
<td>For an <strong>assemblyIdentity</strong> referring to an assembly, a 16-character hexadecimal string representing the last 8 bytes of the SHA-1 hash of the public key under which the assembly is signed. The public key used to sign the catalog must be 2048 bits or greater. Required for all shared side-by-side assemblies.</td>
</tr>
</tbody>
</table>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3>bindingRedirect</h3>
<p>The <strong>bindingRedirect</strong> element contains redirection information for the binding of the assembly. Each <strong>bindingRedirect</strong> must be included in exactly one <strong>dependentAssembly</strong>. The four-part version syntax of the new version and the old version must specify the same major and minor versions.</p>
<p>This element has the attributes shown in the following table.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>oldVersion</strong></td>
<td>Specifies the assembly version being overridden and redirected. Use the four-part version syntax nnnnn.nnnnn.nnnnn.nnnnn. Specify a range of versions by a dash without spaces. For example, 2.14.3.0 or 2.14.3.0 2.16.0.0. Required.</td>
</tr>
<tr>
<td><strong>newVersion</strong></td>
<td>Specifies the replacement assembly version. Use four-part version syntax nnnnn.nnnnn.nnnnn.nnnnn.</td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>Application configuration files do not specify files.</p>
<h2>Example</h2>
<pre lang="XML"><code>&lt;bindingRedirect oldVersion=&quot;1.0.0.0&quot; newVersion=&quot;1.0.10.0&quot;/&gt;
&lt;bindingRedirect oldVersion=&quot;1.0.50.2011-1.0.60.65535&quot; newVersion=&quot;1.0.70.0&quot;/&gt;
</code></pre>
</body>
