<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Encoding (Windows Imaging Component)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Encoding
ms.assetid: 501e63bf-26ef-42fb-b181-f1a8b26c122c
title: Encoding (Windows Imaging Component)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Encoding (Windows Imaging Component)</h1>
<p>The encoder author must do the following:</p>
<ul>
<li>Implement <a href="/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapencoder"><strong>IWICBitmapEncoder</strong></a> and <a href="/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframeencode"><strong>IWICBitmapFrameEncode</strong></a> interfaces.</li>
<li>Implement <a href="/windows/desktop/api/Wincodecsdk/nn-wincodecsdk-iwicmetadatablockwriter"><strong>IWICMetadataBlockWriter</strong></a> on the frame encoder. If the codec supports container-level metadata, this interface must be implemented on the container-level encoder as well as on the frame encoder.</li>
<li>If the container format implicitly contains any mandatory metadata blocks, instantiate a metadata writer for each such block. For example, the TIFF format requires an interface device (IFD) for each frame, so the IFD writer must always be exposed.</li>
<li>Implement support for managing the collection of metadata writers. The block writer manages any order requirements or container restrictions on the kinds of metadata blocks that can be encoded. The block writer must verify that any new metadata writers can be embedded within the container format.</li>
<li>When encoding the image stream, call <a href="/windows/desktop/api/wincodecsdk/nf-wincodecsdk-wicserializemetadatacontent"><strong>WICSerializeMetadataContent</strong></a> to serialize each metadata writerâ€™s content into the stream. If the metadata block contains &quot;critical&quot; metadata the encoder must set the critical metadata items before asking the metadata writer to serialize content.</li>
<li>Check for any unknown metadata handlers to ensure that redundant metadata blocks are not present. This is important because, while preserving metadata in a decode or encode scenario, unknown blocks might be a duplicate of mandatory metadata blocks.</li>
</ul>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><strong>Conceptual</strong></p>
<!-- raw HTML omitted -->
<p><a href="-wic-about-windows-imaging-codec.html">Windows Imaging Component Overview</a></p>
<!-- raw HTML omitted -->
<p><a href="-wic-rawguidelines.html">WIC Guidelines for Camera RAW Image Formats</a></p>
<!-- raw HTML omitted -->
<p><a href="-wic-howtowriteacodec.html">How to Write a WIC-Enabled CODEC</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
