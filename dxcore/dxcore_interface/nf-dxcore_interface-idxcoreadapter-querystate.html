<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>IDXCoreAdapter::QueryState method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: IDXCoreAdapter::QueryState
description: Retrieves the current state of the specified item on the adapter.
ms.topic: reference
ms.date: 06/20/2019</h2>
<h1>IDXCoreAdapter::QueryState method</h1>
<p>Retrieves the current state of the specified item on the adapter. Before calling <strong>QueryState</strong> for a property type, call <a href="./nf-dxcore_interface-idxcoreadapter-isquerystatesupported.html">IsQueryStateSupported</a> to confirm that querying the state kind is available for this adapter and operating system (OS).</p>
<h2>Syntax</h2>
<pre lang="cpp"><code>virtual HRESULT STDMETHODCALLTYPE QueryState( 
  DXCoreAdapterState state,
  size_t inputStateDetailsSize,
  _In_reads_bytes_opt_(inputStateDetailsSize) const void *inputStateDetails,
  size_t outputBufferSize,
  _Out_writes_bytes_(outputBufferSize) void *outputBuffer) = 0;

template &lt;class T1, class T2&gt;
HRESULT QueryState( 
  DXCoreAdapterState state,
  _In_reads_bytes_opt_(sizeof(T1)) const T1 *inputStateDetails,
  _Out_writes_bytes_(sizeof(T2)) T2 *outputBuffer);

template &lt;class T&gt;
HRESULT QueryState( 
  DXCoreAdapterState state,
  _Out_writes_bytes_(sizeof(T)) T *outputBuffer);
</code></pre>
<h2>Parameters</h2>
<h3>state</h3>
<p>Type: <strong><a href="/windows/win32/api/dxcore_interface/ne-dxcore_interface-dxcoreadapterstate">DXCoreAdapterState</a></strong></p>
<p>The kind of state item on the adapter whose state you wish to retrieve. See the table in <a href="/windows/win32/api/dxcore_interface/ne-dxcore_interface-dxcoreadapterstate">DXCoreAdapterState</a> for more info about each adapter state kind.</p>
<h3>inputStateDetailsSize</h3>
<p>Type: <strong>size_t</strong></p>
<p>The size, in bytes, of the input state details buffer that you (optionally) allocate and provide in <em>inputStateDetails</em>.</p>
<h3>inputStateDetails [in]</h3>
<p>Type: <strong>void const*</strong></p>
<p>An optional pointer to a constant input state details buffer that you allocate in your application, containing any information about your request that's required for the state kind you specify in <em>state</em>. See the table in <a href="/windows/win32/api/dxcore_interface/ne-dxcore_interface-dxcoreadapterstate">DXCoreAdapterState</a> for more info about any input buffer requirement for a given state kind.</p>
<h3>outputBufferSize</h3>
<p>Type: <strong>size_t</strong></p>
<p>The size, in bytes, of the output buffer that you allocate and provide in <em>outputBuffer</em>.</p>
<h3>outputBuffer [out]</h3>
<p>Type: <strong>void*</strong></p>
<p>A pointer to an output buffer that you allocate in your application, and that the function fills in. See the table in <a href="/windows/win32/api/dxcore_interface/ne-dxcore_interface-dxcoreadapterstate">DXCoreAdapterState</a> for more info about the output buffer requirement for a given state kind.</p>
<h2>Returns</h2>
<p>Type: <strong><a href="../../com/structure-of-com-error-codes.html">HRESULT</a></strong></p>
<p>If the function succeeds, it returns <strong>S_OK</strong>. Otherwise, it returns an <a href="../../com/structure-of-com-error-codes.html"><strong>HRESULT</strong></a> <a href="../../com/com-error-codes-10.html">error code</a>.</p>
<table>
<thead>
<tr>
<th>Return value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DXGI_ERROR_DEVICE_REMOVED</td>
<td>The adapter is no longer in a valid state.</td>
</tr>
<tr>
<td>DXGI_ERROR_INVALID_CALL</td>
<td>The state kind specified in <em>state</em> is not recognized by this operating system (OS). Call <a href="./nf-dxcore_interface-idxcoreadapter-isquerystatesupported.html">IsQueryStateSupported</a> to confirm that querying the state kind is available for this adapter and operating system (OS).</td>
</tr>
<tr>
<td>DXGI_ERROR_UNSUPPORTED</td>
<td>The state kind specified in <em>state</em> is not supported by the adapter. Call <a href="./nf-dxcore_interface-idxcoreadapter-isquerystatesupported.html">IsQueryStateSupported</a> to confirm that querying the state kind is available for this adapter and operating system (OS).</td>
</tr>
<tr>
<td>E_INVALIDARG</td>
<td>An insufficient buffer size is provided for <em>outputBuffer</em> (or for <em>inputStateDetails</em> where an input state details buffer is necessary).</td>
</tr>
<tr>
<td>E_POINTER</td>
<td><code>nullptr</code> was provided for <em>outputBuffer</em> (or for <em>inputStateDetails</em> where an input state details buffer is necessary).</td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>See <a href="/windows/win32/api/dxcore_interface/ne-dxcore_interface-dxcoreadapterstate">DXCoreAdapterState</a> for more info about each adapter state kind, and what inputs and outputs are used. This function zeros out the <em>outputBuffer</em> buffer prior to filling it in.</p>
<h2>See also</h2>
<p><a href="./nn-dxcore_interface-idxcoreadapter.html">IDXCoreAdapter</a>, <a href="../dxcore-reference.html">DXCore reference</a>, <a href="../dxcore-enum-adapters.html">Using DXCore to enumerate adapters</a></p>
</body>
