<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>VBI Surface Allocator</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: VBI Surface Allocator
ms.assetid: 51c73a25-1112-4fb4-a45f-967c6a1b5c55
title: VBI Surface Allocator
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</h2>
<h1>VBI Surface Allocator</h1>
<p>[The feature associated with this page, <a href="/windows/win32/directshow/directshow">DirectShow</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Playback.MediaPlayer">MediaPlayer</a>, <a href="/windows/win32/api/mfmediaengine/nn-mfmediaengine-imfmediaengine">IMFMediaEngine</a>, and <a href="/windows/win32/medfound/audio-video-capture-in-media-foundation">Audio/Video Capture in Media Foundation</a>. Those features have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaPlayer</strong>, <strong>IMFMediaEngine</strong> and <strong>Audio/Video Capture in Media Foundation</strong> instead of <strong>DirectShow</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>The VBI Surface Allocator controls the allocation of VBI buffers in analog television graphs with hardware video port capture scenarios. With devices such as the Bt829 decoder, the frame buffer may contain multiple VBI capture buffers that are accessed via a proprietary hardware-based mechanism known generically as a Video Port. The VBI Surface Allocator filter connects downstream from the capture filter and has no output pin. The filter works closely with the <a href="overlay-mixer-filter.html">Overlay Mixer</a> (via DirectDraw) to perform coordinated operations on the hardware video port, utilizing the same limited SVGA frame buffer memory.</p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Filter Interfaces</td>
<td><a href="/windows/desktop/api/Strmif/nn-strmif-ibasefilter"><strong>IBaseFilter</strong></a></td>
</tr>
<tr>
<td>Input Pin Media Types</td>
<td>MEDIATYPE_Video, MEDIASUBTYPE_VPVBI</td>
</tr>
<tr>
<td>Input Pin Interfaces</td>
<td><a href="ikspropertyset.html"><strong>IKsPropertySet</strong></a></td>
</tr>
<tr>
<td>Output Pin Media Types</td>
<td>MEDIATYPE_NULL, MEDIASUBTYPE_NULL. (Nothing is ever connected to the output pin.)</td>
</tr>
<tr>
<td>Output Pin Interfaces</td>
<td>Not applicable.</td>
</tr>
<tr>
<td>Filter CLSID</td>
<td>CLSID_VBISurfaces</td>
</tr>
<tr>
<td>Property Page CLSID</td>
<td>No property page.</td>
</tr>
<tr>
<td>Executable</td>
<td>vbisurf.ax</td>
</tr>
<tr>
<td><a href="merit.html">Merit</a></td>
<td>MERIT_NORMAL</td>
</tr>
<tr>
<td><a href="filter-categories.html">Filter Category</a></td>
<td>CLSID_LegacyAmFilterCategory</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="directshow-filters.html">DirectShow Filters</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
