<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>CBaseInputPin class</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: The CBaseInputPin class is an abstract base class for implementing input pins. This class adds support for the IMemInputPin interface, in addition to the IPin interface support provided by CBasePin.
ms.assetid: 5a2b7f09-8c8b-45da-a4b7-afeb8d5548c1
title: CBaseInputPin class (Amfilter.h)
ms.topic: reference
ms.date: 4/26/2023
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>CBaseInputPin
api_type:</li>
<li>COM
api_location:</li>
<li>Strmbase.lib</li>
<li>Strmbase.dll</li>
<li>Strmbasd.lib</li>
<li>Strmbasd.dll
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>CBaseInputPin class</h1>
<p>[The feature associated with this page, <a href="/windows/win32/directshow/directshow">DirectShow</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Playback.MediaPlayer">MediaPlayer</a>, <a href="/windows/win32/api/mfmediaengine/nn-mfmediaengine-imfmediaengine">IMFMediaEngine</a>, and <a href="/windows/win32/medfound/audio-video-capture-in-media-foundation">Audio/Video Capture in Media Foundation</a>. Those features have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaPlayer</strong>, <strong>IMFMediaEngine</strong> and <strong>Audio/Video Capture in Media Foundation</strong> instead of <strong>DirectShow</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p><img src="images/filter07.png" alt="cbaseinputpin class hierarchy" /></p>
<p>The <code>CBaseInputPin</code> class is an abstract base class for implementing input pins. This class adds support for the <a href="/windows/desktop/api/Strmif/nn-strmif-imeminputpin"><strong>IMemInputPin</strong></a> interface, in addition to the <a href="/windows/desktop/api/Strmif/nn-strmif-ipin"><strong>IPin</strong></a> interface support provided by <a href="cbasepin.html"><strong>CBasePin</strong></a>.</p>
<p>To use this class, derive a new class and override at least the following methods:</p>
<ul>
<li><a href="cbaseinputpin-beginflush.html"><strong>CBaseInputPin::BeginFlush</strong></a></li>
<li><a href="cbaseinputpin-endflush.html"><strong>CBaseInputPin::EndFlush</strong></a></li>
<li><a href="cbaseinputpin-receive.html"><strong>CBaseInputPin::Receive</strong></a></li>
<li><a href="cbasepin-checkmediatype.html"><strong>CBasePin::CheckMediaType</strong></a></li>
<li><a href="cbasepin-getmediatype.html"><strong>CBasePin::GetMediaType</strong></a></li>
</ul>
<p>Depending on the function of the pin, you might need to override additional methods in <code>CBaseInputPin</code> or <strong>CBasePin</strong>.</p>
<table>
<thead>
<tr>
<th>Protected Member Variables</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="cbaseinputpin-m-pallocator.html"><strong>m_pAllocator</strong></a></td>
<td>Pointer to the memory allocator.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-m-breadonly.html"><strong>m_bReadOnly</strong></a></td>
<td>Flag that indicates whether the allocator produces read-only media samples.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-m-bflushing.html"><strong>m_bFlushing</strong></a></td>
<td>Flag that indicates whether the pin is currently flushing.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-m-sampleprops.html"><strong>m_SampleProps</strong></a></td>
<td>Properties of the most recent sample.</td>
</tr>
<tr>
<td>Public Methods</td>
<td>Description</td>
</tr>
<tr>
<td><a href="cbaseinputpin-cbaseinputpin.html"><strong>CBaseInputPin</strong></a></td>
<td>Constructor method.</td>
</tr>
<tr>
<td><a href="cbaseinputpin--cbaseinputpin.html"><strong>~CBaseInputPin</strong></a></td>
<td>Destructor method.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-breakconnect.html"><strong>BreakConnect</strong></a></td>
<td>Releases the pin from a connection.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-isreadonly.html"><strong>IsReadOnly</strong></a></td>
<td>Queries whether the allocator uses read-only media samples.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-isflushing.html"><strong>IsFlushing</strong></a></td>
<td>Queries whether the filter is currently flushing.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-checkstreaming.html"><strong>CheckStreaming</strong></a></td>
<td>Determines whether the pin can accept samples. Virtual.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-passnotify.html"><strong>PassNotify</strong></a></td>
<td>Passes a quality-control message to the appropriate object.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-inactive.html"><strong>Inactive</strong></a></td>
<td>Notifies the pin that the filter is no longer active. Virtual.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-sampleprops.html"><strong>SampleProps</strong></a></td>
<td>Retrieves the properties of the most recent sample.</td>
</tr>
<tr>
<td>IPin Methods</td>
<td>Description</td>
</tr>
<tr>
<td><a href="cbaseinputpin-beginflush.html"><strong>BeginFlush</strong></a></td>
<td>Begins a flush operation.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-endflush.html"><strong>EndFlush</strong></a></td>
<td>Ends a flush operation.</td>
</tr>
<tr>
<td>IMemInputPin Methods</td>
<td>Description</td>
</tr>
<tr>
<td><a href="cbaseinputpin-getallocator.html"><strong>GetAllocator</strong></a></td>
<td>Retrieves the memory allocator proposed by this pin.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-notifyallocator.html"><strong>NotifyAllocator</strong></a></td>
<td>Specifies an allocator for the connection.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-getallocatorrequirements.html"><strong>GetAllocatorRequirements</strong></a></td>
<td>Retrieves the allocator properties requested by the input pin.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-receive.html"><strong>Receive</strong></a></td>
<td>Receives the next media sample in the stream.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-receivemultiple.html"><strong>ReceiveMultiple</strong></a></td>
<td>Receives multiple samples in the stream.</td>
</tr>
<tr>
<td><a href="cbaseinputpin-receivecanblock.html"><strong>ReceiveCanBlock</strong></a></td>
<td>Determines whether calls to the <a href="cbaseinputpin-receive.html"><strong>CBaseInputPin::Receive</strong></a> method might block.</td>
</tr>
<tr>
<td>IQualityControl Methods</td>
<td>Description</td>
</tr>
<tr>
<td><a href="cbaseinputpin-notify.html"><strong>Notify</strong></a></td>
<td>Receives a quality-control message.</td>
</tr>
</tbody>
</table>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Amfilter.h (include Streams.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Strmbase.lib (retail builds); <!-- raw HTML omitted --> <!-- raw HTML omitted -->Strmbasd.lib (debug builds)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
</body>
