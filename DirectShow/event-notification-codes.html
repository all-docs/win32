<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Event Notification Codes</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Event Notification Codes
ms.assetid: 339ffcd9-7724-4c92-b241-afbed81d9380
title: Event Notification Codes
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</h2>
<h1>Event Notification Codes</h1>
<p>[The feature associated with this page, <a href="/windows/win32/directshow/directshow">DirectShow</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Playback.MediaPlayer">MediaPlayer</a>, <a href="/windows/win32/api/mfmediaengine/nn-mfmediaengine-imfmediaengine">IMFMediaEngine</a>, and <a href="/windows/win32/medfound/audio-video-capture-in-media-foundation">Audio/Video Capture in Media Foundation</a>. Those features have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaPlayer</strong>, <strong>IMFMediaEngine</strong> and <strong>Audio/Video Capture in Media Foundation</strong> instead of <strong>DirectShow</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>This sections lists the DirectShow events that are not specific to DVD. For events specific to DVD, see <a href="dvd-notification-codes.html">DVD Event Notification Codes</a>.</p>
<p>Filters send events to the Filter Graph Manager by calling the <a href="/windows/desktop/api/Strmif/nf-strmif-imediaeventsink-notify"><strong>IMediaEventSink::Notify</strong></a> method. The Filter Graph Manager handles some events and queues others for the application. The application retrieves them by calling the <a href="/windows/desktop/api/Control/nf-control-imediaevent-getevent"><strong>IMediaEvent::GetEvent</strong></a> method.</p>
<p>In the sections that follow, each entry lists the event code, the meaning of the event parameters, and the Filter Graph Manager's default action for the event, if any. To override the default action, call <a href="/windows/desktop/api/Control/nf-control-imediaevent-canceldefaulthandling"><strong>IMediaEvent::CancelDefaultHandling</strong></a>. Event codes are defined in the header files Evcode.h and Audevcod.h. If there is no default action, the Filter Graph Manager automatically forwards the event to the application (through the event queue).</p>
<p><strong>Custom Events</strong></p>
<p>Filters can define custom events with event codes in the range EC_USER and higher. The Filter Graph Manager will place these directly in the event queue. However, the following caveats apply:</p>
<ul>
<li>The Filter Graph Manager cannot free the event parameters using the normal <a href="/windows/desktop/api/Control/nf-control-imediaevent-freeeventparams"><strong>IMediaEvent::FreeEventParams</strong></a> method. The application must free any memory or reference counts associated with the event parameters.</li>
<li>The filter should only send the event from within an application that is prepared to handle the event. (Possibly the application can set a custom property on the filter to indicate that it is safe to send the event.)</li>
</ul>
<table>
<thead>
<tr>
<th>Event notification code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="ec-activate.html"><strong>EC_ACTIVATE</strong></a></td>
<td>A video window is being activated or deactivated.</td>
</tr>
<tr>
<td><a href="ec-bandwidthchange.html"><strong>EC_BANDWIDTHCHANGE</strong></a></td>
<td>Not supported.</td>
</tr>
<tr>
<td><a href="ec-buffering-data.html"><strong>EC_BUFFERING_DATA</strong></a></td>
<td>The graph is buffering data, or has stopped buffering data.</td>
</tr>
<tr>
<td><a href="ec-built.html"><strong>EC_BUILT</strong></a></td>
<td>Send by the Video Control when a graph has been built. Not forwarded to applications.</td>
</tr>
<tr>
<td><a href="ec-clock-changed.html"><strong>EC_CLOCK_CHANGED</strong></a></td>
<td>The reference clock has changed.</td>
</tr>
<tr>
<td><a href="ec-clock-unset.html"><strong>EC_CLOCK_UNSET</strong></a></td>
<td>The clock provider was disconnected.</td>
</tr>
<tr>
<td><a href="ec-codecapi-event.html"><strong>EC_CODECAPI_EVENT</strong></a></td>
<td>Sent by an encoder to signal an encoding event.</td>
</tr>
<tr>
<td><a href="ec-complete.html"><strong>EC_COMPLETE</strong></a></td>
<td>All data from a particular stream has been rendered.</td>
</tr>
<tr>
<td><a href="ec-contentproperty-changed.html"><strong>EC_CONTENTPROPERTY_CHANGED</strong></a></td>
<td>Not supported.</td>
</tr>
<tr>
<td><a href="ec-device-lost.html"><strong>EC_DEVICE_LOST</strong></a></td>
<td>A Plug and Play device was removed or has become available again.</td>
</tr>
<tr>
<td><a href="ec-display-changed.html"><strong>EC_DISPLAY_CHANGED</strong></a></td>
<td>The display mode has changed.</td>
</tr>
<tr>
<td><a href="ec-end-of-segment.html"><strong>EC_END_OF_SEGMENT</strong></a></td>
<td>The end of a segment has been reached.</td>
</tr>
<tr>
<td><a href="ec-eos-soon.html"><strong>EC_EOS_SOON</strong></a></td>
<td>Not supported.</td>
</tr>
<tr>
<td><a href="ec-error-stillplaying.html"><strong>EC_ERROR_STILLPLAYING</strong></a></td>
<td>An asynchronous command to run the graph has failed.</td>
</tr>
<tr>
<td><a href="ec-errorabort.html"><strong>EC_ERRORABORT</strong></a></td>
<td>An operation was aborted because of an error.</td>
</tr>
<tr>
<td><a href="ec-errorabortex.html"><strong>EC_ERRORABORTEX</strong></a></td>
<td>An operation was aborted because of an error.</td>
</tr>
<tr>
<td><a href="ec-extdevice-mode-change.html"><strong>EC_EXTDEVICE_MODE_CHANGE</strong></a></td>
<td>Not supported.</td>
</tr>
<tr>
<td><a href="ec-file-closed.html"><strong>EC_FILE_CLOSED</strong></a></td>
<td>The source file was closed because of an unexpected event.</td>
</tr>
<tr>
<td><a href="ec-fullscreen-lost.html"><strong>EC_FULLSCREEN_LOST</strong></a></td>
<td>The video renderer is switching out of full-screen mode.</td>
</tr>
<tr>
<td><a href="ec-graph-changed.html"><strong>EC_GRAPH_CHANGED</strong></a></td>
<td>The filter graph has changed.</td>
</tr>
<tr>
<td><a href="ec-length-changed.html"><strong>EC_LENGTH_CHANGED</strong></a></td>
<td>The length of a source has changed.</td>
</tr>
<tr>
<td><a href="ec-loadstatus.html"><strong>EC_LOADSTATUS</strong></a></td>
<td>Notifies the application of progress when opening a network file.</td>
</tr>
<tr>
<td><a href="ec-marker-hit.html"><strong>EC_MARKER_HIT</strong></a></td>
<td>Not supported.</td>
</tr>
<tr>
<td><a href="ec-need-restart.html"><strong>EC_NEED_RESTART</strong></a></td>
<td>A filter is requesting that the graph be restarted.</td>
</tr>
<tr>
<td><a href="ec-new-pin.html"><strong>EC_NEW_PIN</strong></a></td>
<td>Not supported.</td>
</tr>
<tr>
<td><a href="ec-notify-window.html"><strong>EC_NOTIFY_WINDOW</strong></a></td>
<td>Notifies a filter of the video renderer's window.</td>
</tr>
<tr>
<td><a href="ec-ole-event.html"><strong>EC_OLE_EVENT</strong></a></td>
<td>A filter is passing a text string to the application.</td>
</tr>
<tr>
<td><a href="ec-opening-file.html"><strong>EC_OPENING_FILE</strong></a></td>
<td>The graph is opening a file, or has finished opening a file.</td>
</tr>
<tr>
<td><a href="ec-palette-changed.html"><strong>EC_PALETTE_CHANGED</strong></a></td>
<td>The video palette has changed.</td>
</tr>
<tr>
<td><a href="ec-paused.html"><strong>EC_PAUSED</strong></a></td>
<td>A pause request has completed.</td>
</tr>
<tr>
<td><a href="ec-please-reopen.html"><strong>EC_PLEASE_REOPEN</strong></a></td>
<td>The source file has changed.</td>
</tr>
<tr>
<td><a href="ec-preprocess-complete.html"><strong>EC_PREPROCESS_COMPLETE</strong></a></td>
<td>Sent by the <a href="wm-asf-writer-filter.html">WM ASF Writer</a> filter when it completes the pre-processing for multipass encoding.</td>
</tr>
<tr>
<td><a href="ec-processing-latency.html"><strong>EC_PROCESSING_LATENCY</strong></a></td>
<td>Indicates the amount of time that a component is taking to process each sample.</td>
</tr>
<tr>
<td><a href="ec-quality-change.html"><strong>EC_QUALITY_CHANGE</strong></a></td>
<td>The graph is dropping samples, for quality control.</td>
</tr>
<tr>
<td><a href="ec-render-finished.html"><strong>EC_RENDER_FINISHED</strong></a></td>
<td>Not supported.</td>
</tr>
<tr>
<td><a href="ec-repaint.html"><strong>EC_REPAINT</strong></a></td>
<td>A video renderer requires a repaint.</td>
</tr>
<tr>
<td><a href="ec-sample-latency.html"><strong>EC_SAMPLE_LATENCY</strong></a></td>
<td>Specifies how far behind schedule a component is for processing samples.</td>
</tr>
<tr>
<td><a href="ec-sample-needed.html"><strong>EC_SAMPLE_NEEDED</strong></a></td>
<td>Requests a new input sample from the Enhanced Video Renderer (EVR) filter.</td>
</tr>
<tr>
<td><a href="ec-scrub-time.html"><strong>EC_SCRUB_TIME</strong></a></td>
<td>Specifies the time stamp for the most recent frame step.</td>
</tr>
<tr>
<td><a href="ec-segment-started.html"><strong>EC_SEGMENT_STARTED</strong></a></td>
<td>A new segment has started.</td>
</tr>
<tr>
<td><a href="ec-shutting-down.html"><strong>EC_SHUTTING_DOWN</strong></a></td>
<td>The filter graph is shutting down, prior to being destroyed.</td>
</tr>
<tr>
<td><a href="ec-snddev-in-error.html"><strong>EC_SNDDEV_IN_ERROR</strong></a></td>
<td>A device error has occurred in an audio capture filter.</td>
</tr>
<tr>
<td><a href="ec-snddev-out-error.html"><strong>EC_SNDDEV_OUT_ERROR</strong></a></td>
<td>A device error has occurred in an audio renderer filter.</td>
</tr>
<tr>
<td><a href="ec-starvation.html"><strong>EC_STARVATION</strong></a></td>
<td>A filter is not receiving enough data.</td>
</tr>
<tr>
<td><a href="ec-state-change.html"><strong>EC_STATE_CHANGE</strong></a></td>
<td>The filter graph has changed state.</td>
</tr>
<tr>
<td><a href="ec-status.html"><strong>EC_STATUS</strong></a></td>
<td>Contains two arbitrary status strings.</td>
</tr>
<tr>
<td><a href="ec-step-complete.html"><strong>EC_STEP_COMPLETE</strong></a></td>
<td>A filter performing frame stepping has stepped the specified number of frames.</td>
</tr>
<tr>
<td><a href="ec-stream-control-started.html"><strong>EC_STREAM_CONTROL_STARTED</strong></a></td>
<td>A stream-control start command has taken effect.</td>
</tr>
<tr>
<td><a href="ec-stream-control-stopped.html"><strong>EC_STREAM_CONTROL_STOPPED</strong></a></td>
<td>A stream-control stop command has taken effect.</td>
</tr>
<tr>
<td><a href="ec-stream-error-stillplaying.html"><strong>EC_STREAM_ERROR_STILLPLAYING</strong></a></td>
<td>An error has occurred in a stream. The stream is still playing.</td>
</tr>
<tr>
<td><a href="ec-stream-error-stopped.html"><strong>EC_STREAM_ERROR_STOPPED</strong></a></td>
<td>A stream has stopped because of an error.</td>
</tr>
<tr>
<td><a href="ec-timecode-available.html"><strong>EC_TIMECODE_AVAILABLE</strong></a></td>
<td>Not supported.</td>
</tr>
<tr>
<td><a href="ec-unbuilt.html"><strong>EC_UNBUILT</strong></a></td>
<td>Send by the Video Control when a graph has been torn down. Not forwarded to applications.</td>
</tr>
<tr>
<td><a href="ec-userabort.html"><strong>EC_USERABORT</strong></a></td>
<td>The user has terminated playback.</td>
</tr>
<tr>
<td><a href="ec-video-size-changed.html"><strong>EC_VIDEO_SIZE_CHANGED</strong></a></td>
<td>The native video size has changed.</td>
</tr>
<tr>
<td><a href="ec-videoframeready.html"><strong>EC_VIDEOFRAMEREADY</strong></a></td>
<td>A video frame is ready for display.</td>
</tr>
<tr>
<td><a href="ec-vmr-reconnection-failed.html"><strong>EC_VMR_RECONNECTION_FAILED</strong></a></td>
<td>Sent by the VMR-7 and the VMR-9 when it was unable to accept a dynamic format change request from the upstream decoder.</td>
</tr>
<tr>
<td><a href="ec-vmr-renderdevice-set.html"><strong>EC_VMR_RENDERDEVICE_SET</strong></a></td>
<td>Sent when the VMR has selected its rendering mechanism.</td>
</tr>
<tr>
<td><a href="ec-vmr-surface-flipped.html"><strong>EC_VMR_SURFACE_FLIPPED</strong></a></td>
<td>Sent when the VMR-7's allocator presenter has called the DirectDraw Flip method on the surface being presented.</td>
</tr>
<tr>
<td><a href="ec-window-destroyed.html"><strong>EC_WINDOW_DESTROYED</strong></a></td>
<td>The video renderer was destroyed or removed from the graph.</td>
</tr>
<tr>
<td><a href="ec-wmt-event.html"><strong>EC_WMT_EVENT</strong></a></td>
<td>Sent by the WM ASF Reader filter when it reads ASF files protected by digital rights management (DRM).</td>
</tr>
<tr>
<td><a href="ec-wmt-index-event.html"><strong>EC_WMT_INDEX_EVENT</strong></a></td>
<td>Sent when an application uses the WM ASF Writer to index Windows Media Video files.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="constants-and-guids.html">Constants and GUIDs</a></p>
<!-- raw HTML omitted -->
<p><a href="event-notification-in-directshow.html">Event Notification in DirectShow</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
