<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Graph-Building Components</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Graph-Building Components
ms.assetid: d803c56c-6fb1-4937-92e7-9ed2db2afc46
title: Graph-Building Components
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</h2>
<h1>Graph-Building Components</h1>
<p>[The feature associated with this page, <a href="/windows/win32/directshow/directshow">DirectShow</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Playback.MediaPlayer">MediaPlayer</a>, <a href="/windows/win32/api/mfmediaengine/nn-mfmediaengine-imfmediaengine">IMFMediaEngine</a>, and <a href="/windows/win32/medfound/audio-video-capture-in-media-foundation">Audio/Video Capture in Media Foundation</a>. Those features have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaPlayer</strong>, <strong>IMFMediaEngine</strong> and <strong>Audio/Video Capture in Media Foundation</strong> instead of <strong>DirectShow</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>DirectShow provides several components that can be used to build filter graphs. These include the following:</p>
<ul>
<li><a href="filter-graph-manager.html">Filter Graph Manager</a>. This object controls the filter graph. It supports the <a href="/windows/desktop/api/Strmif/nn-strmif-igraphbuilder"><strong>IGraphBuilder</strong></a>, <a href="/windows/desktop/api/Control/nn-control-imediacontrol"><strong>IMediaControl</strong></a>, and <a href="/windows/desktop/api/Control/nn-control-imediaeventex"><strong>IMediaEventEx</strong></a> interfaces, among others. All DirectShow applications use this object at some point, although in some cases another object creates the Filter Graph Manager for the application.</li>
<li><a href="capture-graph-builder.html">Capture Graph Builder</a>. This object provides additional methods for building filter graphs. It was originally designed for building graphs that perform video capture (hence the name) but is useful for many other types of custom filter graph. It supports the <a href="/windows/desktop/api/Strmif/nn-strmif-icapturegraphbuilder2"><strong>ICaptureGraphBuilder2</strong></a> interface.</li>
<li><a href="filter-mapper.html">Filter Mapper</a> and <a href="system-device-enumerator.html">System Device Enumerator</a>. These objects locate filters that are registered on the user's system, or that represent hardware devices.</li>
<li><a href="dvd-graph-builder.html">DVD Graph Builder</a>. This object builds filter graphs for DVD playback and navigation. It supports the <a href="/windows/desktop/api/Strmif/nn-strmif-idvdgraphbuilder"><strong>IDvdGraphBuilder</strong></a> interface.</li>
</ul>
<h3>Intelligent Connect</h3>
<p>The term &quot;Intelligent Connect&quot; covers a set of algorithms that the Filter Graph Manager uses to build all or part of a filter graph. Whenever the Filter Graph Manager requires additional filters to complete the graph, it does roughly the following:</p>
<ol>
<li>If there is a filter currently in the graph, with at least one unconnected input pin, the Filter Graph Manager tries to use that filter.</li>
<li>Otherwise, the Filter Graph Manager looks in the registry for filters that can accept the correct media type for the connection. Each filter has a registry value called &quot;Merit,&quot; which indicates roughly how likely the filter is to be useful in completing the graph. The Filter Graph Manager tries filters in order of merit value. For each stream type (such as audio, video, or MIDI), the default renderer has a high merit. Decoders also have high merit. Special-purpose filters have low merit.</li>
</ol>
<p>If the Filter Graph Manager gets stuck, it will back out and try a different combination of filters. You can find the exact details in the topic <a href="intelligent-connect.html">Intelligent Connect</a>.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="building-the-filter-graph.html">Building the Filter Graph</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
