<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Video Mixing Renderer Filter 7</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Video Mixing Renderer Filter 7
ms.assetid: c83e6c50-76f2-4aeb-944b-5b244c6bf776
title: Video Mixing Renderer Filter 7
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</h2>
<h1>Video Mixing Renderer Filter 7</h1>
<p>[The feature associated with this page, <a href="/windows/win32/directshow/directshow">DirectShow</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Playback.MediaPlayer">MediaPlayer</a>, <a href="/windows/win32/api/mfmediaengine/nn-mfmediaengine-imfmediaengine">IMFMediaEngine</a>, and <a href="/windows/win32/medfound/audio-video-capture-in-media-foundation">Audio/Video Capture in Media Foundation</a>. Those features have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaPlayer</strong>, <strong>IMFMediaEngine</strong> and <strong>Audio/Video Capture in Media Foundation</strong> instead of <strong>DirectShow</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>This topic applies to Windows XP or later.</p>
<p>In Windows XP and later, the Video Mixing Renderer 7 (VMR-7) is the default video renderer. It is called the VMR-7 because internally it uses DirectDraw 7. In DirectX 9, a similar but separate filter, the VMR-9, is available for redistribution on non-XP systems. The VMR-9 uses Direct3D 9.</p>
<blockquote>
<p>[!Note]<br />
The VMR is available on Windows XP and later. It is not available through the DirectX redistributable, or on previous versions of Windows. For most scenarios, applications should use the <a href="video-mixing-renderer-filter-9.html">Video Mixing Renderer 9</a>.</p>
</blockquote>
<p>Â </p>
<p>Features of the VMR include:</p>
<ul>
<li>True alpha blending of up to 16 input streams</li>
<li>Access to the composited image before it is rendered</li>
<li>A plug-in model that enables third-parties to implement custom video effects.</li>
<li>Support for up to 15 monitors.</li>
</ul>
<p>During graph building on Windows XP and later, the Filter Graph Manager will not use the older Video Renderer or Overlay Mixer filters, unless the application explicitly creates them and adds to the graph.</p>
<p>For more information, see <a href="using-the-video-mixing-renderer.html">Using the Video Mixing Renderer</a>.</p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Filter Interfaces</td>
<td>All modes:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IAMCertifiedOutputProtection<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IAMFilterMiscFlags<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IBaseFilter<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IKsPropertySet<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IMediaPosition<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IMediaSeeking<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IQualityControl<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IQualProp<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IVMRAspectRatioControl<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IVMRDeinterlaceControl<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IVMRFilterConfig<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IVMRMixerBitmap<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Windowed mode:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IBasicVideo<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IBasicVideo2<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IVideoWindow<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IVMRMonitorConfig<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Windowless mode:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IVMRWindowlessControl<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IVMRMonitorConfig<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Renderless mode:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IVMRSurfaceAllocatorNotify<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Mixer mode:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IVMRMixerControl<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->For information about the various VMR-7 modes, see <!-- raw HTML omitted -->VMR Modes of Operation<!-- raw HTML omitted -->.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Input Pin Media Types</td>
<td>Major type: MEDIATYPE_VideoSubtype: Depends on the graphics hardware. Must be uncompressed video.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Input Pin Interfaces</td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IAMVideoAccelerator<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IMemInputPin<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IOverlay<!-- raw HTML omitted --><!-- raw HTML omitted --> (see Remarks)<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IPin<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IPinConnection<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IQualityControl<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IVMRVideoStreamControl<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Output Pin Media Types</td>
<td>Not applicable.</td>
</tr>
<tr>
<td>Output Pin Interfaces</td>
<td>Not applicable.</td>
</tr>
<tr>
<td>Filter CLSID</td>
<td>There are two CLSIDs associated with this filter:<!-- raw HTML omitted --><!-- raw HTML omitted -->CLSID_VideoMixingRenderer: Creates the VMR-7. If there are not enough system resources to create the VMR-7, the call to <!-- raw HTML omitted -->CoCreateInstance<!-- raw HTML omitted --> fails.<!-- raw HTML omitted --><!-- raw HTML omitted -->CLSID_VideoRendererDefault: Creates the VMR-7 if system resources are available, or else creates the old <!-- raw HTML omitted -->Video Renderer<!-- raw HTML omitted --> filter.<!-- raw HTML omitted --><!-- raw HTML omitted -->Use CLSID_VideoMixingRenderer if you need the specific capabilities of the VMR-7. Otherwise, use CLSID_VideoRendererDefault, which is almost certain not to fail, because it falls back to the old Video Renderer filter.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Property Page CLSID</td>
<td>Not applicable.</td>
</tr>
<tr>
<td>Executable</td>
<td>Quartz.dll</td>
</tr>
<tr>
<td><!-- raw HTML omitted -->Merit<!-- raw HTML omitted --></td>
<td>MERIT_PREFERRED + 1</td>
</tr>
<tr>
<td><!-- raw HTML omitted -->Filter Category<!-- raw HTML omitted --></td>
<td>CLSID_LegacyAmFilterCategory</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Remarks</h2>
<p>The input pin exposes the <strong>IOverlay</strong> interface only when the VMR-7 filter is in windowed mode. The only <strong>IOverlay</strong> method that the pin implements is <strong>GetWindowHandle</strong>, which enables an application to obtain a handle to the filter's video window. All other <strong>IOverlay</strong> methods return E_NOTIMPL. In windowless mode, the filter does not create a video window, so the pin does not expose the interface.</p>
<p>An application can provide a custom allocator-presenter object that exposes the following interfaces:</p>
<ul>
<li><a href="/windows/desktop/api/Strmif/nn-strmif-ivmrimagepresenter"><strong>IVMRImagePresenter</strong></a></li>
<li><a href="/windows/desktop/api/Strmif/nn-strmif-ivmrimagepresenterconfig"><strong>IVMRImagePresenterConfig</strong></a> (optional)</li>
<li><a href="/windows/desktop/api/Strmif/nn-strmif-ivmrmonitorconfig"><strong>IVMRMonitorConfig</strong></a> (optional)</li>
<li><a href="/windows/desktop/api/Strmif/nn-strmif-ivmrsurfaceallocator"><strong>IVMRSurfaceAllocator</strong></a></li>
<li><a href="/windows/desktop/api/Strmif/nn-strmif-ivmrwindowlesscontrol"><strong>IVMRWindowlessControl</strong></a> (optional)</li>
</ul>
<p>For more information about custom allocator-presenters, see <a href="supplying-a-custom-allocator-presenter-for-vmr-7.html">Supplying a Custom Allocator-Presenter for VMR-7</a>.</p>
<p>An application can also provide a custom plug-in compositor that exposes the following interface:</p>
<ul>
<li><a href="/windows/desktop/api/Strmif/nn-strmif-ivmrimagecompositor"><strong>IVMRImageCompositor</strong></a></li>
</ul>
<p>To configure the VMR with a custom compositor, call <a href="/windows/desktop/api/Strmif/nf-strmif-ivmrfilterconfig-setimagecompositor"><strong>IVMRFilterConfig::SetImageCompositor</strong></a>.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="directshow-filters.html">DirectShow Filters</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
