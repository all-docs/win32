<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Microsoft MPEG-2 Video Decoder</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: This filter decodes MPEG-1, MPEG-2, H.264 video.
ms.assetid: d8195c3a-97ac-4ad1-a097-18878c8fda6f
title: Microsoft MPEG-2 Video Decoder (Wmcodecdsp.h)
ms.topic: reference
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</h2>
<h1>Microsoft MPEG-2 Video Decoder</h1>
<p>[The feature associated with this page, <a href="/windows/win32/directshow/directshow">DirectShow</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Playback.MediaPlayer">MediaPlayer</a>, <a href="/windows/win32/api/mfmediaengine/nn-mfmediaengine-imfmediaengine">IMFMediaEngine</a>, and <a href="/windows/win32/medfound/audio-video-capture-in-media-foundation">Audio/Video Capture in Media Foundation</a>. Those features have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaPlayer</strong>, <strong>IMFMediaEngine</strong> and <strong>Audio/Video Capture in Media Foundation</strong> instead of <strong>DirectShow</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>This filter decodes MPEG-1, MPEG-2, H.264 video.</p>
<blockquote>
<p>[!Note]<br />
Decoding of H.264 video requires WindowsÂ 7.</p>
</blockquote>
<p>Â </p>
<blockquote>
<p>[!Note]<br />
This filter is not supported on IA-64-based platforms.</p>
</blockquote>
<p>Â </p>
<p>In the registry, the friendly name of this filter is &quot;Microsoft DTV-DVD Video Decoder&quot;.</p>
<p>Filter Information</p>
<p>Filter Interfaces</p>
<p><a href="/windows/desktop/api/Strmif/nn-strmif-iamdecodercaps"><strong>IAMDecoderCaps</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/Strmif/nn-strmif-ibasefilter"><strong>IBaseFilter</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/Strmif/nn-strmif-icodecapi"><strong>ICodecAPI</strong></a><!-- raw HTML omitted --></p>
<p>Input Pin Media Types</p>
<p>Video input pin:</p>
<ul>
<li>MEDIATYPE_DVD_ENCRYPTED_PACK, MEDIASUBTYPE_MPEG2_VIDEO</li>
<li>MEDIATYPE_MPEG2_PES, MEDIASUBTYPE_MPEG2_VIDEO</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_MPEG1Packet</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_MPEG1Payload</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_MPEG2_VIDEO</li>
</ul>
<p>Subpicture input pin:<!-- raw HTML omitted --></p>
<ul>
<li>MEDIATYPE_DVD_ENCRYPTED_PACK, MEDIASUBTYPE_DVD_SUBPICTURE</li>
</ul>
<p>Starting in WindowsÂ 7, the video input pin also supports the following input types:<!-- raw HTML omitted --></p>
<ul>
<li><strong>MEDIATYPE_Video</strong>, <strong>MEDIASUBTYPE_AVC1</strong></li>
<li><strong>MEDIATYPE_Video</strong>, <strong>MEDIASUBTYPE_H264</strong></li>
<li><strong>MEDIATYPE_Video</strong>, <strong>MEDIASUBTYPE_h264</strong></li>
<li><strong>MEDIATYPE_Video</strong>, <strong>MEDIASUBTYPE_X264</strong></li>
<li><strong>MEDIATYPE_Video</strong>, <strong>MEDIASUBTYPE_x264</strong></li>
</ul>
<p>See <a href="h-264-video-types.html">H.264 Video Types</a> for more information. The input media type can change dynamically between MPEG2 and H.264 types.<!-- raw HTML omitted --></p>
<p>Input Pin Interfaces</p>
<p><a href="/windows/desktop/api/Strmif/nn-strmif-icodecapi"><strong>ICodecAPI</strong></a><!-- raw HTML omitted --> <a href="ikspropertyset.html"><strong>IKsPropertySet</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/Strmif/nn-strmif-imeminputpin"><strong>IMemInputPin</strong></a><!-- raw HTML omitted --> <a href="/windows/win32/api/mfidl/nn-mfidl-imfsampleprotection"><strong>IMFSampleProtection</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/Strmif/nn-strmif-ipin"><strong>IPin</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol"><strong>IQualityControl</strong></a><!-- raw HTML omitted --></p>
<p>Output Pin Media Types</p>
<p>Video output pin:</p>
<ul>
<li>MEDIATYPE_Video, DXVA_ModeMPEG2_A (DXVA 1.0)</li>
<li>MEDIATYPE_Video, DXVA_ModeMPEG2_C (DXVA 1.0)</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_I420 (Software decode or DXVA2.0)</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_NV12 (Software decode or DXVA2.0)</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_YUY2 (Software decode or DXVA2.0)</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_IMC3 (DXVA2.0 only)</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_IMC4 (DXVA2.0 only)</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_S340 (DXVA2.0 only)</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_YV12 (DXVA2.0 only)</li>
</ul>
<p>Line-21 output pin:<!-- raw HTML omitted --></p>
<ul>
<li>MEDIATYPE_AUXLine21Data, MEDIASUBTYPE_Line21_GOPPacket</li>
</ul>
<p>Subpicture output pin:<!-- raw HTML omitted --></p>
<ul>
<li>MEDIATYPE_Video, MEDIASUBTYPE_AI44</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_ARGB32</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_ARGB4444</li>
<li>MEDIATYPE_Video, MEDIASUBTYPE_AYUV</li>
</ul>
<p>Output Pin Interfaces</p>
<p><a href="/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoacceleratornotify"><strong>IAMVideoAcceleratorNotify</strong></a> (video output pin only)<!-- raw HTML omitted --> <a href="ikspropertyset.html"><strong>IKsPropertySet</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/Strmif/nn-strmif-imediaseeking"><strong>IMediaSeeking</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/Strmif/nn-strmif-ipin"><strong>IPin</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol"><strong>IQualityControl</strong></a><!-- raw HTML omitted --> <a href="/previous-versions/windows/desktop/api/Vpconfig/nn-vpconfig-ivpconfig"><strong>IVPConfig</strong></a><!-- raw HTML omitted --></p>
<p>Filter CLSID</p>
<p><strong>CLSID_CMPEG2VidDecoderDS</strong> (defined in wmcodecdsp.h)</p>
<p>Executable</p>
<p>msmpeg2vdec.dll</p>
<p><a href="merit.html">Merit</a></p>
<p><strong>MERIT_NORMAL</strong> - 1</p>
<p><a href="filter-categories.html">Filter Category</a></p>
<p><strong>CLSID_LegacyAmFilterCategory</strong></p>
<p>Â </p>
<h2>Remarks</h2>
<p>This filter has two input pins and three output pins.</p>
<p>Input pins:</p>
<ul>
<li>Video input</li>
<li>Subpicture input</li>
</ul>
<p>Output pins:</p>
<ul>
<li>Video output</li>
<li>Line-21 output</li>
<li>Subpicture output</li>
</ul>
<p>The filter does not create the subpicture output pin unless the video input pin is connected with a <strong>MEDIATYPE_DVD_ENCRYPTED_PACK</strong> media type.</p>
<h3>MPEG-1/2 Support</h3>
<p>For MPEG-1 and MPEG-2, the decoder supports the following formats:</p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Profiles/Levels</td>
<td>Any combination of the following profiles and levels:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Profiles: Simple, Main<!-- raw HTML omitted --><!-- raw HTML omitted -->Levels: Low, Main, High, High 1440<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Chroma Formats</td>
<td>4:2:0 chroma</td>
</tr>
<tr>
<td>Maximum Resolution</td>
<td>1920 Ã— 1088 pixels</td>
</tr>
<tr>
<td>DXVA</td>
<td>The decoder supports DirectX Video Acceleration (DXVA) version 1 and version 2.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The decoder does not support scalable bitstreams. The input must be an elementary video stream.</p>
<p>The decoder does not support 4:2:2 chroma formats.</p>
<h3>H.264 Support</h3>
<p>For H.264, the decoder supports the following formats:</p>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Profiles/Levels</td>
<td>Baseline, Main, and High profiles, up to level 5.1. (See ITU-T H.264 specification for details.)</td>
</tr>
<tr>
<td>Chroma Formats</td>
<td>4:2:0 chroma or monochrome</td>
</tr>
<tr>
<td>Minimum Resolution</td>
<td>48 Ã— 48 pixels</td>
</tr>
<tr>
<td>Maximum Resolution</td>
<td>1920 Ã— 1088 pixels</td>
</tr>
<tr>
<td>DXVA</td>
<td>The decoder supports DXVA version 2, but not DXVA version 1. DXVA decoding is supported only for Main-compatible Baseline, Main, and High profile bitstreams. (Main-compatible Baseline bitstreams are defined as <strong>profile_idc</strong>=66 and <strong>constrained_set1_flag</strong>=1.)</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The decoder does not support Film Grain Technology.</p>
<p>For information about the H.264 media types, see <a href="h-264-video-types.html">H.264 Video Types</a>.</p>
<h3>Codec Properties</h3>
<p>The input pins support the following property sets through <a href="ikspropertyset.html"><strong>IKsPropertySet</strong></a>:</p>
<ul>
<li><a href="dvd-copy-protection-property-set.html"><strong>DVD Copy Protection Property Set</strong></a></li>
<li><a href="dvd-subpicture-property-set.html"><strong>DVD Subpicture Property Set</strong></a> (subpicture pin only)</li>
</ul>
<p>The input pins support the following properties through <a href="/windows/desktop/api/Strmif/nn-strmif-icodecapi"><strong>ICodecAPI</strong></a>:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Requires</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="avdeccommoninputformat-property.html"><strong>AVDecCommonInputFormat</strong></a></td>
<td>WindowsÂ Vista</td>
</tr>
<tr>
<td><a href="avdecvideoinputscantype-property.html"><strong>AVDecVideoInputScanType</strong></a></td>
<td>WindowsÂ Vista</td>
</tr>
<tr>
<td><a href="avdecvideopixelaspectratio-property.html"><strong>AVDecVideoPixelAspectRatio</strong></a></td>
<td>WindowsÂ Vista</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The filter supports the following properties through <a href="/windows/desktop/api/Strmif/nn-strmif-icodecapi"><strong>ICodecAPI</strong></a>:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Requires</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="avdecmmcss-property.html"><strong>AVDecMmcssClass</strong></a></td>
<td>WindowsÂ Vista</td>
</tr>
<tr>
<td><a href="avdecvideoacceleration-h264-property.html"><strong>AVDecVideoAcceleration_H264</strong></a></td>
<td>WindowsÂ 7</td>
</tr>
<tr>
<td><a href="avdecvideoacceleration-mpeg2-property.html"><strong>AVDecVideoAcceleration_MPEG2</strong></a></td>
<td>WindowsÂ 7</td>
</tr>
<tr>
<td><a href="avdecvideodroppicwithmissingref-property.html"><strong>AVDecVideoDropPicWithMissingRef</strong></a></td>
<td>WindowsÂ 7</td>
</tr>
<tr>
<td><a href="avdecvideofastdecodemode.html"><strong>AVDecVideoFastDecodeMode</strong></a></td>
<td>WindowsÂ 7</td>
</tr>
<tr>
<td><a href="avdecvideoimagesize.html"><strong>AVDecVideoImageSize</strong></a></td>
<td>WindowsÂ 7</td>
</tr>
<tr>
<td><a href="avdecvideosoftwaredeinterlacemode-property.html"><strong>AVDecVideoSoftwareDeinterlaceMode</strong></a></td>
<td>WindowsÂ 7</td>
</tr>
<tr>
<td><a href="avdecvideothumbnailgenerationmode-property.html"><strong>AVDecVideoThumbnailGenerationMode</strong></a></td>
<td>WindowsÂ 7</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>WindowsÂ Vista Home Premium, WindowsÂ Vista Ultimate, WindowsÂ 7 Home Premium, WindowsÂ 7 Professional, WindowsÂ 7 Enterprise, WindowsÂ 7 Ultimate [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>None supported<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Wmcodecdsp.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="directshow-filters.html">DirectShow Filters</a></p>
<!-- raw HTML omitted -->
<p><a href="dvd-media-types.html"><strong>DVD Media Types</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="h-264-video-types.html">H.264 Video Types</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
