<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Using GraphEdit</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Using GraphEdit
ms.assetid: 91a8f111-fce4-4284-afa2-e3ea0ec35bff
title: Using GraphEdit
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</h2>
<h1>Using GraphEdit</h1>
<p>[The feature associated with this page, <a href="/windows/win32/directshow/directshow">DirectShow</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Playback.MediaPlayer">MediaPlayer</a>, <a href="/windows/win32/api/mfmediaengine/nn-mfmediaengine-imfmediaengine">IMFMediaEngine</a>, and <a href="/windows/win32/medfound/audio-video-capture-in-media-foundation">Audio/Video Capture in Media Foundation</a>. Those features have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaPlayer</strong>, <strong>IMFMediaEngine</strong> and <strong>Audio/Video Capture in Media Foundation</strong> instead of <strong>DirectShow</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>GraphEdit is available in the Microsoft Windows Software Development Kit (SDK) (<a href="https://go.microsoft.com/fwlink/p/?linkid=62332">https://go.microsoft.com/fwlink/p/?linkid=62332</a>).</p>
<p>The name of the GraphEdit application is &quot;graphedt.exe&quot;. After you install the SDK, &quot;graphedt.exe&quot; is located in the following directory: \Program Files (x86)\Windows Kits\10\bin\&lt;sdk version&gt;\x64\.</p>
<p>Before running GraphEdit, use the regsvr32 utility to register the following DLLs, which are located in the same directory:</p>
<ul>
<li>proppage.dll</li>
<li>evrprop.dll</li>
</ul>
<p>These DLLs enable GraphEdit to display property pages for some of the built-in DirectShow filters.</p>
<h2>Build a File Playback Graph</h2>
<p>GraphEdit can build a filter graph for file playback. This feature is equivalent to calling the <a href="/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile"><strong>IGraphBuilder::RenderFile</strong></a> method in an application. From the <strong>File</strong> menu, click <strong>Render Media File</strong>. GraphEdit displays an <strong>Open File</strong> dialog box. Select a multimedia file and click <strong>Open</strong>. GraphEdit builds a filter graph to play the file you've selected.</p>
<p>You can also render a media file located at a URL. From the <strong>File</strong> menu, click <strong>Render URL</strong>. GraphEdit displays a dialog box in which to type the URL.</p>
<h2>Build a Filter Graph</h2>
<p>GraphEdit can build a custom filter graph, using any of the filters registered on your system. From the <strong>Graph</strong> menu, click <strong>Insert Filters</strong>. A dialog box appears with a list of the filters on your system, organized by filter category. GraphEdit builds this list from information in the registry. The following illustration shows the dialog box.</p>
<p><img src="images/gedit12.png" alt="which filters do you want to insert?" /></p>
<p>To add a filter to the graph, select the name of the filter and click the <strong>Insert Filters</strong> button, or double-click the filter name. After you have added the filters, you can connect two filters by dragging the mouse from one filter's output pin to another filter's input pin. If the pins accept the connection, GraphEdit draws an arrow connecting them.</p>
<p><img src="images/gedit-connect.png" alt="connecting two filters" /></p>
<h2>Run the Graph</h2>
<p>Once you have built a filter graph in Graph Edit, you can run the graph to see whether it works as you expect. The <strong>Graph</strong> menu contains the menu commands <strong>Play</strong>, <strong>Pause</strong>, and <strong>Stop</strong>. These commands invoke to the <a href="/windows/desktop/api/Control/nn-control-imediacontrol"><strong>IMediaControl</strong></a> methods <a href="/windows/desktop/api/Control/nf-control-imediacontrol-run"><strong>Run</strong></a>, <a href="/windows/desktop/api/Control/nf-control-imediacontrol-pause"><strong>Pause</strong></a>, and <a href="/windows/desktop/api/Control/nf-control-imediacontrol-stop"><strong>Stop</strong></a>, respectively. The GraphEdit toolbar has buttons for these commands, as well:</p>
<p><img src="images/gedit-toolbar.png" alt="pause, play, and stop buttons" /></p>
<blockquote>
<p>[!Note]<br />
The GraphEdit <strong>Stop</strong> command first pauses the graph and seeks to time zero (assuming the graph is seekable). For file playback, this action resets the video window to the first frame. Then GraphEdit calls <a href="/windows/desktop/api/Control/nf-control-imediacontrol-stop"><strong>IMediaControl::Stop</strong></a>.</p>
</blockquote>
<p>Â </p>
<p>If the graph is seekable, you can seek it by dragging the slider bar that appears below the toolbar. Dragging the slider bar invokes the <a href="/windows/desktop/api/Strmif/nf-strmif-imediaseeking-setpositions"><strong>IMediaSeeking::SetPositions</strong></a> method.</p>
<h2>View Property Pages</h2>
<p>Some filters support custom property pages, which provide a user interface for setting properties on the filter. To view a filter's property page in GraphEdit, right-click the filter and select <strong>Properties</strong> from the pop-up window. GraphEdit displays a property page that contains the property sheets defined by the filter (if any). In addition, GraphEdit includes a property sheet for each pin on the filter. The pin property sheets are defined by GraphEdit, not by the filter. If the pin is connected, the pin property sheet displays the media type for the connection. Otherwise, it lists the pin's preferred media types.</p>
<blockquote>
<p>[!Note]<br />
To use GraphEdit's built-in property pages, you must register proppage.dll. This DLL is available in the Windows SDK. The DLL also contains additional property pages for some DirectShow filters. These property pages are provided for debugging purposes only.</p>
</blockquote>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="simulating-graph-building-with-graphedit.html">Simulating Graph Building with GraphEdit</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
