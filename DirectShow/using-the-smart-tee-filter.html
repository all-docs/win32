<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Using the Smart Tee Filter</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Using the Smart Tee Filter
ms.assetid: d2828269-6841-41a8-8d45-f864c7e85857
title: Using the Smart Tee Filter
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</h2>
<h1>Using the Smart Tee Filter</h1>
<p>[The feature associated with this page, <a href="/windows/win32/directshow/directshow">DirectShow</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Playback.MediaPlayer">MediaPlayer</a>, <a href="/windows/win32/api/mfmediaengine/nn-mfmediaengine-imfmediaengine">IMFMediaEngine</a>, and <a href="/windows/win32/medfound/audio-video-capture-in-media-foundation">Audio/Video Capture in Media Foundation</a>. Those features have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaPlayer</strong>, <strong>IMFMediaEngine</strong> and <strong>Audio/Video Capture in Media Foundation</strong> instead of <strong>DirectShow</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>If a capture filter has separate capture and preview pins, you can capture from one while previewing from the other. But if the filter has no preview pin, you can do the same thing by including the <a href="smart-tee-filter.html">Smart Tee</a> filter in the graph. This filter splits data from the capture pin into two identical streams, one for capture and one for preview. The following diagram illustrates this process.</p>
<p><img src="images/vidcap05.png" alt="capture graph with smart tee filter" /></p>
<p>The <a href="/windows/desktop/api/Strmif/nf-strmif-icapturegraphbuilder2-renderstream"><strong>ICaptureGraphBuilder2::RenderStream</strong></a> method automatically inserts the Smart Tee Filter if it is required. However, if you use <strong>IGraphBuilder</strong> methods to build your graph, and not <strong>RenderStream</strong>, you may need to insert the Smart Tee filter.</p>
<p>Before you render pins on the capture filter, check whether the filter has a preview pin or a video port pin. If it does not, and you wish to preview, add the Smart Tee filter to the graph and connect it to the capture pin on the capture filter.</p>
<blockquote>
<p>[!Note]<br />
You can treat a video port (VP) pin as a kind of preview pin, so a filter with a VP pin does not need a Smart Tee filter. However, VP pins have some other special requirements. For more information, see <a href="video-port-pins.html">Video Port Pins</a>.</p>
</blockquote>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="advanced-capture-topics.html">Advanced Capture Topics</a></p>
<!-- raw HTML omitted -->
<p><a href="combining-video-capture-and-preview.html">Combining Video Capture and Preview</a></p>
<!-- raw HTML omitted -->
<p><a href="working-with-pin-categories.html">Working with Pin Categories</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
