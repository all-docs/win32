<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Enhanced Video Renderer Filter</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: The Enhanced Video Renderer (EVR) filter is a 16-channel video mixer and renderer. It has the same core functionality and plug-in model as the Media Foundation EVR media sink.
ms.assetid: ead99cb3-2be2-42c6-ac22-be0c2ddf28d5
title: Enhanced Video Renderer Filter
ms.topic: reference
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</h2>
<h1>Enhanced Video Renderer Filter</h1>
<p>[The feature associated with this page, <a href="/windows/win32/directshow/directshow">DirectShow</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Playback.MediaPlayer">MediaPlayer</a>, <a href="/windows/win32/api/mfmediaengine/nn-mfmediaengine-imfmediaengine">IMFMediaEngine</a>, and <a href="/windows/win32/medfound/audio-video-capture-in-media-foundation">Audio/Video Capture in Media Foundation</a>. Those features have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaPlayer</strong>, <strong>IMFMediaEngine</strong> and <strong>Audio/Video Capture in Media Foundation</strong> instead of <strong>DirectShow</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<blockquote>
<p>[!Note]<br />
This topic applies to Windows Vista and later.</p>
</blockquote>
<p>The Enhanced Video Renderer (EVR) filter is a 16-channel video mixer and renderer. It has the same core functionality and plug-in model as the Media Foundation EVR media sink.</p>
<p>The DirectShow EVR filter is documented in the Media Foundation SDK documentation; for more information, see <a href="../medfound/enhanced-video-renderer.html">Enhanced Video Renderer</a>.</p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Filter Interfaces (through <!-- raw HTML omitted -->QueryInterface<!-- raw HTML omitted -->)</td>
<td>DirectShow interfaces:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IAMCertifiedOutputProtection<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IAMFilterMiscFlags<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IBaseFilter<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IKsPropertySet<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IMediaEventSink<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IMediaSeeking<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IQualityControl<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IQualProp<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Media Foundation interfaces:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IEVRFilterConfig<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IMFGetService<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IMFVideoPositionMapper<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IMFVideoRenderer<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Input Pin Media Types</td>
<td>Variable, depending on the graphics driver.</td>
</tr>
<tr>
<td>Input Pin Interfaces (through <!-- raw HTML omitted -->QueryInterface<!-- raw HTML omitted -->)</td>
<td>DirectShow interfaces:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IMemInputPin<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IPin<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IQualityControl<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Media Foundation interfaces:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IDirectXVideoMemoryConfiguration<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IEVRVideoStreamControl<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->IMFGetService<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Output Pin Media Types</td>
<td>Not applicable.</td>
</tr>
<tr>
<td>Output Pin Interfaces</td>
<td>Not applicable.</td>
</tr>
<tr>
<td>Filter CLSID</td>
<td>CLSID_EnhancedVideoRenderer</td>
</tr>
<tr>
<td>Executable</td>
<td>evr.dll</td>
</tr>
<tr>
<td><!-- raw HTML omitted -->Merit<!-- raw HTML omitted --></td>
<td>MERIT_DO_NOT_USE</td>
</tr>
<tr>
<td><!-- raw HTML omitted -->Filter Category<!-- raw HTML omitted --></td>
<td>CLSID_LegacyAmFilterCategory</td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>In addition to the interfaces exposed through <strong>QueryInterface</strong>, the EVR exposes other interfaces through the <a href="/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice"><strong>IMFGetService::GetService</strong></a> method. Some of these interfaces are implemented by the EVR presenter or the EVR mixer, rather than the EVR itself. If the application sets a custom presenter or mixer on the EVR, the custom versions might expose a different set of interfaces.</p>
<table>
<thead>
<tr>
<th>Object</th>
<th>Service Identifier</th>
<th>Interfaces</th>
</tr>
</thead>
<tbody>
<tr>
<td>EVR filter</td>
<td>MR_VIDEO_RENDER_SERVICE(Queries EVR or presenter)<!-- raw HTML omitted --></td>
<td><a href="/windows/desktop/api/evr/nn-evr-imfvideodeviceid"><strong>IMFVideoDeviceID</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/evr/nn-evr-imfvideodisplaycontrol"><strong>IMFVideoDisplayControl</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/evr/nn-evr-imfvideopositionmapper"><strong>IMFVideoPositionMapper</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/evr/nn-evr-imfvideopresenter"><strong>IMFVideoPresenter</strong></a><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>EVR filter</td>
<td>MR_VIDEO_ACCELERATION_SERVICE(Queries presenter)<!-- raw HTML omitted --></td>
<td><a href="/windows/desktop/api/dxva2api/nn-dxva2api-idirect3ddevicemanager9"><strong>IDirect3DDeviceManager9</strong></a></td>
</tr>
<tr>
<td>EVR filter</td>
<td>MR_VIDEO_MIXER_SERVICE(Queries mixer)<!-- raw HTML omitted --></td>
<td><a href="/windows/desktop/api/evr/nn-evr-imfvideodeviceid"><strong>IMFVideoDeviceID</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap"><strong>IMFVideoMixerBitmap</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/evr/nn-evr-imfvideomixercontrol"><strong>IMFVideoMixerControl</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/evr/nn-evr-imfvideopositionmapper"><strong>IMFVideoPositionMapper</strong></a><!-- raw HTML omitted --> <a href="/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor"><strong>IMFVideoProcessor</strong></a><!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Input pins</td>
<td>MR_VIDEO_ACCELERATION_SERVICE</td>
<td><a href="/windows/desktop/api/dxva2api/nn-dxva2api-idirectxvideomemoryconfiguration"><strong>IDirectXVideoMemoryConfiguration</strong></a></td>
</tr>
</tbody>
</table>
<p>The EVR can mix up to 16 video streams. The first input stream (pin 0) is called the <em>reference stream</em>. The reference stream always appears first in the z-order. Any additional streams are called substreams, and are mixed on top of the reference stream. The application can change the z-order of the substreams, but no substream can be first in the z-order.</p>
<p>The graphics driver determines which video formats are supported, but typically they are limited to the following:</p>
<ul>
<li>Reference stream: Progressive or interlaced YUV with no per-pixel alpha (such as NV12 or YUY2); or progressive RGB.</li>
<li>Substreams: Progressive YUV with per-pixel-alpha, such as AYUV or AI44.</li>
</ul>
<p>The available substream formats might depend on the format of the reference stream.</p>
<p>The EVR forwards seek commands upstream through pin 0. The substream pins do not forward seek commands. It is the responsibility of the source or splitter filter to keep the substreams synchronized with the reference stream.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows Vista [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>Windows Server 2008 [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="directshow-filters.html">DirectShow Filters</a></p>
<!-- raw HTML omitted -->
</body>
