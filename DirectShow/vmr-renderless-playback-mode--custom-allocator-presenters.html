<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>VMR Renderless Playback Mode (Custom Allocator-Presenters)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: VMR Renderless Playback Mode (Custom Allocator-Presenters)
ms.assetid: 0381f862-2f16-4b4d-be48-40f7fe151585
title: VMR Renderless Playback Mode (Custom Allocator-Presenters)
ms.topic: article
ms.date: 4/26/2023
ms.custom: UpdateFrequency5</h2>
<h1>VMR Renderless Playback Mode (Custom Allocator-Presenters)</h1>
<p>[The feature associated with this page, <a href="/windows/win32/directshow/directshow">DirectShow</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Playback.MediaPlayer">MediaPlayer</a>, <a href="/windows/win32/api/mfmediaengine/nn-mfmediaengine-imfmediaengine">IMFMediaEngine</a>, and <a href="/windows/win32/medfound/audio-video-capture-in-media-foundation">Audio/Video Capture in Media Foundation</a>. Those features have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaPlayer</strong>, <strong>IMFMediaEngine</strong> and <strong>Audio/Video Capture in Media Foundation</strong> instead of <strong>DirectShow</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>In renderless playback mode, the VMR does not perform the rendering. Instead, it uses a custom allocator-presenter supplied by the application. This mode is useful for games and other types of applications that have sophisticated video effects. Renderless playback mode enables the applications to create and control its own DirectDraw surface (VMR-7) or Direct3D surface (VMR-9), and to access the video bits at presentation time.</p>
<p>In renderless mode, the VMR-9 does not automatically load its mixer component.</p>
<p>In renderless playback mode, the application does the following tasks:</p>
<ul>
<li>Manages the playback window.</li>
<li>Allocates the DirectDraw or Direct3D object and the final frame buffer.</li>
<li>Notifies the rest of the playback system of the object being used.</li>
<li>Presents the frame buffer at the correct time.</li>
<li>Handles all resolution-mode changes, monitor changes, and surface losses. It must advise the rest of the playback system of these events.</li>
</ul>
<p>The VMR does the following:</p>
<ul>
<li>Handles all timing related to presenting the video frame.</li>
<li>Provides quality-control information to the application and the rest of the playback system.</li>
<li>Presents a consistent interface to the upstream components of the playback system, which are not aware that the application is providing the frame buffer allocation and performing the rendering.</li>
<li>Provides any mixing of video streams that may be required prior to rendering.</li>
</ul>
<p>Because deinterlacing is performed by the mixer, the allocator-presenter always received deinterlaced frames. For more information, see <a href="setting-deinterlace-preferences.html">Setting Deinterlace Preferences</a>.</p>
<p>For more information about providing a custom allocator-presenter, see the following topics:</p>
<ul>
<li><a href="supplying-a-custom-allocator-presenter-for-vmr-7.html">Supplying a Custom Allocator-Presenter for VMR-7</a></li>
<li><a href="supplying-a-custom-allocator-presenter-for-vmr-9.html">Supplying a Custom Allocator-Presenter for VMR-9</a></li>
<li><a href="synchronizing-the-vmr-to-the-monitors-refresh-rate.html">Synchronizing the VMR to the Monitor's Refresh Rate</a></li>
</ul>
<p>Â </p>
<p>Â </p>
</body>
