<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>CBaseControlVideo.GetVideoPaletteEntries method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: The GetVideoPaletteEntries method retrieves a range of palette entries for the video.
ms.assetid: 7ac12e28-daa7-4d6c-9983-401971e6704d
title: CBaseControlVideo.GetVideoPaletteEntries method (Ctlutil.h)
ms.topic: reference
ms.date: 4/26/2023
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>CBaseControlVideo.GetVideoPaletteEntries
api_type:</li>
<li>COM
api_location:</li>
<li>Strmbase.lib</li>
<li>Strmbase.dll</li>
<li>Strmbasd.lib</li>
<li>Strmbasd.dll
ms.custom: UpdateFrequency5</li>
</ul>
<hr />
<h1>CBaseControlVideo.GetVideoPaletteEntries method</h1>
<p>[The feature associated with this page, <a href="/windows/win32/directshow/directshow">DirectShow</a>, is a legacy feature. It has been superseded by <a href="/uwp/api/Windows.Media.Playback.MediaPlayer">MediaPlayer</a>, <a href="/windows/win32/api/mfmediaengine/nn-mfmediaengine-imfmediaengine">IMFMediaEngine</a>, and <a href="/windows/win32/medfound/audio-video-capture-in-media-foundation">Audio/Video Capture in Media Foundation</a>. Those features have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use <strong>MediaPlayer</strong>, <strong>IMFMediaEngine</strong> and <strong>Audio/Video Capture in Media Foundation</strong> instead of <strong>DirectShow</strong>, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.]</p>
<p>The <code>GetVideoPaletteEntries</code> method retrieves a range of palette entries for the video.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT GetVideoPaletteEntries(
   long StartIndex,
   long Entries,
   long *pRetrieved,
   long *pPalette
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>StartIndex</em></p>
<!-- raw HTML omitted -->
<p>Zero-based start palette entry.</p>
<!-- raw HTML omitted -->
<p><em>Entries</em></p>
<!-- raw HTML omitted -->
<p>Number of entries required.</p>
<!-- raw HTML omitted -->
<p><em>pRetrieved</em></p>
<!-- raw HTML omitted -->
<p>Pointer to the number of colors obtained.</p>
<!-- raw HTML omitted -->
<p><em>pPalette</em></p>
<!-- raw HTML omitted -->
<p>Pointer to output buffer for colors.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Returns NOERROR if successful, VFW_E_NO_PALETTE_AVAILABLE if the video samples has no color palette, E_OUTOFMEMORY if there is not enough memory available, E_INVALIDARG if <em>StartIndex</em> is invalid, or S_FALSE if there are no colors in the palette.</p>
<h2>Remarks</h2>
<p>This member function returns the current palette of the video as an array allocated by the user. To remain consistent, use the members in the Win32 <strong>PALETTEENTRY</strong> structure to return the colors, rather than the members in the <strong>RGBQUAD</strong> structure (although the parameter is a <strong>LONG</strong>). The memory is allocated by the caller, so simply copy each in turn. Determine that the number of entries requested and the start position offset are both valid. If the number of entries evaluates to zero, return an S_FALSE code.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Ctlutil.h (include Streams.h)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Strmbase.lib (retail builds); <!-- raw HTML omitted --> <!-- raw HTML omitted -->Strmbasd.lib (debug builds)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="cbasecontrolvideo.html"><strong>CBaseControlVideo Class</strong></a></p>
<!-- raw HTML omitted -->
</body>
