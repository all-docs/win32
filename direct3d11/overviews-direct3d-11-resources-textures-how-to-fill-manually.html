<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>How to: Initialize a Texture Programmatically</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: How to Initialize a Texture Programmatically
description: This topic has several examples showing how to initialize textures that are created with different types of usages.
ms.assetid: 65e8ae82-50aa-4303-853e-3457da18f44f
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>How to: Initialize a Texture Programmatically</h1>
<p>You can initialize a texture during object creation, or you can fill the object programmatically after it is created. This topic has several examples showing how to initialize textures that are created with different types of usages. This example assumes you already know how to <a href="overviews-direct3d-11-resources-textures-create.html">Create a Texture</a>.</p>
<ul>
<li><a href="#default-usage">Default Usage</a></li>
<li><a href="#dynamic-usage">Dynamic Usage</a></li>
<li><a href="#staging-usage">Staging Usage</a></li>
<li><a href="#related-topics">Related topics</a></li>
</ul>
<h2>Default Usage</h2>
<p>The most common type of usage is default usage. To fill a default texture (one created with <strong>D3D11_USAGE_DEFAULT</strong>) you can either:</p>
<ul>
<li>
<p>Call <a href="/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createtexture2d"><strong>ID3D11Device::CreateTexture2D</strong></a> and initialize <em>pInitialData</em> to point to data provided from an application.</p>
<p>or</p>
</li>
<li>
<p>After calling <a href="/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createtexture2d"><strong>ID3D11Device::CreateTexture2D</strong></a>, use <a href="/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-updatesubresource"><strong>ID3D11DeviceContext::UpdateSubresource</strong></a> to fill the default texture with data from a pointer provided by the application.</p>
</li>
</ul>
<h2>Dynamic Usage</h2>
<p>To fill a dynamic texture (one created with <strong>D3D11_USAGE_DYNAMIC</strong>):</p>
<ol>
<li>Get a pointer to the texture memory by passing in <strong>D3D11_MAP_WRITE_DISCARD</strong> when calling <a href="/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map"><strong>ID3D11DeviceContext::Map</strong></a>.</li>
<li>Write data to the memory.</li>
<li>Call <a href="/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-unmap"><strong>ID3D11DeviceContext::Unmap</strong></a> when you are finished writing data.</li>
</ol>
<h2>Staging Usage</h2>
<p>To fill a staging texture (one created with <strong>D3D11_USAGE_STAGING</strong>):</p>
<ol>
<li>Get a pointer to the texture memory by passing in <strong>D3D11_MAP_WRITE</strong> when calling <a href="/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map"><strong>ID3D11DeviceContext::Map</strong></a>.</li>
<li>Write data to the memory.</li>
<li>Call <a href="/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-unmap"><strong>ID3D11DeviceContext::Unmap</strong></a> when you are finished writing data.</li>
</ol>
<p>A staging texture can then be used as the source parameter to <a href="/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-copyresource"><strong>ID3D11DeviceContext::CopyResource</strong></a> or <a href="/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-copysubresourceregion"><strong>ID3D11DeviceContext::CopySubresourceRegion</strong></a> to fill a default or dynamic resource.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="how-to-use-direct3d-11.html">How to Use Direct3D 11</a></p>
<!-- raw HTML omitted -->
<p><a href="overviews-direct3d-11-resources-textures.html">Textures</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
