<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ID3DX11Effect::Optimize method</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: ID3DX11Effect Optimize method (D3dx11effect.h)
description: Minimize the amount of memory required for an effect.
ms.assetid: fa1d0769-6746-44f6-9979-31a534646884
keywords:</p>
<ul>
<li>Optimize method Direct3D 11</li>
<li>Optimize method Direct3D 11 , ID3DX11Effect interface</li>
<li>ID3DX11Effect interface Direct3D 11 , Optimize method
topic_type:</li>
<li>apiref
api_name:</li>
<li>ID3DX11Effect.Optimize
api_location:</li>
<li>N/A</li>
<li>N/A.dll
api_type:</li>
<li>COM
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>ID3DX11Effect::Optimize method</h1>
<p>Minimize the amount of memory required for an effect.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT Optimize();
</code></pre>
<h2>Parameters</h2>
<p>This method has no parameters.</p>
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>Returns one of the following <a href="d3d11-graphics-reference-returnvalues.html">Direct3D 11 Return Codes</a>.</p>
<h2>Remarks</h2>
<p>An effect uses memory space two different ways: to store the information required by the runtime to execute an effect, and to store the metadata required to reflect information back to an application using the API. You can minimize the amount of memory required by an effect by calling <strong>ID3DX11Effect::Optimize</strong> which removes the reflection metadata from memory. API methods to read variables will no longer work once reflection data has been removed.</p>
<p>The following methods will fail after Optimize has been called on an effect.</p>
<ul>
<li><a href="id3dx11effect-getconstantbufferbyindex.html"><strong>ID3DX11Effect::GetConstantBufferByIndex</strong></a></li>
<li><a href="id3dx11effect-getconstantbufferbyname.html"><strong>ID3DX11Effect::GetConstantBufferByName</strong></a></li>
<li><a href="id3dx11effect-getdesc.html"><strong>ID3DX11Effect::GetDesc</strong></a></li>
<li><a href="id3dx11effect-getdevice.html"><strong>ID3DX11Effect::GetDevice</strong></a></li>
<li><a href="id3dx11effect-gettechniquebyindex.html"><strong>ID3DX11Effect::GetTechniqueByIndex</strong></a></li>
<li><a href="id3dx11effect-gettechniquebyname.html"><strong>ID3DX11Effect::GetTechniqueByName</strong></a></li>
<li><a href="id3dx11effect-getvariablebyindex.html"><strong>ID3DX11Effect::GetVariableByIndex</strong></a></li>
<li><a href="id3dx11effect-getvariablebyname.html"><strong>ID3DX11Effect::GetVariableByName</strong></a></li>
<li><a href="id3dx11effect-getvariablebysemantic.html"><strong>ID3DX11Effect::GetVariableBySemantic</strong></a></li>
</ul>
<blockquote>
<p>[!Note]<br />
References retrieved with these methods before calling <strong>ID3DX11Effect::Optimize</strong> are still valid after <strong>ID3DX11Effect::Optimize</strong> is called. This allows the application to get all the variables, techniques, and passes it will use, call Optimize, and then use the effect.</p>
</blockquote>
<blockquote>
<p>[!Note]<br />
The DirectX SDK does not supply any compiled binaries for effects. You must use Effects 11 source to build your effects-type application. For more information about using Effects 11 source, see <a href="d3d11-graphics-programming-guide-effects-differences.html">Differences Between Effects 10 and Effects 11</a>.</p>
</blockquote>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3dx11effect.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->N/A (An Effects 11 library is available online as shared source.)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="id3dx11effect.html">ID3DX11Effect</a></p>
<!-- raw HTML omitted -->
</body>
