<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3DX11SaveTextureToFile function</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>title: D3DX11SaveTextureToFile function (D3DX11tex.h)
description: Note The D3DX (D3DX 9, D3DX 10, and D3DX 11) utility library is deprecated for Windows 8 and is not supported for Windows Store apps. Note Instead of using this function, we recommend that you use the DirectXTex library, CaptureTexture then SaveToXXXFile (where XXX is WIC, DDS, or TGA; WIC doesn't support DDS and TGA; D3DX 9 supported TGA as a common art source format for games). For the simplified scenario of creating a screen shot from a render target texture, we recommend that you use the DirectXTK library, SaveDDSTextureToFile or SaveWICTextureToFile. Save a texture to a file.
ms.assetid: da161268-fb68-42dd-ba31-b090a993f369
keywords:</p>
<ul>
<li>D3DX11SaveTextureToFile function Direct3D 11
topic_type:</li>
<li>apiref
api_name:</li>
<li>D3DX11SaveTextureToFile
api_location:</li>
<li>D3DX11.lib</li>
<li>D3DX11.dll
api_type:</li>
<li>LibDef
ms.topic: reference
ms.date: 05/31/2018</li>
</ul>
<hr />
<h1>D3DX11SaveTextureToFile function</h1>
<blockquote>
<p>[!Note]<br />
The D3DX (D3DX 9, D3DX 10, and D3DX 11) utility library is deprecated for Windows 8 and is not supported for Windows Store apps.</p>
</blockquote>
<blockquote>
<p>[!Note]<br />
Instead of using this function, we recommend that you use the <a href="https://github.com/Microsoft/DirectXTex">DirectXTex</a> library, <strong>CaptureTexture</strong> then <strong>SaveToXXXFile</strong> (where XXX is WIC, DDS, or TGA; WIC doesn't support DDS and TGA; D3DX 9 supported TGA as a common art source format for games). For the simplified scenario of creating a screen shot from a render target texture, we recommend that you use the <a href="https://github.com/Microsoft/DirectXTK">DirectXTK</a> library, <strong>SaveDDSTextureToFile</strong> or <strong>SaveWICTextureToFile</strong>.</p>
</blockquote>
<p>Save a texture to a file.</p>
<h2>Syntax</h2>
<pre lang="C++"><code>HRESULT D3DX11SaveTextureToFile(
       ID3D11DeviceContext      *pContext,
  _In_ ID3D11Resource           *pSrcTexture,
  _In_ D3DX11_IMAGE_FILE_FORMAT DestFormat,
  _In_ LPCTSTR                  pDestFile
);
</code></pre>
<h2>Parameters</h2>
<!-- raw HTML omitted -->
<p><em>pContext</em></p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/desktop/api/D3D11/nn-d3d11-id3d11devicecontext"><strong>ID3D11DeviceContext</strong></a>*</strong></p>
<p>A pointer to an <a href="/windows/desktop/api/D3D11/nn-d3d11-id3d11devicecontext"><strong>ID3D11DeviceContext</strong></a> object.</p>
<!-- raw HTML omitted -->
<p><em>pSrcTexture</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/desktop/api/D3D11/nn-d3d11-id3d11resource"><strong>ID3D11Resource</strong></a>*</strong></p>
<p>Pointer to the texture to be saved. See <a href="/windows/desktop/api/D3D11/nn-d3d11-id3d11resource"><strong>ID3D11Resource</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>DestFormat</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="d3dx11-image-file-format.html"><strong>D3DX11_IMAGE_FILE_FORMAT</strong></a></strong></p>
<p>The format the texture will be saved as (see <a href="d3dx11-image-file-format.html"><strong>D3DX11_IMAGE_FILE_FORMAT</strong></a>). D3DX11_IFF_DDS is the preferred format since it is the only option that supports all the formats in <a href="/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format"><strong>DXGI_FORMAT</strong></a>.</p>
<!-- raw HTML omitted -->
<p><em>pDestFile</em> [in]</p>
<!-- raw HTML omitted -->
<p>Type: <strong><a href="/windows/desktop/WinProg/windows-data-types"><strong>LPCTSTR</strong></a></strong></p>
<p>Name of the destination output file where the texture will be saved. If the compiler settings require Unicode, the data type LPCTSTR resolves to LPCWSTR. Otherwise, the data type resolves to LPCSTR.</p>
<!-- raw HTML omitted -->
<h2>Return value</h2>
<p>Type: <strong><a href="https://msdn.microsoft.com/library/Bb401631(v=MSDN.10).aspx"><strong>HRESULT</strong></a></strong></p>
<p>The return value is one of the values listed in <a href="d3d11-graphics-reference-returnvalues.html">Direct3D 11 Return Codes</a>; use the return value to see if the <em>DestFormat</em> is supported.</p>
<h2>Remarks</h2>
<p><strong>D3DX11SaveTextureToFile</strong> writes out the extra <a href="/windows/desktop/direct3ddds/dds-header-dxt10"><strong>DDS_HEADER_DXT10</strong></a> structure for the input texture only if necessary (for example, because the input texture is in standard RGB (sRGB) format). If <strong>D3DX11SaveTextureToFile</strong> writes out the <strong>DDS_HEADER_DXT10</strong> structure, it sets the <strong>dwFourCC</strong> member of the <a href="/windows/desktop/direct3ddds/dds-pixelformat"><strong>DDS_PIXELFORMAT</strong></a> structure for the texture to <strong>DX10</strong> to indicate the prescense of the <strong>DDS_HEADER_DXT10</strong> extended header.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3DX11tex.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->D3DX11.lib<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="d3d11-graphics-reference-d3dx11-functions.html">D3DX Functions</a></p>
<!-- raw HTML omitted -->
</body>
