<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>How To: Create a Domain Shader</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>title: How To Create a Domain Shader
description: This topic shows how to create a domain shader.
ms.assetid: 7d02fee4-2d7c-434b-86ab-e5ee615ae93b
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>How To: Create a Domain Shader</h1>
<p>A domain shader is the third of three stages that work together to implement <a href="direct3d-11-advanced-stages-tessellation.html">tessellation</a>. The inputs for the domain-shader stage come from a hull shader. This topic shows how to create a domain shader.</p>
<p>A domain shader transforms surface geometry (created by the fixed-function tessellator stage) using hull shader output-control points, hull shader output patch-constant data, and a single set of tessellator uv coordinates.</p>
<p><strong>To create a domain shader</strong></p>
<ol>
<li>
<p>Design a domain shader. See <a href="direct3d-11-advanced-stages-domain-shader-design.html">How To: Design a Domain Shader</a>.</p>
</li>
<li>
<p>Compile the shader code.</p>
</li>
<li>
<p>Create a domain-shader object using <a href="/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createdomainshader"><strong>ID3D11Device::CreateDomainShader</strong></a>.</p>
<pre><code>HRESULT CreateDomainShader(
  const void *pShaderBytecode, // 
  SIZE_T BytecodeLength, // 
  ID3D11ClassLinkage *pClassLinkage, // 
  ID3D11DomainShader **ppDomainShader
);
</code></pre>
</li>
<li>
<p>Initialize the pipeline stage using <a href="/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-dssetshader"><strong>ID3D11DeviceContext::DSSetShader</strong></a>.</p>
<pre><code>void DSSetShader(
  ID3D11DomainShader *pDomainShader, // 
  ID3D11ClassInstance *const *ppClassInstances,
  UINT NumClassInstances
);
</code></pre>
</li>
</ol>
<p>A domain shader must be bound to the pipeline if a hull shader is bound. In particular, it is not valid to directly stream out hull shader control points with the geometry shader.</p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="how-to-use-direct3d-11.html">How to Use Direct3D 11</a></p>
<!-- raw HTML omitted -->
<p><a href="direct3d-11-advanced-stages-tessellation.html">Tessellation Overview</a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
