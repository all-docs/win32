<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Client Properties</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Windows Portable Devices supports the following client properties.
ms.assetid: 6ab75b58-7216-47f6-97fa-0c8fff656eb0
title: Client Properties (PortableDevice.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>Client
api_type:</li>
<li>HeaderDef
api_location:</li>
<li>PortableDevice.h</li>
</ul>
<hr />
<h1>Client Properties</h1>
<p>Windows Portable Devices supports the following client properties.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>VarType</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>WPD_CLIENT_DESIRED_ACCESS</strong></td>
<td><strong>VT_UI4</strong></td>
<td>A value that specifies that the client requires unique access permissions, such as GENERIC_READ only. If this property is not set, WPD assumes GENERIC_READ | GENERIC_WRITE, which is the recommended default.</td>
</tr>
<tr>
<td><strong>WPD_CLIENT_MAJOR_VERSION</strong></td>
<td><strong>VT_UI4</strong></td>
<td>A number that specifies the major version of the client.</td>
</tr>
<tr>
<td><strong>WPD_CLIENT_MINOR_VERSION</strong></td>
<td><strong>VT_UI4</strong></td>
<td>A number that specifies the minor version of the client.</td>
</tr>
<tr>
<td><strong>WPD_CLIENT_NAME</strong></td>
<td><strong>VT_LPWSTR</strong></td>
<td>A name string for the client application.</td>
</tr>
<tr>
<td><strong>WPD_CLIENT_REVISION</strong></td>
<td><strong>VT_UI4</strong></td>
<td>A number that specifies the revision (or build number) of the client.</td>
</tr>
<tr>
<td><strong>WPD_CLIENT_SECURITY_QUALITY_OF_SERVICE</strong></td>
<td><strong>VT_UI4</strong></td>
<td>A value that specifies the security quality of service for the connection to the driver. This relates to the Security Quality of Service flags for <strong>CreateFile</strong>.<!-- raw HTML omitted --> For example, these flags allow or disallow a driver to impersonate the client. SECURITY_IDENTIFICATION is assumed if this value is not provided. Typically, applications should set this value to SECURITY_IMPERSONATION, since some drivers will require impersonation in order to function. However, applications running under strict security requirements with a known subset of devices may want to restrict the driver's ability to identify or impersonate the caller. Note that reducing the impersonation level to anything lower than SECURITY_IMPERSONATION may result in some drivers having reduced functionality.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><strong>WPD_CLIENT_SHARE_MODE</strong></td>
<td><strong>VT_UI4</strong></td>
<td>A value that specifies the share mode the client is requesting from the driver. The possible values are the same as for <strong>CreateFile</strong>, for example, FILE_SHARE_READ, FILE_SHARE_WRITE, and so on.<!-- raw HTML omitted --> FILE_SHARE_READ | FILE_SHARE_WRITE is assumed if the client does not specify this parameter. This is the recommended default. However, where a different share mode is required, for example, FILE_SHARE_READ to request read sharing only, this parameter is required.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td><strong>WPD_CLIENT_WMDRM_APPLICATION_PRIVATE_KEY</strong></td>
<td><strong>VT_VECTOR_|VT_UI1</strong></td>
<td>A value that specifies the Windows Media DRM application private key of the client.</td>
</tr>
<tr>
<td><strong>WPD_CLIENT_WMDRM_APPLICATION_CERTIFICATE</strong></td>
<td><strong>VT_VECTOR_|VT_UI1</strong></td>
<td>A value that specifies the Windows Media DRM certificate of the client.</td>
</tr>
<tr>
<td><strong>WPD_CLIENT_EVENT_COOKIE</strong></td>
<td><strong>VT_LPWSTR</strong></td>
<td>A Client supplied cookie returned by the driver in events posted as a direct result of operations issued by this client. This is an optional property which the driver may supply as an event parameter. Clients typically use this value to optimize their event handling. For example if the client deletes an object, its event handler may choose to ignore the resulting event knowing that it already took the appropriate action (e.g. updated the view in the thread that issued the delete).</td>
</tr>
<tr>
<td><strong>WPD_CLIENT_MINIMUM_RESULTS_BUFFER_SIZE</strong></td>
<td><strong>VT_UI4</strong></td>
<td>Specifies the minimum buffer size (in bytes) for sending commands to the driver. Clients can use this option to recommend the minimum size of the internal buffer that is used for sending commands to the driver. This can result in a smaller memory footprint for clients that only send commands with small data sizes, such as getting or setting properties. The driver can override this buffer size by setting <strong>PortableDeviceResultsBufferMin</strong> in its Device Parameters section. This buffer size must be 1024 or above. If neither the client nor the driver sets the buffer size, it defaults to 1 MB.</td>
</tr>
<tr>
<td><strong>WPD_CLIENT_MANUAL_CLOSE_ON_DISCONNECT</strong></td>
<td><strong>VT_BOOL</strong></td>
<td>An advanced option for clients that manually call <strong>IPortableDevice::Close</strong> or <strong>IPortableDeviceService::Close</strong> for each disconnected object, instead of relying on the API to do this. FALSE is assumed if the client does not specify this parameter. This is the recommended default if the client is not listening for <strong>WM_DEVICECHANGE</strong> messages. Clients that specify this option typically listen for <strong>WM_DEVICECHANGE</strong> messages for the device and then manually close the <strong>IPortableDevice</strong> and <strong>IPortableDeviceService</strong> instances on device disconnect. Clients that choose this option must carefully manage the lifetime of each <strong>IPortableDevice</strong> and <strong>IPortableDeviceService</strong> instance by releasing these objects when the device is disconnected. Failure to do so will result in leaks in the WUDFHost.exe processes for the driver.</td>
</tr>
</tbody>
</table>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->PortableDevice.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="properties-and-attributes.html"><strong>WPD Properties and Attributes</strong></a></p>
<!-- raw HTML omitted -->
</body>
