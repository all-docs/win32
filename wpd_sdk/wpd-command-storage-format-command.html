<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>WPD_COMMAND_STORAGE_FORMAT Command</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: The WPD_COMMAND_STORAGE_FORMAT command formats a storage functional object on the device.
ms.assetid: 5dc06ed3-791f-4c6b-9fb3-42452e948e0d
title: WPD_COMMAND_STORAGE_FORMAT Command (PortableDevice.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>WPD_COMMAND_STORAGE_FORMAT
api_type:</li>
<li>HeaderDef
api_location:</li>
<li>PortableDevice.h</li>
</ul>
<hr />
<h1>WPD_COMMAND_STORAGE_FORMAT Command</h1>
<p>The <strong>WPD_COMMAND_STORAGE_FORMAT</strong> command formats a storage functional object on the device.</p>
<h2>Command category</h2>
<p><strong>WPD_CATEGORY_STORAGE</strong></p>
<h2>Parameters</h2>
<p>The driver expects the following parameters.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>VarType</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>WPD_PROPERTY_STORAGE_OBJECT_ID</td>
<td>VT_LPWSTR</td>
<td>Required. The object ID of the storage medium to format.</td>
</tr>
</tbody>
</table>
<h2>Return Value</h2>
<p>The driver should return the following results.</p>
<table>
<thead>
<tr>
<th>Result</th>
<th>VarType</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>WPD_PROPERTY_COMMON_HRESULT</strong></td>
<td>VT_ERROR</td>
<td>Required. An <strong>HRESULT</strong> that indicates success or failure to carry out the command. If the caller is making an invalid request, the driver should return <strong>HRESULT_FROM_WIN32(ERROR_NOT_SUPPORTED)</strong> and is not required to return any other result values. Error codes include <a href="error-constants.html">Windows Portable Devices error codes</a> or any other appropriate error codes.</td>
</tr>
<tr>
<td><strong>WPD_PROPERTY_COMMON_DRIVER_ERROR_CODE</strong></td>
<td>VT_UI4</td>
<td>Optional. A driver-specific error code. This is typically only used for driver testing, or if the driver, device, and client are all designed together.</td>
</tr>
</tbody>
</table>
<h2>Calling Methods</h2>
<p>Can only be called directly using <a href="/windows/desktop/api/PortableDeviceApi/nf-portabledeviceapi-iportabledevice-sendcommand"><strong>IPortableDevice::SendCommand</strong></a>.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->PortableDevice.h<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="commands.html"><strong>Commands</strong></a></p>
<!-- raw HTML omitted -->
</body>
