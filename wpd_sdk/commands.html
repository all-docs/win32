<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Commands (WPD API)</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: Commands
ms.assetid: f579745a-5327-4c8b-bfa7-fe81d9657a3b
title: Commands (WPD API)
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Commands (WPD API)</h1>
<p>The client application and the driver communicate by means of commands that are sent from the client (via the Windows Portable Device API) to the driver (via the User-Mode Driver Framework). A command may or may not include a parameter, and may or may not return a result. A client can send a command explicitly, by calling either the <a href="/windows/desktop/api/PortableDeviceApi/nf-portabledeviceapi-iportabledevice-sendcommand"><strong>IPortableDevice::SendCommand</strong></a> method or the <strong>IPortableDeviceService:SendCommand</strong> method, or implicitly, by calling any of the methods of the client interfaces. A few commands can only be sent explicitly; these are noted in the command's documentation. The command reference pages describe the purpose of a command, as well as what parameters it expects to receive, and what parameters it is expected to return.</p>
<p>A command is identified by a <strong>PROPERTYKEY</strong> structure. This is made up of two parts: a GUID part (the <em>fmtid</em> member) and a DWORD part (the <em>pid</em> member). The GUID part is used to indicate the category the command belongs to (related commands belong to the same category, and therefore will have the same <em>fmtid</em>). The DWORD part indicates the command ID, and is used to distinguish the individual commands within a command category (the <em>pid</em> values for commands in the same category will be different).</p>
<p>The following table lists the categories of commands that Windows Portable Devices defines. Device manufacturers can define their own commands by creating their own command categories and command IDs. However, a manufacturer should not add commands to the categories listed below, since these are reserved by Microsoft.</p>
<p><strong>Command Categories</strong></p>
<table>
<thead>
<tr>
<th>Command category</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>WPD_CATEGORY_COMMON</strong></td>
<td>Commands that are common to all objects and devices.</td>
</tr>
<tr>
<td><strong>WPD_CATEGORY_DEVICE_HINTS</strong></td>
<td>Commands that are used to retrieve optional device information that can be used to improve end-user experience.</td>
</tr>
<tr>
<td><strong>WPD_CATEGORY_SMS</strong></td>
<td>Commands that are used for devices that support short message service (SMS) functionality, which is typically exposed on mobile phones.</td>
</tr>
<tr>
<td><strong>WPD_CATEGORY_STILL_IMAGE_CAPTURE</strong></td>
<td>Commands that are used for devices that support still image capture.</td>
</tr>
<tr>
<td><strong>WPD_CATEGORY_STORAGE</strong></td>
<td>Commands that are used for storage functional objects.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p>The specific commands that are defined for each of these types are given in the following tables, organized by command type.</p>
<p><strong>WPD_CATEGORY_COMMON Category</strong></p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="wpd-command-common-reset-device-command.html"><strong>WPD_COMMAND_COMMON_RESET_DEVICE</strong></a></td>
<td>Resets the device.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p><strong>WPD_CATEGORY_DEVICE_HINTS Category</strong></p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="wpd-command-device-hints-get-content-location-command.html"><strong>WPD_COMMAND_DEVICE_HINTS_GET_CONTENT_LOCATION</strong></a></td>
<td>Retrieves the object IDs of folders that can hold an object of a specified type.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p><strong>WPD_CATEGORY_STORAGE Category</strong></p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="wpd-command-storage-eject-command.html"><strong>WPD_COMMAND_STORAGE_EJECT</strong></a></td>
<td>Ejects a storage medium that can be ejected remotely by the driver.</td>
</tr>
<tr>
<td><a href="wpd-command-storage-format-command.html"><strong>WPD_COMMAND_STORAGE_FORMAT</strong></a></td>
<td>Formats a storage functional object on the device.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p><strong>WPD_CATEGORY_SMS Category</strong></p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="wpd-command-sms-send-command.html"><strong>WPD_COMMAND_SMS_SEND</strong></a></td>
<td>Initiates the sending of an SMS message by an SMS functional object.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<p><strong>WPD_CATEGORY_STILL_IMAGE_CAPTURE Category</strong></p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="wpd-command-still-image-capture-initiate-command.html"><strong>WPD_COMMAND_STILL_IMAGE_CAPTURE_INITIATE</strong></a></td>
<td>Initiates a still image capture by a still image functional object.</td>
</tr>
</tbody>
</table>
<p>Â </p>
<h2>Related topics</h2>
<!-- raw HTML omitted -->
<p><a href="programming-reference.html"><strong>Programming Reference</strong></a></p>
<!-- raw HTML omitted -->
<p>Â </p>
<p>Â </p>
</body>
