<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Simple Shadow Copy Creation for Backup</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: There are a number of different types of shadow copy a requester can create.
ms.assetid: a20570ea-e3eb-4d65-b8fa-9a27ce1a3e74
title: Simple Shadow Copy Creation for Backup
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Simple Shadow Copy Creation for Backup</h1>
<p>There are a number of different types of shadow copy a requester can create. However, for most backup applications, you would do the following:</p>
<ol>
<li>Call <a href="/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setcontext"><strong>IVssBackupComponents::SetContext</strong></a> with a context of VSS_CTX_BACKUP.</li>
<li>Call <a href="/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata"><strong>IVssBackupComponents::GatherWriterMetadata</strong></a> to initialize communication with writers.</li>
<li>Call <a href="/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent"><strong>IVssBackupComponents::AddComponent</strong></a> to add file and database components to the backup.</li>
<li>Call <a href="/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-startsnapshotset"><strong>IVssBackupComponents::StartSnapshotSet</strong></a> to initialize the shadow copy mechanism.</li>
<li>Call <a href="/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addtosnapshotset"><strong>IVssBackupComponents::AddToSnapshotSet</strong></a> to include volumes in the shadow copy.</li>
<li>Call <a href="/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup"><strong>IVssBackupComponents::PrepareForBackup</strong></a> to notify writers of backup operations.</li>
</ol>
<p>Â </p>
<p>Â </p>
</body>
