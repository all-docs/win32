<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Using Tracing Tools with ASR Applications</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<h2>description: You can use the Logman tool to collect tracing information for VSS applications that use Automated System Recovery (ASR).
ms.assetid: 872609c8-a123-40a8-96ca-58f34d37f3d8
title: Using Tracing Tools with ASR Applications
ms.topic: article
ms.date: 05/31/2018</h2>
<h1>Using Tracing Tools with ASR Applications</h1>
<p>You can use the Logman tool to collect tracing information for VSS applications that use <a href="using-vss-automated-system-recovery-for-disaster-recovery.html">Automated System Recovery (ASR)</a>. Logman (logman.exe) is a trace controller for trace events and performance counters. It is included in WindowsÂ XP and later versions of Windows. Or, if you prefer, you can use the Tracelog tool to collect the same ASR tracing information. Tracelog is included in the Windows Driver Kit (WDK).</p>
<p>To use tracing tools with VSS, see <a href="using-tracing-tools-with-vss.html">Using Tracing Tools with VSS</a>.</p>
<h2>Using Logman</h2>
<p>The following procedure describes how to use Logman with your ASR application.</p>
<p><strong>To use Logman with your ASR application</strong></p>
<ol>
<li>
<p>Use the following command to start tracing:</p>
<p><strong>logman start asr -o</strong> *x:\*<strong>asr.etl -ets -p {6407345b-94f2-44c8-b3db-4e076be46816} 0xff 0xff</strong></p>
<blockquote>
<p>[!Note]<br />
Replace &quot;x:\&quot; with the path to the directory where you would like the trace log file to be stored. For best performance, the trace log file should be located on a volume that is not part of the shadow copy.</p>
</blockquote>
<p>Â </p>
</li>
<li>
<p>Use the following command to stop tracing:</p>
<p><strong>logman stop asr -ets</strong></p>
</li>
</ol>
<p>The trace log file is *x:\*asr.etl.</p>
<p>For more information about the Logman tool, see <a href="/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/cc753820(v=ws.11)">Logman</a>.</p>
<h2>Using Tracelog</h2>
<p>The following procedure describes how to use Tracelog.</p>
<p><strong>To use Tracelog</strong></p>
<ol>
<li>
<p>Create a text file named asr.ctl that contains only the following text:</p>
<p><strong>6407345b-94f2-44c8-b3db-4e076be46816 asr</strong></p>
</li>
<li>
<p>Use the following command to start tracing:</p>
<p><strong>tracelog -start asr -f</strong> *x:\*<strong>asr.etl -guid asr.ctl -flag 0xff -level 0xff</strong></p>
<blockquote>
<p>[!Note]<br />
Replace &quot;x:\&quot; with the path to the directory where you would like the trace log file to be stored. For best performance, the trace log file should be located on a volume that is not part of the shadow copy.</p>
</blockquote>
<p>Â </p>
</li>
<li>
<p>Use the following command to stop tracing:</p>
<p><strong>tracelog -stop asr</strong></p>
</li>
</ol>
<p>The trace log file is *x:\*asr.etl.</p>
<p>For more information about the Tracelog tool, see <a href="https://msdn.microsoft.com/library/ms797927.aspx">Tracelog</a>.</p>
<p>Â </p>
<p>Â </p>
</body>
