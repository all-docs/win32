<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>InkRecognizerContext class</title>
<style>
table th { border: 1px solid; }
table td { border: 1px solid; }
</style>
</head>
<body>
<hr />
<p>description: Enables the ability to perform ink recognition, retrieve the recognition result, and retrieve alternates. The InkRecognizerContext enables the various recognizer that are installed on a system to use ink recognition to process input appropriately.
ms.assetid: 2b39fd32-831d-4606-8600-b52aaa7ed882
title: InkRecognizerContext class (Msinkaut.h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:</p>
<ul>
<li>APIRef</li>
<li>kbSyntax
api_name:</li>
<li>InkRecognizerContext</li>
<li>InkRecognizerContext.IInkRecognizerContext
api_type:</li>
<li>COM
api_location:</li>
<li>InkObj.dll</li>
<li>InkObj.dll.dll</li>
</ul>
<hr />
<h1>InkRecognizerContext class</h1>
<p>Enables the ability to perform ink recognition, retrieve the recognition result, and retrieve alternates. The <strong>InkRecognizerContext</strong> enables the various recognizer that are installed on a system to use ink recognition to process input appropriately.</p>
<p><strong>InkRecognizerContext</strong> has these types of members:</p>
<ul>
<li><a href="#events">Events</a></li>
<li><a href="#interfaces">Interfaces</a></li>
<li><a href="#methods">Methods</a></li>
<li><a href="#properties">Properties</a></li>
</ul>
<h3>Events</h3>
<p>The <strong>InkRecognizerContext</strong> class has these events.</p>
<table>
<thead>
<tr>
<th align="left">Event</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="inkrecognizercontext-recognition.html"><strong>Recognition</strong></a></td>
<td align="left">Occurs when the InkRecognizerContext has generated results from the BackgroundRecognize method.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="inkrecognizercontext-recognitionwithalternates.html"><strong>RecognitionWithAlternates</strong></a></td>
<td align="left">Occurs when the <strong>InkRecognizerContext</strong> has generated results after calling the <a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognizewithalternates"><strong>BackgroundRecognizeWithAlternates</strong></a> method<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h3>Interfaces</h3>
<p>The <strong>InkRecognizerContext</strong> class defines these interfaces.</p>
<table>
<thead>
<tr>
<th align="left">Interface</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>IInkRecognizerContext</strong></td>
<td align="left">This object implements the <strong>IInkRecognizerContext</strong> COM interface.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h3>Methods</h3>
<p>The <strong>InkRecognizerContext</strong> class has these methods.</p>
<table>
<thead>
<tr>
<th align="left">Method</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognize"><strong>BackgroundRecognize</strong></a></td>
<td align="left">Specifies that the recognizer should recognize the associated strokes and fire a <a href="inkrecognizercontext-recognition.html"><strong>Recognition</strong></a> event when recognition is complete.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognizewithalternates"><strong>BackgroundRecognizeWithAlternates</strong></a></td>
<td align="left">Specifies that the recognizer should recognize the associated strokes and fire a <a href="inkrecognizercontext-recognitionwithalternates.html"><strong>RecognitionWithAlternates</strong></a> event when recognition is complete.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkdisp-clone"><strong>Clone</strong></a></td>
<td align="left">Creates a duplicate <strong>InkRecognizerContext</strong>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-endinkinput"><strong>EndInkInput</strong></a></td>
<td align="left">Ends ink input to the <strong>InkRecognizerContext</strong>.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-isstringsupported"><strong>IsStringSupported</strong></a></td>
<td align="left">Indicates whether the system dictionary, user dictionary, or <a href="inkwordlist-class.html"><strong>word list</strong></a> contain a specified string.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-recognize"><strong>Recognize</strong></a></td>
<td align="left">Performs recognition on an <a href="/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)"><strong>InkStrokes</strong></a> collection and returns recognition results.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-stopbackgroundrecognition"><strong>StopBackgroundRecognition</strong></a></td>
<td align="left">Ends background recognition that was started with a call to <a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognize"><strong>BackgroundRecognize</strong></a> or <a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognizewithalternates"><strong>BackgroundRecognizeWithAlternates</strong></a>.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<p>The <strong>InkRecognizerContext</strong> class has these properties.</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Access type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="/windows/win32/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_characterautocompletionmode"><strong>CharacterAutoCompletion</strong></a><!-- raw HTML omitted --></td>
<td align="left">Read/write<!-- raw HTML omitted --></td>
<td align="left">Gets or sets the character Autocomplete mode, which determines when characters or words are recognized.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_factoid"><strong>Factoid</strong></a><!-- raw HTML omitted --></td>
<td align="left">Read/write<!-- raw HTML omitted --></td>
<td align="left">Gets or sets the string name of the factoid used by the <strong>InkRecognizerContext</strong> object.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_guide"><strong>Guide</strong></a><!-- raw HTML omitted --></td>
<td align="left">Read/write<!-- raw HTML omitted --></td>
<td align="left">Gets or sets the <a href="inkrecognizerguide-class.html"><strong>InkRecognizerGuide</strong></a> to use for ink input.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_prefixtext"><strong>PrefixText</strong></a><!-- raw HTML omitted --></td>
<td align="left">Read/write<!-- raw HTML omitted --></td>
<td align="left">Gets or sets the characters that come before the <a href="/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)"><strong>InkStrokes</strong></a> collection in the <strong>InkRecognizerContext</strong> object.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_recognitionflags"><strong>RecognitionFlags</strong></a><!-- raw HTML omitted --></td>
<td align="left">Read/write<!-- raw HTML omitted --></td>
<td align="left">Gets or sets the flags that specify how the recognizer interprets the ink and determines the result string.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_recognizer"><strong>Recognizer</strong></a><!-- raw HTML omitted --></td>
<td align="left">Read/write<!-- raw HTML omitted --></td>
<td align="left">Gets or sets the <a href="/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognizer"><strong>IInkRecognizer</strong></a> object used by the <strong>InkRecognizerContext</strong> object.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_strokes"><strong>Strokes</strong></a><!-- raw HTML omitted --></td>
<td align="left">Read/write<!-- raw HTML omitted --></td>
<td align="left">Gets or sets the <a href="/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)"><strong>InkStrokes</strong></a> collection associated with the <strong>InkRecognizerContext</strong> object.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_suffixtext"><strong>SuffixText</strong></a><!-- raw HTML omitted --></td>
<td align="left">Read/write<!-- raw HTML omitted --></td>
<td align="left">Gets or sets the characters that come after the <a href="/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)"><strong>InkStrokes</strong></a> collection in the <strong>InkRecognizerContext</strong> object.<!-- raw HTML omitted --></td>
</tr>
<tr>
<td align="left"><a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_wordlist"><strong>WordList</strong></a><!-- raw HTML omitted --></td>
<td align="left">Read/write<!-- raw HTML omitted --></td>
<td align="left">Gets or sets the <a href="inkwordlist-class.html"><strong>InkWordList</strong></a> object that is used to improve the recognition results.<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>Remarks</h2>
<p>This object can be instantiated by calling the <a href="/windows/desktop/api/combaseapi/nf-combaseapi-cocreateinstance"><strong>CoCreateInstance</strong></a> method in C++.</p>
<p>There are two types of recognition: background (asynchronous) or foreground (synchronous). Background recognition is started by a call to the <a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognize"><strong>BackgroundRecognize</strong></a> or <a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognizewithalternates"><strong>BackgroundRecognizeWithAlternates</strong></a> methods, occurs on a background thread, and reports results to the application through an event mechanism. Foreground recognition does not return until all recognition is completed, thus making recognition results available to the calling thread without listening for the recognition event.</p>
<p>Ink is processed continuously in the background. If an <a href="/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp"><strong>IInkStrokeDisp</strong></a> is added to the <a href="/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)">InkStrokes</a> collection to which the <strong>InkRecognizerContext</strong> refers, then the <strong>IInkStrokeDisp</strong> is then recognized immediately. See remarks in the <a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-endinkinput"><strong>EndInkInput</strong></a> method topic for more details.</p>
<p>All recognition occurs through a recognizer context. The context defines the settings for a single recognition session. It receives the ink that must be recognized and defines the constraints on the ink input and on the recognition output. The constraints that can be set on the context include the language, the dictionary, and grammar that is being used.</p>
<blockquote>
<p>[!Note]<br />
Setting properties other than the <a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_strokes"><strong>Strokes</strong></a> or <a href="/windows/win32/api/msinkaut/nf-msinkaut-iinkrecognizercontext-get_characterautocompletionmode"><strong>CharacterAutoCompletion</strong></a> properties succeeds only if the <a href="/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)">InkStrokes</a> collection is <strong>NULL</strong>. You must set the other properties before you attach the InkStrokes collection to the <strong>InkRecognizerContext</strong>, or you must set the InkStrokes collection to <strong>NULL</strong> and then set the other properties. If you set the InkStrokes collection to <strong>NULL</strong> and then set the other properties, you may have to reattach the InkStrokes collection. This is because the recognition starts right after you assign the InkStrokes to the <strong>InkRecognizerContext</strong>. When a call is made to <a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-recognize"><strong>Recognize Method [InkRecognizeContext Class]</strong></a> or <a href="/windows/desktop/api/msinkaut/nf-msinkaut-iinkrecognizercontext-backgroundrecognize"><strong>BackgroundRecognize</strong></a>, call results might be available already.</p>
</blockquote>
<p>To improve your application's performance, dispose of your <strong>InkRecognizerContext</strong> object when it is no longer needed.</p>
<h2>Requirements</h2>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<!-- raw HTML omitted --></td>
<td>Windows XP Tablet PC Edition [desktop apps only]<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Minimum supported server<!-- raw HTML omitted --></td>
<td>None supported<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Header<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->Msinkaut.h (also requires Msinkaut_i.c)<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
<tr>
<td>Library<!-- raw HTML omitted --></td>
<td><!-- raw HTML omitted --> <!-- raw HTML omitted -->InkObj.dll<!-- raw HTML omitted --> <!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<h2>See also</h2>
<!-- raw HTML omitted -->
<p><a href="/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognizer"><strong>IInkRecognizer Interface</strong></a></p>
<!-- raw HTML omitted -->
<p><a href="/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)">InkStrokes Collection</a></p>
<!-- raw HTML omitted -->
</body>
